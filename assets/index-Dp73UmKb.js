(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var mm={exports:{}},Xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function TR(){if(Nv)return Xl;Nv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Xl.Fragment=e,Xl.jsx=n,Xl.jsxs=n,Xl}var Ov;function SR(){return Ov||(Ov=1,mm.exports=TR()),mm.exports}var Ye=SR(),pm={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function wR(){if(Mv)return qe;Mv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,$={};function G(O,ee,ce){this.props=O,this.context=ee,this.refs=$,this.updater=ce||N}G.prototype.isReactComponent={},G.prototype.setState=function(O,ee){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ee,"setState")},G.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function W(){}W.prototype=G.prototype;function fe(O,ee,ce){this.props=O,this.context=ee,this.refs=$,this.updater=ce||N}var ne=fe.prototype=new W;ne.constructor=fe,U(ne,G.prototype),ne.isPureReactComponent=!0;var me=Array.isArray,de={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function M(O,ee,ce,oe,we,Be){return ce=Be.ref,{$$typeof:r,type:O,key:ee,ref:ce!==void 0?ce:null,props:Be}}function R(O,ee){return M(O.type,ee,void 0,void 0,void 0,O.props)}function b(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function P(O){var ee={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ce){return ee[ce]})}var x=/\/+/g;function L(O,ee){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):ee.toString(36)}function I(){}function je(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(I,I):(O.status="pending",O.then(function(ee){O.status==="pending"&&(O.status="fulfilled",O.value=ee)},function(ee){O.status==="pending"&&(O.status="rejected",O.reason=ee)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function et(O,ee,ce,oe,we){var Be=typeof O;(Be==="undefined"||Be==="boolean")&&(O=null);var De=!1;if(O===null)De=!0;else switch(Be){case"bigint":case"string":case"number":De=!0;break;case"object":switch(O.$$typeof){case r:case e:De=!0;break;case v:return De=O._init,et(De(O._payload),ee,ce,oe,we)}}if(De)return we=we(O),De=oe===""?"."+L(O,0):oe,me(we)?(ce="",De!=null&&(ce=De.replace(x,"$&/")+"/"),et(we,ee,ce,"",function(er){return er})):we!=null&&(b(we)&&(we=R(we,ce+(we.key==null||O&&O.key===we.key?"":(""+we.key).replace(x,"$&/")+"/")+De)),ee.push(we)),1;De=0;var Lt=oe===""?".":oe+":";if(me(O))for(var pt=0;pt<O.length;pt++)oe=O[pt],Be=Lt+L(oe,pt),De+=et(oe,ee,ce,Be,we);else if(pt=w(O),typeof pt=="function")for(O=pt.call(O),pt=0;!(oe=O.next()).done;)oe=oe.value,Be=Lt+L(oe,pt++),De+=et(oe,ee,ce,Be,we);else if(Be==="object"){if(typeof O.then=="function")return et(je(O),ee,ce,oe,we);throw ee=String(O),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return De}function K(O,ee,ce){if(O==null)return O;var oe=[],we=0;return et(O,oe,"","",function(Be){return ee.call(ce,Be,we++)}),oe}function ue(O){if(O._status===-1){var ee=O._result;ee=ee(),ee.then(function(ce){(O._status===0||O._status===-1)&&(O._status=1,O._result=ce)},function(ce){(O._status===0||O._status===-1)&&(O._status=2,O._result=ce)}),O._status===-1&&(O._status=0,O._result=ee)}if(O._status===1)return O._result.default;throw O._result}var pe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function ze(){}return qe.Children={map:K,forEach:function(O,ee,ce){K(O,function(){ee.apply(this,arguments)},ce)},count:function(O){var ee=0;return K(O,function(){ee++}),ee},toArray:function(O){return K(O,function(ee){return ee})||[]},only:function(O){if(!b(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},qe.Component=G,qe.Fragment=n,qe.Profiler=o,qe.PureComponent=fe,qe.StrictMode=a,qe.Suspense=p,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=de,qe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return de.H.useMemoCache(O)}},qe.cache=function(O){return function(){return O.apply(null,arguments)}},qe.cloneElement=function(O,ee,ce){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var oe=U({},O.props),we=O.key,Be=void 0;if(ee!=null)for(De in ee.ref!==void 0&&(Be=void 0),ee.key!==void 0&&(we=""+ee.key),ee)!H.call(ee,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ee.ref===void 0||(oe[De]=ee[De]);var De=arguments.length-2;if(De===1)oe.children=ce;else if(1<De){for(var Lt=Array(De),pt=0;pt<De;pt++)Lt[pt]=arguments[pt+2];oe.children=Lt}return M(O.type,we,void 0,void 0,Be,oe)},qe.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},qe.createElement=function(O,ee,ce){var oe,we={},Be=null;if(ee!=null)for(oe in ee.key!==void 0&&(Be=""+ee.key),ee)H.call(ee,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(we[oe]=ee[oe]);var De=arguments.length-2;if(De===1)we.children=ce;else if(1<De){for(var Lt=Array(De),pt=0;pt<De;pt++)Lt[pt]=arguments[pt+2];we.children=Lt}if(O&&O.defaultProps)for(oe in De=O.defaultProps,De)we[oe]===void 0&&(we[oe]=De[oe]);return M(O,Be,void 0,void 0,null,we)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(O){return{$$typeof:m,render:O}},qe.isValidElement=b,qe.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:ue}},qe.memo=function(O,ee){return{$$typeof:g,type:O,compare:ee===void 0?null:ee}},qe.startTransition=function(O){var ee=de.T,ce={};de.T=ce;try{var oe=O(),we=de.S;we!==null&&we(ce,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ze,pe)}catch(Be){pe(Be)}finally{de.T=ee}},qe.unstable_useCacheRefresh=function(){return de.H.useCacheRefresh()},qe.use=function(O){return de.H.use(O)},qe.useActionState=function(O,ee,ce){return de.H.useActionState(O,ee,ce)},qe.useCallback=function(O,ee){return de.H.useCallback(O,ee)},qe.useContext=function(O){return de.H.useContext(O)},qe.useDebugValue=function(){},qe.useDeferredValue=function(O,ee){return de.H.useDeferredValue(O,ee)},qe.useEffect=function(O,ee,ce){var oe=de.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(O,ee)},qe.useId=function(){return de.H.useId()},qe.useImperativeHandle=function(O,ee,ce){return de.H.useImperativeHandle(O,ee,ce)},qe.useInsertionEffect=function(O,ee){return de.H.useInsertionEffect(O,ee)},qe.useLayoutEffect=function(O,ee){return de.H.useLayoutEffect(O,ee)},qe.useMemo=function(O,ee){return de.H.useMemo(O,ee)},qe.useOptimistic=function(O,ee){return de.H.useOptimistic(O,ee)},qe.useReducer=function(O,ee,ce){return de.H.useReducer(O,ee,ce)},qe.useRef=function(O){return de.H.useRef(O)},qe.useState=function(O){return de.H.useState(O)},qe.useSyncExternalStore=function(O,ee,ce){return de.H.useSyncExternalStore(O,ee,ce)},qe.useTransition=function(){return de.H.useTransition()},qe.version="19.1.1",qe}var Pv;function gp(){return Pv||(Pv=1,pm.exports=wR()),pm.exports}var Z=gp(),gm={exports:{}},Wl={},ym={exports:{}},_m={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function AR(){return Vv||(Vv=1,function(r){function e(K,ue){var pe=K.length;K.push(ue);e:for(;0<pe;){var ze=pe-1>>>1,O=K[ze];if(0<o(O,ue))K[ze]=ue,K[pe]=O,pe=ze;else break e}}function n(K){return K.length===0?null:K[0]}function a(K){if(K.length===0)return null;var ue=K[0],pe=K.pop();if(pe!==ue){K[0]=pe;e:for(var ze=0,O=K.length,ee=O>>>1;ze<ee;){var ce=2*(ze+1)-1,oe=K[ce],we=ce+1,Be=K[we];if(0>o(oe,pe))we<O&&0>o(Be,oe)?(K[ze]=Be,K[we]=pe,ze=we):(K[ze]=oe,K[ce]=pe,ze=ce);else if(we<O&&0>o(Be,pe))K[ze]=Be,K[we]=pe,ze=we;else break e}}return ue}function o(K,ue){var pe=K.sortIndex-ue.sortIndex;return pe!==0?pe:K.id-ue.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],v=1,S=null,w=3,N=!1,U=!1,$=!1,G=!1,W=typeof setTimeout=="function"?setTimeout:null,fe=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function me(K){for(var ue=n(g);ue!==null;){if(ue.callback===null)a(g);else if(ue.startTime<=K)a(g),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=n(g)}}function de(K){if($=!1,me(K),!U)if(n(p)!==null)U=!0,H||(H=!0,L());else{var ue=n(g);ue!==null&&et(de,ue.startTime-K)}}var H=!1,M=-1,R=5,b=-1;function P(){return G?!0:!(r.unstable_now()-b<R)}function x(){if(G=!1,H){var K=r.unstable_now();b=K;var ue=!0;try{e:{U=!1,$&&($=!1,fe(M),M=-1),N=!0;var pe=w;try{t:{for(me(K),S=n(p);S!==null&&!(S.expirationTime>K&&P());){var ze=S.callback;if(typeof ze=="function"){S.callback=null,w=S.priorityLevel;var O=ze(S.expirationTime<=K);if(K=r.unstable_now(),typeof O=="function"){S.callback=O,me(K),ue=!0;break t}S===n(p)&&a(p),me(K)}else a(p);S=n(p)}if(S!==null)ue=!0;else{var ee=n(g);ee!==null&&et(de,ee.startTime-K),ue=!1}}break e}finally{S=null,w=pe,N=!1}ue=void 0}}finally{ue?L():H=!1}}}var L;if(typeof ne=="function")L=function(){ne(x)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,je=I.port2;I.port1.onmessage=x,L=function(){je.postMessage(null)}}else L=function(){W(x,0)};function et(K,ue){M=W(function(){K(r.unstable_now())},ue)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(K){switch(w){case 1:case 2:case 3:var ue=3;break;default:ue=w}var pe=w;w=ue;try{return K()}finally{w=pe}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(K,ue){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var pe=w;w=K;try{return ue()}finally{w=pe}},r.unstable_scheduleCallback=function(K,ue,pe){var ze=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ze+pe:ze):pe=ze,K){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=pe+O,K={id:v++,callback:ue,priorityLevel:K,startTime:pe,expirationTime:O,sortIndex:-1},pe>ze?(K.sortIndex=pe,e(g,K),n(p)===null&&K===n(g)&&($?(fe(M),M=-1):$=!0,et(de,pe-ze))):(K.sortIndex=O,e(p,K),U||N||(U=!0,H||(H=!0,L()))),K},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(K){var ue=w;return function(){var pe=w;w=ue;try{return K.apply(this,arguments)}finally{w=pe}}}}(_m)),_m}var xv;function RR(){return xv||(xv=1,ym.exports=AR()),ym.exports}var vm={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function bR(){if(Lv)return _n;Lv=1;var r=gp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:v}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,_n.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},_n.flushSync=function(p){var g=f.T,v=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=g,a.p=v,a.d.f()}},_n.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},_n.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},_n.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,S=m(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:N}):v==="script"&&a.d.X(p,{crossOrigin:S,integrity:w,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},_n.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},_n.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,S=m(v,g.crossOrigin);a.d.L(p,v,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},_n.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},_n.requestFormReset=function(p){a.d.r(p)},_n.unstable_batchedUpdates=function(p,g){return p(g)},_n.useFormState=function(p,g,v){return f.H.useFormState(p,g,v)},_n.useFormStatus=function(){return f.H.useHostTransitionStatus()},_n.version="19.1.1",_n}var kv;function HT(){if(kv)return vm.exports;kv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),vm.exports=bR(),vm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function IR(){if(Uv)return Wl;Uv=1;var r=RR(),e=gp(),n=HT();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(a(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var E=!1,T=h.child;T;){if(T===s){E=!0,s=h,l=d;break}if(T===l){E=!0,l=h,s=d;break}T=T.sibling}if(!E){for(T=d.child;T;){if(T===s){E=!0,s=d,l=h;break}if(T===l){E=!0,l=d,s=h;break}T=T.sibling}if(!E)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),fe=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function je(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case G:return"Profiler";case $:return"StrictMode";case de:return"Suspense";case H:return"SuspenseList";case b:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case ne:return(t.displayName||"Context")+".Provider";case fe:return(t._context.displayName||"Context")+".Consumer";case me:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return i=t.displayName||null,i!==null?i:je(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return je(t(i))}catch{}}return null}var et=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ze=[],O=-1;function ee(t){return{current:t}}function ce(t){0>O||(t.current=ze[O],ze[O]=null,O--)}function oe(t,i){O++,ze[O]=t.current,t.current=i}var we=ee(null),Be=ee(null),De=ee(null),Lt=ee(null);function pt(t,i){switch(oe(De,i),oe(Be,t),oe(we,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?iv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=iv(i),t=av(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ce(we),oe(we,t)}function er(){ce(we),ce(Be),ce(De)}function At(t){t.memoizedState!==null&&oe(Lt,t);var i=we.current,s=av(i,t.type);i!==s&&(oe(Be,t),oe(we,s))}function pn(t){Be.current===t&&(ce(we),ce(Be)),Lt.current===t&&(ce(Lt),Gl._currentValue=pe)}var Mr=Object.prototype.hasOwnProperty,li=r.unstable_scheduleCallback,wn=r.unstable_cancelCallback,Ka=r.unstable_shouldYield,qs=r.unstable_requestPaint,An=r.unstable_now,Zo=r.unstable_getCurrentPriorityLevel,Ya=r.unstable_ImmediatePriority,Fi=r.unstable_UserBlockingPriority,ui=r.unstable_NormalPriority,Sr=r.unstable_LowPriority,tr=r.unstable_IdlePriority,Gi=r.log,Ki=r.unstable_setDisableYieldValue,ot=null,Fe=null;function gn(t){if(typeof Gi=="function"&&Ki(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ot,t)}catch{}}var kt=Math.clz32?Math.clz32:Pr,Fs=Math.log,nr=Math.LN2;function Pr(t){return t>>>=0,t===0?32:31-(Fs(t)/nr|0)|0}var Vr=256,xr=4194304;function Hn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ci(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Hn(l):(E&=T,E!==0?h=Hn(E):s||(s=T&~t,s!==0&&(h=Hn(s))))):(T=l&~d,T!==0?h=Hn(T):E!==0?h=Hn(E):s||(s=l&~t,s!==0&&(h=Hn(s)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:h}function rr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Yi(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hi(){var t=Vr;return Vr<<=1,(Vr&4194048)===0&&(Vr=256),t}function Qa(){var t=xr;return xr<<=1,(xr&62914560)===0&&(xr=4194304),t}function ir(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function wr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qi(t,i,s,l,h,d){var E=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,q=t.hiddenUpdates;for(s=E&~s;0<s;){var J=31-kt(s),re=1<<J;T[J]=0,C[J]=-1;var Y=q[J];if(Y!==null)for(q[J]=null,J=0;J<Y.length;J++){var Q=Y[J];Q!==null&&(Q.lane&=-536870913)}s&=~re}l!==0&&Rn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~i))}function Rn(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-kt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function Lr(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-kt(s),h=1<<l;h&i|t[l]&i&&(t[l]|=i),s&=~h}}function kr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function $i(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function D(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:Av(t.type))}function z(t,i){var s=ue.p;try{return ue.p=t,i()}finally{ue.p=s}}var F=Math.random().toString(36).slice(2),ie="__reactFiber$"+F,le="__reactProps$"+F,ge="__reactContainer$"+F,Ae="__reactEvents$"+F,ve="__reactListeners$"+F,Ee="__reactHandles$"+F,Ie="__reactResources$"+F,Te="__reactMarker$"+F;function Se(t){delete t[ie],delete t[le],delete t[Ae],delete t[ve],delete t[Ee]}function He(t){var i=t[ie];if(i)return i;for(var s=t.parentNode;s;){if(i=s[ge]||s[ie]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=uv(t);t!==null;){if(s=t[ie])return s;t=uv(t)}return i}t=s,s=t.parentNode}return null}function at(t){if(t=t[ie]||t[ge]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Et(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function lt(t){var i=t[Ie];return i||(i=t[Ie]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ke(t){t[Te]=!0}var ut=new Set,Vn={};function on(t,i){Wt(t,i),Wt(t+"Capture",i)}function Wt(t,i){for(Vn[t]=i,t=0;t<i.length;t++)ut.add(i[t])}var bn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xi={},jn={};function ar(t){return Mr.call(jn,t)?!0:Mr.call(Xi,t)?!1:bn.test(t)?jn[t]=!0:(Xi[t]=!0,!1)}function qn(t,i,s){if(ar(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function In(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function xe(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}var It,fi;function Cn(t){if(It===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);It=i&&i[1]||"",fi=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+It+t+fi}var St=!1;function Ar(t,i){if(!t||St)return"";St=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Q){var Y=Q}Reflect.construct(t,[],re)}else{try{re.call()}catch(Q){Y=Q}t.call(re.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(re=t())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],T=d[1];if(E&&T){var C=E.split(`
`),q=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===q.length)for(l=C.length-1,h=q.length-1;1<=l&&0<=h&&C[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==q[h]){var J=`
`+C[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{St=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Cn(s):""}function Wi(t){switch(t.tag){case 26:case 27:case 5:return Cn(t.type);case 16:return Cn("Lazy");case 13:return Cn("Suspense");case 19:return Cn("SuspenseList");case 0:case 15:return Ar(t.type,!1);case 11:return Ar(t.type.render,!1);case 1:return Ar(t.type,!0);case 31:return Cn("Activity");default:return""}}function Zi(t){try{var i="";do i+=Wi(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function _f(t){var i=Jo(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Gs(t){t._valueTracker||(t._valueTracker=_f(t))}function el(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=Jo(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function $a(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vf=/[\n"\\]/g;function Ut(t){return t.replace(vf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Fn(t,i,s,l,h,d,E,T){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Dn(i)):t.value!==""+Dn(i)&&(t.value=""+Dn(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?Ji(t,E,Dn(i)):s!=null?Ji(t,E,Dn(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Dn(T):t.removeAttribute("name")}function Xa(t,i,s,l,h,d,E,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+Dn(s):"",i=i!=null?""+Dn(i):s,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Ji(t,i,s){i==="number"&&$a(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function di(t,i,s,l){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Dn(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function gt(t,i,s){if(i!=null&&(i=""+Dn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Dn(s):""}function Wa(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(et(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=Dn(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function sr(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Za=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hu(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||Za.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function tl(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&Hu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Hu(t,d,i[d])}function nl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ef=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ks(t){return Tf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var mi=null;function or(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pi=null,gi=null;function rl(t){var i=at(t);if(i&&(t=i.stateNode)){var s=t[le]||null;e:switch(t=i.stateNode,i.type){case"input":if(Fn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ut(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var h=l[le]||null;if(!h)throw Error(a(90));Fn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&el(l)}break e;case"textarea":gt(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&di(t,!!s.multiple,i,!1)}}}var Ur=!1;function ju(t,i,s){if(Ur)return t(i,s);Ur=!0;try{var l=t(i);return l}finally{if(Ur=!1,(pi!==null||gi!==null)&&(xc(),pi&&(i=pi,t=gi,gi=pi=null,rl(i),t)))for(i=0;i<t.length;i++)rl(t[i])}}function Ja(t,i){var s=t.stateNode;if(s===null)return null;var l=s[le]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lr=!1;if(Rr)try{var es={};Object.defineProperty(es,"passive",{get:function(){lr=!0}}),window.addEventListener("test",es,es),window.removeEventListener("test",es,es)}catch{lr=!1}var zr=null,ea=null,yi=null;function il(){if(yi)return yi;var t,i=ea,s=i.length,l,h="value"in zr?zr.value:zr.textContent,d=h.length;for(t=0;t<s&&i[t]===h[t];t++);var E=s-t;for(l=1;l<=E&&i[s-l]===h[d-l];l++);return yi=h.slice(t,1<l?1-l:void 0)}function Br(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Hr(){return!0}function al(){return!1}function Zt(t){function i(s,l,h,d,E){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Hr:al,this.isPropagationStopped=al,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Hr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Hr)},persist:function(){},isPersistent:Hr}),i}var ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=Zt(ht),ts=v({},ht,{view:0,detail:0}),qu=Zt(ts),Qs,$s,jr,ns=v({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:as,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jr&&(jr&&t.type==="mousemove"?(Qs=t.screenX-jr.screenX,$s=t.screenY-jr.screenY):$s=Qs=0,jr=t),Qs)},movementY:function(t){return"movementY"in t?t.movementY:$s}}),ur=Zt(ns),Fu=v({},ns,{dataTransfer:0}),Sf=Zt(Fu),rs=v({},ts,{relatedTarget:0}),Xs=Zt(rs),sl=v({},ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Ws=Zt(sl),Gu=v({},ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Zs=Zt(Gu),wf=v({},ht,{data:0}),ol=Zt(wf),is={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ll(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Yu[t])?!!i[t]:!1}function as(){return ll}var Qu=v({},ts,{key:function(t){if(t.key){var i=is[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Br(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:as,charCode:function(t){return t.type==="keypress"?Br(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Br(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Js=Zt(Qu),$u=v({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ul=Zt($u),_i=v({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:as}),Xu=Zt(_i),Wu=v({},ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zu=Zt(Wu),Ju=v({},ns,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),eo=Zt(Ju),Nn=v({},ht,{newState:0,oldState:0}),ec=Zt(Nn),tc=[9,13,27,32],qr=Rr&&"CompositionEvent"in window,c=null;Rr&&"documentMode"in document&&(c=document.documentMode);var y=Rr&&"TextEvent"in window&&!c,_=Rr&&(!qr||c&&8<c&&11>=c),A=" ",B=!1;function X(t,i){switch(t){case"keyup":return tc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tt=!1;function Ft(t,i){switch(t){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(B=!0,A);case"textInput":return t=i.data,t===A&&B?null:t;default:return null}}function nt(t,i){if(tt)return t==="compositionend"||!qr&&X(t,i)?(t=il(),yi=ea=zr=null,tt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Jt[t.type]:i==="textarea"}function vi(t,i,s,l){pi?gi?gi.push(l):gi=[l]:pi=l,i=Hc(i,"onChange"),0<i.length&&(s=new Ys("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var ln=null,Fr=null;function cl(t){J_(t,0)}function nc(t){var i=Et(t);if(el(i))return t}function Eg(t,i){if(t==="change")return i}var Tg=!1;if(Rr){var Af;if(Rr){var Rf="oninput"in document;if(!Rf){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),Rf=typeof Sg.oninput=="function"}Af=Rf}else Af=!1;Tg=Af&&(!document.documentMode||9<document.documentMode)}function wg(){ln&&(ln.detachEvent("onpropertychange",Ag),Fr=ln=null)}function Ag(t){if(t.propertyName==="value"&&nc(Fr)){var i=[];vi(i,Fr,t,or(t)),ju(cl,i)}}function Ww(t,i,s){t==="focusin"?(wg(),ln=i,Fr=s,ln.attachEvent("onpropertychange",Ag)):t==="focusout"&&wg()}function Zw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nc(Fr)}function Jw(t,i){if(t==="click")return nc(i)}function eA(t,i){if(t==="input"||t==="change")return nc(i)}function tA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Gn=typeof Object.is=="function"?Object.is:tA;function hl(t,i){if(Gn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Mr.call(i,h)||!Gn(t[h],i[h]))return!1}return!0}function Rg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bg(t,i){var s=Rg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Rg(s)}}function Ig(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ig(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Cg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=$a(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=$a(t.document)}return i}function bf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var nA=Rr&&"documentMode"in document&&11>=document.documentMode,to=null,If=null,fl=null,Cf=!1;function Dg(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Cf||to==null||to!==$a(l)||(l=to,"selectionStart"in l&&bf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fl&&hl(fl,l)||(fl=l,l=Hc(If,"onSelect"),0<l.length&&(i=new Ys("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=to)))}function ss(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var no={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionrun:ss("Transition","TransitionRun"),transitionstart:ss("Transition","TransitionStart"),transitioncancel:ss("Transition","TransitionCancel"),transitionend:ss("Transition","TransitionEnd")},Df={},Ng={};Rr&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function os(t){if(Df[t])return Df[t];if(!no[t])return t;var i=no[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Ng)return Df[t]=i[s];return t}var Og=os("animationend"),Mg=os("animationiteration"),Pg=os("animationstart"),rA=os("transitionrun"),iA=os("transitionstart"),aA=os("transitioncancel"),Vg=os("transitionend"),xg=new Map,Nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nf.push("scrollEnd");function br(t,i){xg.set(t,i),on(i,[t])}var Lg=new WeakMap;function cr(t,i){if(typeof t=="object"&&t!==null){var s=Lg.get(t);return s!==void 0?s:(i={value:t,source:i,stack:Zi(i)},Lg.set(t,i),i)}return{value:t,source:i,stack:Zi(i)}}var hr=[],ro=0,Of=0;function rc(){for(var t=ro,i=Of=ro=0;i<t;){var s=hr[i];hr[i++]=null;var l=hr[i];hr[i++]=null;var h=hr[i];hr[i++]=null;var d=hr[i];if(hr[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&kg(s,h,d)}}function ic(t,i,s,l){hr[ro++]=t,hr[ro++]=i,hr[ro++]=s,hr[ro++]=l,Of|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Mf(t,i,s,l){return ic(t,i,s,l),ac(t)}function io(t,i){return ic(t,null,null,i),ac(t)}function kg(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-kt(s),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=s|536870912),d):null}function ac(t){if(50<kl)throw kl=0,Ud=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ao={};function sA(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,i,s,l){return new sA(t,i,s,l)}function Pf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ei(t,i){var s=t.alternate;return s===null?(s=Kn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Ug(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function sc(t,i,s,l,h,d){var E=0;if(l=t,typeof t=="function")Pf(t)&&(E=1);else if(typeof t=="string")E=lR(t,s,we.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case b:return t=Kn(31,s,i,h),t.elementType=b,t.lanes=d,t;case U:return ls(s.children,h,d,i);case $:E=8,h|=24;break;case G:return t=Kn(12,s,i,h|2),t.elementType=G,t.lanes=d,t;case de:return t=Kn(13,s,i,h),t.elementType=de,t.lanes=d,t;case H:return t=Kn(19,s,i,h),t.elementType=H,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:case ne:E=10;break e;case fe:E=9;break e;case me:E=11;break e;case M:E=14;break e;case R:E=16,l=null;break e}E=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=Kn(E,s,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ls(t,i,s,l){return t=Kn(7,t,l,i),t.lanes=s,t}function Vf(t,i,s){return t=Kn(6,t,null,i),t.lanes=s,t}function xf(t,i,s){return i=Kn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var so=[],oo=0,oc=null,lc=0,fr=[],dr=0,us=null,Ti=1,Si="";function cs(t,i){so[oo++]=lc,so[oo++]=oc,oc=t,lc=i}function zg(t,i,s){fr[dr++]=Ti,fr[dr++]=Si,fr[dr++]=us,us=t;var l=Ti;t=Si;var h=32-kt(l)-1;l&=~(1<<h),s+=1;var d=32-kt(i)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Ti=1<<32-kt(i)+h|s<<h|l,Si=d+t}else Ti=1<<d|s<<h|l,Si=t}function Lf(t){t.return!==null&&(cs(t,1),zg(t,1,0))}function kf(t){for(;t===oc;)oc=so[--oo],so[oo]=null,lc=so[--oo],so[oo]=null;for(;t===us;)us=fr[--dr],fr[dr]=null,Si=fr[--dr],fr[dr]=null,Ti=fr[--dr],fr[dr]=null}var On=null,Ot=null,ct=!1,hs=null,Gr=!1,Uf=Error(a(519));function fs(t){var i=Error(a(418,""));throw pl(cr(i,t)),Uf}function Bg(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[ie]=t,i[le]=l,s){case"dialog":$e("cancel",i),$e("close",i);break;case"iframe":case"object":case"embed":$e("load",i);break;case"video":case"audio":for(s=0;s<zl.length;s++)$e(zl[s],i);break;case"source":$e("error",i);break;case"img":case"image":case"link":$e("error",i),$e("load",i);break;case"details":$e("toggle",i);break;case"input":$e("invalid",i),Xa(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Gs(i);break;case"select":$e("invalid",i);break;case"textarea":$e("invalid",i),Wa(i,l.value,l.defaultValue,l.children),Gs(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||rv(i.textContent,s)?(l.popover!=null&&($e("beforetoggle",i),$e("toggle",i)),l.onScroll!=null&&$e("scroll",i),l.onScrollEnd!=null&&$e("scrollend",i),l.onClick!=null&&(i.onclick=jc),i=!0):i=!1,i||fs(t)}function Hg(t){for(On=t.return;On;)switch(On.tag){case 5:case 13:Gr=!1;return;case 27:case 3:Gr=!0;return;default:On=On.return}}function dl(t){if(t!==On)return!1;if(!ct)return Hg(t),ct=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||em(t.type,t.memoizedProps)),s=!s),s&&Ot&&fs(t),Hg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){Ot=Cr(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}Ot=null}}else i===27?(i=Ot,ga(t.type)?(t=im,im=null,Ot=t):Ot=i):Ot=On?Cr(t.stateNode.nextSibling):null;return!0}function ml(){Ot=On=null,ct=!1}function jg(){var t=hs;return t!==null&&(kn===null?kn=t:kn.push.apply(kn,t),hs=null),t}function pl(t){hs===null?hs=[t]:hs.push(t)}var zf=ee(null),ds=null,wi=null;function ta(t,i,s){oe(zf,i._currentValue),i._currentValue=s}function Ai(t){t._currentValue=zf.current,ce(zf)}function Bf(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function Hf(t,i,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),Bf(d.return,s,t),l||(E=null);break e}d=T.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(a(341));E.lanes|=s,d=E.alternate,d!==null&&(d.lanes|=s),Bf(E,s,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function gl(t,i,s,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var T=h.type;Gn(h.pendingProps.value,E.value)||(t!==null?t.push(T):t=[T])}}else if(h===Lt.current){if(E=h.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Gl):t=[Gl])}h=h.return}t!==null&&Hf(i,t,s,l),i.flags|=262144}function uc(t){for(t=t.firstContext;t!==null;){if(!Gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ms(t){ds=t,wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function yn(t){return qg(ds,t)}function cc(t,i){return ds===null&&ms(t),qg(t,i)}function qg(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},wi===null){if(t===null)throw Error(a(308));wi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else wi=wi.next=i;return s}var oA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},lA=r.unstable_scheduleCallback,uA=r.unstable_NormalPriority,Kt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jf(){return{controller:new oA,data:new Map,refCount:0}}function yl(t){t.refCount--,t.refCount===0&&lA(uA,function(){t.controller.abort()})}var _l=null,qf=0,lo=0,uo=null;function cA(t,i){if(_l===null){var s=_l=[];qf=0,lo=Gd(),uo={status:"pending",value:void 0,then:function(l){s.push(l)}}}return qf++,i.then(Fg,Fg),i}function Fg(){if(--qf===0&&_l!==null){uo!==null&&(uo.status="fulfilled");var t=_l;_l=null,lo=0,uo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function hA(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Gg=K.S;K.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&cA(t,i),Gg!==null&&Gg(t,i)};var ps=ee(null);function Ff(){var t=ps.current;return t!==null?t:wt.pooledCache}function hc(t,i){i===null?oe(ps,ps.current):oe(ps,i.pool)}function Kg(){var t=Ff();return t===null?null:{parent:Kt._currentValue,pool:t}}var vl=Error(a(460)),Yg=Error(a(474)),fc=Error(a(542)),Gf={then:function(){}};function Qg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function dc(){}function $g(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(dc,dc),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Wg(t),t;default:if(typeof i.status=="string")i.then(dc,dc);else{if(t=wt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Wg(t),t}throw El=i,vl}}var El=null;function Xg(){if(El===null)throw Error(a(459));var t=El;return El=null,t}function Wg(t){if(t===vl||t===fc)throw Error(a(483))}var na=!1;function Kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ra(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ia(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(dt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ac(t),kg(t,null,s),i}return ic(t,l,i,s),ac(t)}function Tl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Lr(t,s)}}function Qf(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,s=s.next}while(s!==null);d===null?h=d=i:d=d.next=i}else h=d=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var $f=!1;function Sl(){if($f){var t=uo;if(t!==null)throw t}}function wl(t,i,s,l){$f=!1;var h=t.updateQueue;na=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,q=C.next;C.next=null,E===null?d=q:E.next=q,E=C;var J=t.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==E&&(T===null?J.firstBaseUpdate=q:T.next=q,J.lastBaseUpdate=C))}if(d!==null){var re=h.baseState;E=0,J=q=C=null,T=d;do{var Y=T.lane&-536870913,Q=Y!==T.lane;if(Q?(rt&Y)===Y:(l&Y)===Y){Y!==0&&Y===lo&&($f=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ve=t,Ne=T;Y=i;var vt=s;switch(Ne.tag){case 1:if(Ve=Ne.payload,typeof Ve=="function"){re=Ve.call(vt,re,Y);break e}re=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Ne.payload,Y=typeof Ve=="function"?Ve.call(vt,re,Y):Ve,Y==null)break e;re=v({},re,Y);break e;case 2:na=!0}}Y=T.callback,Y!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(q=J=Q,C=re):J=J.next=Q,E|=Y;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);J===null&&(C=re),h.baseState=C,h.firstBaseUpdate=q,h.lastBaseUpdate=J,d===null&&(h.shared.lanes=0),fa|=E,t.lanes=E,t.memoizedState=re}}function Zg(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Jg(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Zg(s[t],i)}var co=ee(null),mc=ee(0);function ey(t,i){t=Oi,oe(mc,t),oe(co,i),Oi=t|i.baseLanes}function Xf(){oe(mc,Oi),oe(co,co.current)}function Wf(){Oi=mc.current,ce(co),ce(mc)}var aa=0,Ge=null,yt=null,zt=null,pc=!1,ho=!1,gs=!1,gc=0,Al=0,fo=null,fA=0;function Pt(){throw Error(a(321))}function Zf(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!Gn(t[s],i[s]))return!1;return!0}function Jf(t,i,s,l,h,d){return aa=d,Ge=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?ky:Uy,gs=!1,d=s(l,h),gs=!1,ho&&(d=ny(i,s,l,h)),ty(t),d}function ty(t){K.H=Sc;var i=yt!==null&&yt.next!==null;if(aa=0,zt=yt=Ge=null,pc=!1,Al=0,fo=null,i)throw Error(a(300));t===null||en||(t=t.dependencies,t!==null&&uc(t)&&(en=!0))}function ny(t,i,s,l){Ge=t;var h=0;do{if(ho&&(fo=null),Al=0,ho=!1,25<=h)throw Error(a(301));if(h+=1,zt=yt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=vA,d=i(s,l)}while(ho);return d}function dA(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?Rl(i):i,t=t.useState()[0],(yt!==null?yt.memoizedState:null)!==t&&(Ge.flags|=1024),i}function ed(){var t=gc!==0;return gc=0,t}function td(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function nd(t){if(pc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}pc=!1}aa=0,zt=yt=Ge=null,ho=!1,Al=gc=0,fo=null}function xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Ge.memoizedState=zt=t:zt=zt.next=t,zt}function Bt(){if(yt===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var i=zt===null?Ge.memoizedState:zt.next;if(i!==null)zt=i,yt=t;else{if(t===null)throw Ge.alternate===null?Error(a(467)):Error(a(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},zt===null?Ge.memoizedState=zt=t:zt=zt.next=t}return zt}function rd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rl(t){var i=Al;return Al+=1,fo===null&&(fo=[]),t=$g(fo,t,i),i=Ge,(zt===null?i.memoizedState:zt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?ky:Uy),t}function yc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Rl(t);if(t.$$typeof===ne)return yn(t)}throw Error(a(438,String(t)))}function id(t){var i=null,s=Ge.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Ge.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=rd(),Ge.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=P;return i.index++,s}function Ri(t,i){return typeof i=="function"?i(t):i}function _c(t){var i=Bt();return ad(i,yt,t)}function ad(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=E=null,C=null,q=i,J=!1;do{var re=q.lane&-536870913;if(re!==q.lane?(rt&re)===re:(aa&re)===re){var Y=q.revertLane;if(Y===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),re===lo&&(J=!0);else if((aa&Y)===Y){q=q.next,Y===lo&&(J=!0);continue}else re={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(T=C=re,E=d):C=C.next=re,Ge.lanes|=Y,fa|=Y;re=q.action,gs&&s(d,re),d=q.hasEagerState?q.eagerState:s(d,re)}else Y={lane:re,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(T=C=Y,E=d):C=C.next=Y,Ge.lanes|=re,fa|=re;q=q.next}while(q!==null&&q!==i);if(C===null?E=d:C.next=T,!Gn(d,t.memoizedState)&&(en=!0,J&&(s=uo,s!==null)))throw s;t.memoizedState=d,t.baseState=E,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function sd(t){var i=Bt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=i.memoizedState;if(h!==null){s.pending=null;var E=h=h.next;do d=t(d,E.action),E=E.next;while(E!==h);Gn(d,i.memoizedState)||(en=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function ry(t,i,s){var l=Ge,h=Bt(),d=ct;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var E=!Gn((yt||h).memoizedState,s);E&&(h.memoizedState=s,en=!0),h=h.queue;var T=sy.bind(null,l,h,t);if(bl(2048,8,T,[t]),h.getSnapshot!==i||E||zt!==null&&zt.memoizedState.tag&1){if(l.flags|=2048,mo(9,vc(),ay.bind(null,l,h,s,i),null),wt===null)throw Error(a(349));d||(aa&124)!==0||iy(l,i,s)}return s}function iy(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Ge.updateQueue,i===null?(i=rd(),Ge.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function ay(t,i,s,l){i.value=s,i.getSnapshot=l,oy(i)&&ly(t)}function sy(t,i,s){return s(function(){oy(i)&&ly(t)})}function oy(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!Gn(t,s)}catch{return!0}}function ly(t){var i=io(t,2);i!==null&&Wn(i,t,2)}function od(t){var i=xn();if(typeof t=="function"){var s=t;if(t=s(),gs){gn(!0);try{s()}finally{gn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:t},i}function uy(t,i,s,l){return t.baseState=s,ad(t,yt,typeof l=="function"?l:Ri)}function mA(t,i,s,l,h){if(Tc(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};K.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,cy(i,d)):(d.next=s.next,i.pending=s.next=d)}}function cy(t,i){var s=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=K.T,E={};K.T=E;try{var T=s(h,l),C=K.S;C!==null&&C(E,T),hy(t,i,T)}catch(q){ld(t,i,q)}finally{K.T=d}}else try{d=s(h,l),hy(t,i,d)}catch(q){ld(t,i,q)}}function hy(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){fy(t,i,l)},function(l){return ld(t,i,l)}):fy(t,i,s)}function fy(t,i,s){i.status="fulfilled",i.value=s,dy(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,cy(t,s)))}function ld(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,dy(i),i=i.next;while(i!==l)}t.action=null}function dy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function my(t,i){return i}function py(t,i){if(ct){var s=wt.formState;if(s!==null){e:{var l=Ge;if(ct){if(Ot){t:{for(var h=Ot,d=Gr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Cr(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Ot=Cr(h.nextSibling),l=h.data==="F!";break e}}fs(l)}l=!1}l&&(i=s[0])}}return s=xn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:my,lastRenderedState:i},s.queue=l,s=Vy.bind(null,Ge,l),l.dispatch=s,l=od(!1),d=dd.bind(null,Ge,!1,l.queue),l=xn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,s=mA.bind(null,Ge,h,d,s),h.dispatch=s,l.memoizedState=t,[i,s,!1]}function gy(t){var i=Bt();return yy(i,yt,t)}function yy(t,i,s){if(i=ad(t,i,my)[0],t=_c(Ri)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Rl(i)}catch(E){throw E===vl?fc:E}else l=i;i=Bt();var h=i.queue,d=h.dispatch;return s!==i.memoizedState&&(Ge.flags|=2048,mo(9,vc(),pA.bind(null,h,s),null)),[l,d,t]}function pA(t,i){t.action=i}function _y(t){var i=Bt(),s=yt;if(s!==null)return yy(i,s,t);Bt(),i=i.memoizedState,s=Bt();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function mo(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Ge.updateQueue,i===null&&(i=rd(),Ge.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function vc(){return{destroy:void 0,resource:void 0}}function vy(){return Bt().memoizedState}function Ec(t,i,s,l){var h=xn();l=l===void 0?null:l,Ge.flags|=t,h.memoizedState=mo(1|i,vc(),s,l)}function bl(t,i,s,l){var h=Bt();l=l===void 0?null:l;var d=h.memoizedState.inst;yt!==null&&l!==null&&Zf(l,yt.memoizedState.deps)?h.memoizedState=mo(i,d,s,l):(Ge.flags|=t,h.memoizedState=mo(1|i,d,s,l))}function Ey(t,i){Ec(8390656,8,t,i)}function Ty(t,i){bl(2048,8,t,i)}function Sy(t,i){return bl(4,2,t,i)}function wy(t,i){return bl(4,4,t,i)}function Ay(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ry(t,i,s){s=s!=null?s.concat([t]):null,bl(4,4,Ay.bind(null,i,t),s)}function ud(){}function by(t,i){var s=Bt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Zf(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function Iy(t,i){var s=Bt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Zf(i,l[1]))return l[0];if(l=t(),gs){gn(!0);try{t()}finally{gn(!1)}}return s.memoizedState=[l,i],l}function cd(t,i,s){return s===void 0||(aa&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=N_(),Ge.lanes|=t,fa|=t,s)}function Cy(t,i,s,l){return Gn(s,i)?s:co.current!==null?(t=cd(t,s,l),Gn(t,i)||(en=!0),t):(aa&42)===0?(en=!0,t.memoizedState=s):(t=N_(),Ge.lanes|=t,fa|=t,i)}function Dy(t,i,s,l,h){var d=ue.p;ue.p=d!==0&&8>d?d:8;var E=K.T,T={};K.T=T,dd(t,!1,i,s);try{var C=h(),q=K.S;if(q!==null&&q(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var J=hA(C,l);Il(t,i,J,Xn(t))}else Il(t,i,l,Xn(t))}catch(re){Il(t,i,{then:function(){},status:"rejected",reason:re},Xn())}finally{ue.p=d,K.T=E}}function gA(){}function hd(t,i,s,l){if(t.tag!==5)throw Error(a(476));var h=Ny(t).queue;Dy(t,h,i,pe,s===null?gA:function(){return Oy(t),s(l)})}function Ny(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:pe},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Oy(t){var i=Ny(t).next.queue;Il(t,i,{},Xn())}function fd(){return yn(Gl)}function My(){return Bt().memoizedState}function Py(){return Bt().memoizedState}function yA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Xn();t=ra(s);var l=ia(i,t,s);l!==null&&(Wn(l,i,s),Tl(l,i,s)),i={cache:jf()},t.payload=i;return}i=i.return}}function _A(t,i,s){var l=Xn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Tc(t)?xy(i,s):(s=Mf(t,i,s,l),s!==null&&(Wn(s,t,l),Ly(s,i,l)))}function Vy(t,i,s){var l=Xn();Il(t,i,s,l)}function Il(t,i,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Tc(t))xy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,T=d(E,s);if(h.hasEagerState=!0,h.eagerState=T,Gn(T,E))return ic(t,i,h,0),wt===null&&rc(),!1}catch{}finally{}if(s=Mf(t,i,h,l),s!==null)return Wn(s,t,l),Ly(s,i,l),!0}return!1}function dd(t,i,s,l){if(l={lane:2,revertLane:Gd(),action:l,hasEagerState:!1,eagerState:null,next:null},Tc(t)){if(i)throw Error(a(479))}else i=Mf(t,s,l,2),i!==null&&Wn(i,t,2)}function Tc(t){var i=t.alternate;return t===Ge||i!==null&&i===Ge}function xy(t,i){ho=pc=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function Ly(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Lr(t,s)}}var Sc={readContext:yn,use:yc,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt},ky={readContext:yn,use:yc,useCallback:function(t,i){return xn().memoizedState=[t,i===void 0?null:i],t},useContext:yn,useEffect:Ey,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Ec(4194308,4,Ay.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Ec(4194308,4,t,i)},useInsertionEffect:function(t,i){Ec(4,2,t,i)},useMemo:function(t,i){var s=xn();i=i===void 0?null:i;var l=t();if(gs){gn(!0);try{t()}finally{gn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=xn();if(s!==void 0){var h=s(i);if(gs){gn(!0);try{s(i)}finally{gn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=_A.bind(null,Ge,t),[l.memoizedState,t]},useRef:function(t){var i=xn();return t={current:t},i.memoizedState=t},useState:function(t){t=od(t);var i=t.queue,s=Vy.bind(null,Ge,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:ud,useDeferredValue:function(t,i){var s=xn();return cd(s,t,i)},useTransition:function(){var t=od(!1);return t=Dy.bind(null,Ge,t.queue,!0,!1),xn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Ge,h=xn();if(ct){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),wt===null)throw Error(a(349));(rt&124)!==0||iy(l,i,s)}h.memoizedState=s;var d={value:s,getSnapshot:i};return h.queue=d,Ey(sy.bind(null,l,d,t),[t]),l.flags|=2048,mo(9,vc(),ay.bind(null,l,d,s,i),null),s},useId:function(){var t=xn(),i=wt.identifierPrefix;if(ct){var s=Si,l=Ti;s=(l&~(1<<32-kt(l)-1)).toString(32)+s,i=""+i+"R"+s,s=gc++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=fA++,i=""+i+"r"+s.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:fd,useFormState:py,useActionState:py,useOptimistic:function(t){var i=xn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=dd.bind(null,Ge,!0,s),s.dispatch=i,[t,i]},useMemoCache:id,useCacheRefresh:function(){return xn().memoizedState=yA.bind(null,Ge)}},Uy={readContext:yn,use:yc,useCallback:by,useContext:yn,useEffect:Ty,useImperativeHandle:Ry,useInsertionEffect:Sy,useLayoutEffect:wy,useMemo:Iy,useReducer:_c,useRef:vy,useState:function(){return _c(Ri)},useDebugValue:ud,useDeferredValue:function(t,i){var s=Bt();return Cy(s,yt.memoizedState,t,i)},useTransition:function(){var t=_c(Ri)[0],i=Bt().memoizedState;return[typeof t=="boolean"?t:Rl(t),i]},useSyncExternalStore:ry,useId:My,useHostTransitionStatus:fd,useFormState:gy,useActionState:gy,useOptimistic:function(t,i){var s=Bt();return uy(s,yt,t,i)},useMemoCache:id,useCacheRefresh:Py},vA={readContext:yn,use:yc,useCallback:by,useContext:yn,useEffect:Ty,useImperativeHandle:Ry,useInsertionEffect:Sy,useLayoutEffect:wy,useMemo:Iy,useReducer:sd,useRef:vy,useState:function(){return sd(Ri)},useDebugValue:ud,useDeferredValue:function(t,i){var s=Bt();return yt===null?cd(s,t,i):Cy(s,yt.memoizedState,t,i)},useTransition:function(){var t=sd(Ri)[0],i=Bt().memoizedState;return[typeof t=="boolean"?t:Rl(t),i]},useSyncExternalStore:ry,useId:My,useHostTransitionStatus:fd,useFormState:_y,useActionState:_y,useOptimistic:function(t,i){var s=Bt();return yt!==null?uy(s,yt,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:id,useCacheRefresh:Py},po=null,Cl=0;function wc(t){var i=Cl;return Cl+=1,po===null&&(po=[]),$g(po,t,i)}function Dl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ac(t,i){throw i.$$typeof===S?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function zy(t){var i=t._init;return i(t._payload)}function By(t){function i(k,V){if(t){var j=k.deletions;j===null?(k.deletions=[V],k.flags|=16):j.push(V)}}function s(k,V){if(!t)return null;for(;V!==null;)i(k,V),V=V.sibling;return null}function l(k){for(var V=new Map;k!==null;)k.key!==null?V.set(k.key,k):V.set(k.index,k),k=k.sibling;return V}function h(k,V){return k=Ei(k,V),k.index=0,k.sibling=null,k}function d(k,V,j){return k.index=j,t?(j=k.alternate,j!==null?(j=j.index,j<V?(k.flags|=67108866,V):j):(k.flags|=67108866,V)):(k.flags|=1048576,V)}function E(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,V,j,te){return V===null||V.tag!==6?(V=Vf(j,k.mode,te),V.return=k,V):(V=h(V,j),V.return=k,V)}function C(k,V,j,te){var _e=j.type;return _e===U?J(k,V,j.props.children,te,j.key):V!==null&&(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===R&&zy(_e)===V.type)?(V=h(V,j.props),Dl(V,j),V.return=k,V):(V=sc(j.type,j.key,j.props,null,k.mode,te),Dl(V,j),V.return=k,V)}function q(k,V,j,te){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=xf(j,k.mode,te),V.return=k,V):(V=h(V,j.children||[]),V.return=k,V)}function J(k,V,j,te,_e){return V===null||V.tag!==7?(V=ls(j,k.mode,te,_e),V.return=k,V):(V=h(V,j),V.return=k,V)}function re(k,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Vf(""+V,k.mode,j),V.return=k,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case w:return j=sc(V.type,V.key,V.props,null,k.mode,j),Dl(j,V),j.return=k,j;case N:return V=xf(V,k.mode,j),V.return=k,V;case R:var te=V._init;return V=te(V._payload),re(k,V,j)}if(et(V)||L(V))return V=ls(V,k.mode,j,null),V.return=k,V;if(typeof V.then=="function")return re(k,wc(V),j);if(V.$$typeof===ne)return re(k,cc(k,V),j);Ac(k,V)}return null}function Y(k,V,j,te){var _e=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return _e!==null?null:T(k,V,""+j,te);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case w:return j.key===_e?C(k,V,j,te):null;case N:return j.key===_e?q(k,V,j,te):null;case R:return _e=j._init,j=_e(j._payload),Y(k,V,j,te)}if(et(j)||L(j))return _e!==null?null:J(k,V,j,te,null);if(typeof j.then=="function")return Y(k,V,wc(j),te);if(j.$$typeof===ne)return Y(k,V,cc(k,j),te);Ac(k,j)}return null}function Q(k,V,j,te,_e){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return k=k.get(j)||null,T(V,k,""+te,_e);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case w:return k=k.get(te.key===null?j:te.key)||null,C(V,k,te,_e);case N:return k=k.get(te.key===null?j:te.key)||null,q(V,k,te,_e);case R:var Ke=te._init;return te=Ke(te._payload),Q(k,V,j,te,_e)}if(et(te)||L(te))return k=k.get(j)||null,J(V,k,te,_e,null);if(typeof te.then=="function")return Q(k,V,j,wc(te),_e);if(te.$$typeof===ne)return Q(k,V,j,cc(V,te),_e);Ac(V,te)}return null}function Ve(k,V,j,te){for(var _e=null,Ke=null,be=V,Oe=V=0,nn=null;be!==null&&Oe<j.length;Oe++){be.index>Oe?(nn=be,be=null):nn=be.sibling;var st=Y(k,be,j[Oe],te);if(st===null){be===null&&(be=nn);break}t&&be&&st.alternate===null&&i(k,be),V=d(st,V,Oe),Ke===null?_e=st:Ke.sibling=st,Ke=st,be=nn}if(Oe===j.length)return s(k,be),ct&&cs(k,Oe),_e;if(be===null){for(;Oe<j.length;Oe++)be=re(k,j[Oe],te),be!==null&&(V=d(be,V,Oe),Ke===null?_e=be:Ke.sibling=be,Ke=be);return ct&&cs(k,Oe),_e}for(be=l(be);Oe<j.length;Oe++)nn=Q(be,k,Oe,j[Oe],te),nn!==null&&(t&&nn.alternate!==null&&be.delete(nn.key===null?Oe:nn.key),V=d(nn,V,Oe),Ke===null?_e=nn:Ke.sibling=nn,Ke=nn);return t&&be.forEach(function(Ta){return i(k,Ta)}),ct&&cs(k,Oe),_e}function Ne(k,V,j,te){if(j==null)throw Error(a(151));for(var _e=null,Ke=null,be=V,Oe=V=0,nn=null,st=j.next();be!==null&&!st.done;Oe++,st=j.next()){be.index>Oe?(nn=be,be=null):nn=be.sibling;var Ta=Y(k,be,st.value,te);if(Ta===null){be===null&&(be=nn);break}t&&be&&Ta.alternate===null&&i(k,be),V=d(Ta,V,Oe),Ke===null?_e=Ta:Ke.sibling=Ta,Ke=Ta,be=nn}if(st.done)return s(k,be),ct&&cs(k,Oe),_e;if(be===null){for(;!st.done;Oe++,st=j.next())st=re(k,st.value,te),st!==null&&(V=d(st,V,Oe),Ke===null?_e=st:Ke.sibling=st,Ke=st);return ct&&cs(k,Oe),_e}for(be=l(be);!st.done;Oe++,st=j.next())st=Q(be,k,Oe,st.value,te),st!==null&&(t&&st.alternate!==null&&be.delete(st.key===null?Oe:st.key),V=d(st,V,Oe),Ke===null?_e=st:Ke.sibling=st,Ke=st);return t&&be.forEach(function(ER){return i(k,ER)}),ct&&cs(k,Oe),_e}function vt(k,V,j,te){if(typeof j=="object"&&j!==null&&j.type===U&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case w:e:{for(var _e=j.key;V!==null;){if(V.key===_e){if(_e=j.type,_e===U){if(V.tag===7){s(k,V.sibling),te=h(V,j.props.children),te.return=k,k=te;break e}}else if(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===R&&zy(_e)===V.type){s(k,V.sibling),te=h(V,j.props),Dl(te,j),te.return=k,k=te;break e}s(k,V);break}else i(k,V);V=V.sibling}j.type===U?(te=ls(j.props.children,k.mode,te,j.key),te.return=k,k=te):(te=sc(j.type,j.key,j.props,null,k.mode,te),Dl(te,j),te.return=k,k=te)}return E(k);case N:e:{for(_e=j.key;V!==null;){if(V.key===_e)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){s(k,V.sibling),te=h(V,j.children||[]),te.return=k,k=te;break e}else{s(k,V);break}else i(k,V);V=V.sibling}te=xf(j,k.mode,te),te.return=k,k=te}return E(k);case R:return _e=j._init,j=_e(j._payload),vt(k,V,j,te)}if(et(j))return Ve(k,V,j,te);if(L(j)){if(_e=L(j),typeof _e!="function")throw Error(a(150));return j=_e.call(j),Ne(k,V,j,te)}if(typeof j.then=="function")return vt(k,V,wc(j),te);if(j.$$typeof===ne)return vt(k,V,cc(k,j),te);Ac(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(s(k,V.sibling),te=h(V,j),te.return=k,k=te):(s(k,V),te=Vf(j,k.mode,te),te.return=k,k=te),E(k)):s(k,V)}return function(k,V,j,te){try{Cl=0;var _e=vt(k,V,j,te);return po=null,_e}catch(be){if(be===vl||be===fc)throw be;var Ke=Kn(29,be,null,k.mode);return Ke.lanes=te,Ke.return=k,Ke}finally{}}}var go=By(!0),Hy=By(!1),mr=ee(null),Kr=null;function sa(t){var i=t.alternate;oe(Yt,Yt.current&1),oe(mr,t),Kr===null&&(i===null||co.current!==null||i.memoizedState!==null)&&(Kr=t)}function jy(t){if(t.tag===22){if(oe(Yt,Yt.current),oe(mr,t),Kr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Kr=t)}}else oa()}function oa(){oe(Yt,Yt.current),oe(mr,mr.current)}function bi(t){ce(mr),Kr===t&&(Kr=null),ce(Yt)}var Yt=ee(0);function Rc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||rm(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function md(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:v({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var pd={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=Xn(),h=ra(l);h.payload=i,s!=null&&(h.callback=s),i=ia(t,h,l),i!==null&&(Wn(i,t,l),Tl(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=Xn(),h=ra(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=ia(t,h,l),i!==null&&(Wn(i,t,l),Tl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Xn(),l=ra(s);l.tag=2,i!=null&&(l.callback=i),i=ia(t,l,s),i!==null&&(Wn(i,t,s),Tl(i,t,s))}};function qy(t,i,s,l,h,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!hl(s,l)||!hl(h,d):!0}function Fy(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&pd.enqueueReplaceState(i,i.state,null)}function ys(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=v({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var bc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Gy(t){bc(t)}function Ky(t){console.error(t)}function Yy(t){bc(t)}function Ic(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Qy(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function gd(t,i,s){return s=ra(s),s.tag=3,s.payload={element:null},s.callback=function(){Ic(t,i)},s}function $y(t){return t=ra(t),t.tag=3,t}function Xy(t,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Qy(i,s,l)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Qy(i,s,l),typeof h!="function"&&(da===null?da=new Set([this]):da.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function EA(t,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&gl(i,s,h,!0),s=mr.current,s!==null){switch(s.tag){case 13:return Kr===null?Bd():s.alternate===null&&Mt===0&&(Mt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Gf?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),jd(t,l,h)),!1;case 22:return s.flags|=65536,l===Gf?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),jd(t,l,h)),!1}throw Error(a(435,s.tag))}return jd(t,l,h),Bd(),!1}if(ct)return i=mr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Uf&&(t=Error(a(422),{cause:l}),pl(cr(t,s)))):(l!==Uf&&(i=Error(a(423),{cause:l}),pl(cr(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=cr(l,s),h=gd(t.stateNode,l,h),Qf(t,h),Mt!==4&&(Mt=2)),!1;var d=Error(a(520),{cause:l});if(d=cr(d,s),Ll===null?Ll=[d]:Ll.push(d),Mt!==4&&(Mt=2),i===null)return!0;l=cr(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=gd(s.stateNode,l,t),Qf(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(da===null||!da.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=$y(h),Xy(h,t,s,l),Qf(s,h),!1}s=s.return}while(s!==null);return!1}var Wy=Error(a(461)),en=!1;function un(t,i,s,l){i.child=t===null?Hy(i,null,s,l):go(i,t.child,s,l)}function Zy(t,i,s,l,h){s=s.render;var d=i.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return ms(i),l=Jf(t,i,s,E,d,h),T=ed(),t!==null&&!en?(td(t,i,h),Ii(t,i,h)):(ct&&T&&Lf(i),i.flags|=1,un(t,i,l,h),i.child)}function Jy(t,i,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!Pf(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,e_(t,i,d,l,h)):(t=sc(s.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Ad(t,h)){var E=d.memoizedProps;if(s=s.compare,s=s!==null?s:hl,s(E,l)&&t.ref===i.ref)return Ii(t,i,h)}return i.flags|=1,t=Ei(d,l),t.ref=i.ref,t.return=i,i.child=t}function e_(t,i,s,l,h){if(t!==null){var d=t.memoizedProps;if(hl(d,l)&&t.ref===i.ref)if(en=!1,i.pendingProps=l=d,Ad(t,h))(t.flags&131072)!==0&&(en=!0);else return i.lanes=t.lanes,Ii(t,i,h)}return yd(t,i,s,l,h)}function t_(t,i,s){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return n_(t,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&hc(i,d!==null?d.cachePool:null),d!==null?ey(i,d):Xf(),jy(i);else return i.lanes=i.childLanes=536870912,n_(t,i,d!==null?d.baseLanes|s:s,s)}else d!==null?(hc(i,d.cachePool),ey(i,d),oa(),i.memoizedState=null):(t!==null&&hc(i,null),Xf(),oa());return un(t,i,h,s),i.child}function n_(t,i,s,l){var h=Ff();return h=h===null?null:{parent:Kt._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},t!==null&&hc(i,null),Xf(),jy(i),t!==null&&gl(t,i,l,!0),null}function Cc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function yd(t,i,s,l,h){return ms(i),s=Jf(t,i,s,l,void 0,h),l=ed(),t!==null&&!en?(td(t,i,h),Ii(t,i,h)):(ct&&l&&Lf(i),i.flags|=1,un(t,i,s,h),i.child)}function r_(t,i,s,l,h,d){return ms(i),i.updateQueue=null,s=ny(i,l,s,h),ty(t),l=ed(),t!==null&&!en?(td(t,i,d),Ii(t,i,d)):(ct&&l&&Lf(i),i.flags|=1,un(t,i,s,d),i.child)}function i_(t,i,s,l,h){if(ms(i),i.stateNode===null){var d=ao,E=s.contextType;typeof E=="object"&&E!==null&&(d=yn(E)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=pd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Kf(i),E=s.contextType,d.context=typeof E=="object"&&E!==null?yn(E):ao,d.state=i.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(md(i,s,E,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&pd.enqueueReplaceState(d,d.state,null),wl(i,l,d,h),Sl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,C=ys(s,T);d.props=C;var q=d.context,J=s.contextType;E=ao,typeof J=="object"&&J!==null&&(E=yn(J));var re=s.getDerivedStateFromProps;J=typeof re=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==E)&&Fy(i,d,l,E),na=!1;var Y=i.memoizedState;d.state=Y,wl(i,l,d,h),Sl(),q=i.memoizedState,T||Y!==q||na?(typeof re=="function"&&(md(i,s,re,l),q=i.memoizedState),(C=na||qy(i,s,C,l,Y,q,E))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Yf(t,i),E=i.memoizedProps,J=ys(s,E),d.props=J,re=i.pendingProps,Y=d.context,q=s.contextType,C=ao,typeof q=="object"&&q!==null&&(C=yn(q)),T=s.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==re||Y!==C)&&Fy(i,d,l,C),na=!1,Y=i.memoizedState,d.state=Y,wl(i,l,d,h),Sl();var Q=i.memoizedState;E!==re||Y!==Q||na||t!==null&&t.dependencies!==null&&uc(t.dependencies)?(typeof T=="function"&&(md(i,s,T,l),Q=i.memoizedState),(J=na||qy(i,s,J,l,Y,Q,C)||t!==null&&t.dependencies!==null&&uc(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=C,l=J):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Cc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=go(i,t.child,null,h),i.child=go(i,null,s,h)):un(t,i,s,h),i.memoizedState=d.state,t=i.child):t=Ii(t,i,h),t}function a_(t,i,s,l){return ml(),i.flags|=256,un(t,i,s,l),i.child}var _d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vd(t){return{baseLanes:t,cachePool:Kg()}}function Ed(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=pr),t}function s_(t,i,s){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(Yt.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(ct){if(h?sa(i):oa(),ct){var T=Ot,C;if(C=T){e:{for(C=T,T=Gr;C.nodeType!==8;){if(!T){T=null;break e}if(C=Cr(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(i.memoizedState={dehydrated:T,treeContext:us!==null?{id:Ti,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},C=Kn(18,null,null,0),C.stateNode=T,C.return=i,i.child=C,On=i,Ot=null,C=!0):C=!1}C||fs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return rm(T)?i.lanes=32:i.lanes=536870912,null;bi(i)}return T=l.children,l=l.fallback,h?(oa(),h=i.mode,T=Dc({mode:"hidden",children:T},h),l=ls(l,h,s,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=vd(s),h.childLanes=Ed(t,E,s),i.memoizedState=_d,l):(sa(i),Td(i,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(sa(i),i.flags&=-257,i=Sd(t,i,s)):i.memoizedState!==null?(oa(),i.child=t.child,i.flags|=128,i=null):(oa(),h=l.fallback,T=i.mode,l=Dc({mode:"visible",children:l.children},T),h=ls(h,T,s,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,go(i,t.child,null,s),l=i.child,l.memoizedState=vd(s),l.childLanes=Ed(t,E,s),i.memoizedState=_d,i=h);else if(sa(i),rm(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var q=E.dgst;E=q,l=Error(a(419)),l.stack="",l.digest=E,pl({value:l,source:null,stack:null}),i=Sd(t,i,s)}else if(en||gl(t,i,s,!1),E=(s&t.childLanes)!==0,en||E){if(E=wt,E!==null&&(l=s&-s,l=(l&42)!==0?1:kr(l),l=(l&(E.suspendedLanes|s))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,io(t,l),Wn(E,t,l),Wy;T.data==="$?"||Bd(),i=Sd(t,i,s)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,Ot=Cr(T.nextSibling),On=i,ct=!0,hs=null,Gr=!1,t!==null&&(fr[dr++]=Ti,fr[dr++]=Si,fr[dr++]=us,Ti=t.id,Si=t.overflow,us=i),i=Td(i,l.children),i.flags|=4096);return i}return h?(oa(),h=l.fallback,T=i.mode,C=t.child,q=C.sibling,l=Ei(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,q!==null?h=Ei(q,h):(h=ls(h,T,s,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=vd(s):(C=T.cachePool,C!==null?(q=Kt._currentValue,C=C.parent!==q?{parent:q,pool:q}:C):C=Kg(),T={baseLanes:T.baseLanes|s,cachePool:C}),h.memoizedState=T,h.childLanes=Ed(t,E,s),i.memoizedState=_d,l):(sa(i),s=t.child,t=s.sibling,s=Ei(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=s,i.memoizedState=null,s)}function Td(t,i){return i=Dc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Dc(t,i){return t=Kn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Sd(t,i,s){return go(i,t.child,null,s),t=Td(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function o_(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Bf(t.return,i,s)}function wd(t,i,s,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function l_(t,i,s){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(un(t,i,l.children,s),l=Yt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&o_(t,s,i);else if(t.tag===19)o_(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(oe(Yt,l),h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&Rc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),wd(i,!1,h,s,d);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Rc(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}wd(i,!0,s,null,d);break;case"together":wd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ii(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),fa|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(gl(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=Ei(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Ei(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function Ad(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&uc(t)))}function TA(t,i,s){switch(i.tag){case 3:pt(i,i.stateNode.containerInfo),ta(i,Kt,t.memoizedState.cache),ml();break;case 27:case 5:At(i);break;case 4:pt(i,i.stateNode.containerInfo);break;case 10:ta(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(sa(i),i.flags|=128,null):(s&i.child.childLanes)!==0?s_(t,i,s):(sa(i),t=Ii(t,i,s),t!==null?t.sibling:null);sa(i);break;case 19:var h=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(gl(t,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return l_(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(Yt,Yt.current),l)break;return null;case 22:case 23:return i.lanes=0,t_(t,i,s);case 24:ta(i,Kt,t.memoizedState.cache)}return Ii(t,i,s)}function u_(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)en=!0;else{if(!Ad(t,s)&&(i.flags&128)===0)return en=!1,TA(t,i,s);en=(t.flags&131072)!==0}else en=!1,ct&&(i.flags&1048576)!==0&&zg(i,lc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Pf(l)?(t=ys(l,t),i.tag=1,i=i_(null,i,l,t,s)):(i.tag=0,i=yd(null,i,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===me){i.tag=11,i=Zy(null,i,l,t,s);break e}else if(h===M){i.tag=14,i=Jy(null,i,l,t,s);break e}}throw i=je(l)||l,Error(a(306,i,""))}}return i;case 0:return yd(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=ys(l,i.pendingProps),i_(t,i,l,h,s);case 3:e:{if(pt(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Yf(t,i),wl(i,l,null,s);var E=i.memoizedState;if(l=E.cache,ta(i,Kt,l),l!==d.cache&&Hf(i,[Kt],s,!0),Sl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=a_(t,i,l,s);break e}else if(l!==h){h=cr(Error(a(424)),i),pl(h),i=a_(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ot=Cr(t.firstChild),On=i,ct=!0,hs=null,Gr=!0,s=Hy(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ml(),l===h){i=Ii(t,i,s);break e}un(t,i,l,s)}i=i.child}return i;case 26:return Cc(t,i),t===null?(s=dv(i.type,null,i.pendingProps,null))?i.memoizedState=s:ct||(s=i.type,t=i.pendingProps,l=qc(De.current).createElement(s),l[ie]=i,l[le]=t,hn(l,s,t),ke(l),i.stateNode=l):i.memoizedState=dv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return At(i),t===null&&ct&&(l=i.stateNode=cv(i.type,i.pendingProps,De.current),On=i,Gr=!0,h=Ot,ga(i.type)?(im=h,Ot=Cr(l.firstChild)):Ot=h),un(t,i,i.pendingProps.children,s),Cc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ct&&((h=l=Ot)&&(l=$A(l,i.type,i.pendingProps,Gr),l!==null?(i.stateNode=l,On=i,Ot=Cr(l.firstChild),Gr=!1,h=!0):h=!1),h||fs(i)),At(i),h=i.type,d=i.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,em(h,d)?l=null:E!==null&&em(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=Jf(t,i,dA,null,null,s),Gl._currentValue=h),Cc(t,i),un(t,i,l,s),i.child;case 6:return t===null&&ct&&((t=s=Ot)&&(s=XA(s,i.pendingProps,Gr),s!==null?(i.stateNode=s,On=i,Ot=null,t=!0):t=!1),t||fs(i)),null;case 13:return s_(t,i,s);case 4:return pt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=go(i,null,l,s):un(t,i,l,s),i.child;case 11:return Zy(t,i,i.type,i.pendingProps,s);case 7:return un(t,i,i.pendingProps,s),i.child;case 8:return un(t,i,i.pendingProps.children,s),i.child;case 12:return un(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,ta(i,i.type,l.value),un(t,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ms(i),h=yn(h),l=l(h),i.flags|=1,un(t,i,l,s),i.child;case 14:return Jy(t,i,i.type,i.pendingProps,s);case 15:return e_(t,i,i.type,i.pendingProps,s);case 19:return l_(t,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},t===null?(s=Dc(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Ei(t.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return t_(t,i,s);case 24:return ms(i),l=yn(Kt),t===null?(h=Ff(),h===null&&(h=wt,d=jf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),i.memoizedState={parent:l,cache:h},Kf(i),ta(i,Kt,h)):((t.lanes&s)!==0&&(Yf(t,i),wl(i,null,null,s),Sl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ta(i,Kt,l)):(l=d.cache,ta(i,Kt,l),l!==h.cache&&Hf(i,[Kt],s,!0))),un(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Ci(t){t.flags|=4}function c_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!_v(i)){if(i=mr.current,i!==null&&((rt&4194048)===rt?Kr!==null:(rt&62914560)!==rt&&(rt&536870912)===0||i!==Kr))throw El=Gf,Yg;t.flags|=8192}}function Nc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Qa():536870912,t.lanes|=i,Eo|=i)}function Nl(t,i){if(!ct)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Dt(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function SA(t,i,s){var l=i.pendingProps;switch(kf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(i),null;case 1:return Dt(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ai(Kt),er(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(dl(i)?Ci(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,jg())),Dt(i),null;case 26:return s=i.memoizedState,t===null?(Ci(i),s!==null?(Dt(i),c_(i,s)):(Dt(i),i.flags&=-16777217)):s?s!==t.memoizedState?(Ci(i),Dt(i),c_(i,s)):(Dt(i),i.flags&=-16777217):(t.memoizedProps!==l&&Ci(i),Dt(i),i.flags&=-16777217),null;case 27:pn(i),s=De.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ci(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Dt(i),null}t=we.current,dl(i)?Bg(i):(t=cv(h,l,s),i.stateNode=t,Ci(i))}return Dt(i),null;case 5:if(pn(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ci(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Dt(i),null}if(t=we.current,dl(i))Bg(i);else{switch(h=qc(De.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[ie]=i,t[le]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(hn(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ci(i)}}return Dt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ci(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=De.current,dl(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,h=On,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[ie]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||rv(t.nodeValue,s)),t||fs(i)}else t=qc(t).createTextNode(l),t[ie]=i,i.stateNode=t}return Dt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=dl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ie]=i}else ml(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Dt(i),h=!1}else h=jg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(bi(i),i):(bi(i),null)}if(bi(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),Nc(i,i.updateQueue),Dt(i),null;case 4:return er(),t===null&&$d(i.stateNode.containerInfo),Dt(i),null;case 10:return Ai(i.type),Dt(i),null;case 19:if(ce(Yt),h=i.memoizedState,h===null)return Dt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Nl(h,!1);else{if(Mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Rc(t),d!==null){for(i.flags|=128,Nl(h,!1),t=d.updateQueue,i.updateQueue=t,Nc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Ug(s,t),s=s.sibling;return oe(Yt,Yt.current&1|2),i.child}t=t.sibling}h.tail!==null&&An()>Pc&&(i.flags|=128,l=!0,Nl(h,!1),i.lanes=4194304)}else{if(!l)if(t=Rc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Nc(i,t),Nl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!ct)return Dt(i),null}else 2*An()-h.renderingStartTime>Pc&&s!==536870912&&(i.flags|=128,l=!0,Nl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=An(),i.sibling=null,t=Yt.current,oe(Yt,l?t&1|2:t&1),i):(Dt(i),null);case 22:case 23:return bi(i),Wf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(Dt(i),i.subtreeFlags&6&&(i.flags|=8192)):Dt(i),s=i.updateQueue,s!==null&&Nc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&ce(ps),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Ai(Kt),Dt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function wA(t,i){switch(kf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ai(Kt),er(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return pn(i),null;case 13:if(bi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));ml()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ce(Yt),null;case 4:return er(),null;case 10:return Ai(i.type),null;case 22:case 23:return bi(i),Wf(),t!==null&&ce(ps),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ai(Kt),null;case 25:return null;default:return null}}function h_(t,i){switch(kf(i),i.tag){case 3:Ai(Kt),er();break;case 26:case 27:case 5:pn(i);break;case 4:er();break;case 13:bi(i);break;case 19:ce(Yt);break;case 10:Ai(i.type);break;case 22:case 23:bi(i),Wf(),t!==null&&ce(ps);break;case 24:Ai(Kt)}}function Ol(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,E=s.inst;l=d(),E.destroy=l}s=s.next}while(s!==h)}}catch(T){Tt(i,i.return,T)}}function la(t,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,h=i;var C=s,q=T;try{q()}catch(J){Tt(h,C,J)}}}l=l.next}while(l!==d)}}catch(J){Tt(i,i.return,J)}}function f_(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Jg(i,s)}catch(l){Tt(t,t.return,l)}}}function d_(t,i,s){s.props=ys(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Tt(t,i,l)}}function Ml(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){Tt(t,i,h)}}function Yr(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Tt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Tt(t,i,h)}else s.current=null}function m_(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Tt(t,t.return,h)}}function Rd(t,i,s){try{var l=t.stateNode;FA(l,t.type,s,i),l[le]=i}catch(h){Tt(t,t.return,h)}}function p_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ga(t.type)||t.tag===4}function bd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||p_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ga(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Id(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=jc));else if(l!==4&&(l===27&&ga(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(Id(t,i,s),t=t.sibling;t!==null;)Id(t,i,s),t=t.sibling}function Oc(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&ga(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Oc(t,i,s),t=t.sibling;t!==null;)Oc(t,i,s),t=t.sibling}function g_(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);hn(i,l,s),i[ie]=t,i[le]=s}catch(d){Tt(t,t.return,d)}}var Di=!1,Vt=!1,Cd=!1,y_=typeof WeakSet=="function"?WeakSet:Set,tn=null;function AA(t,i){if(t=t.containerInfo,Zd=$c,t=Cg(t),bf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var E=0,T=-1,C=-1,q=0,J=0,re=t,Y=null;t:for(;;){for(var Q;re!==s||h!==0&&re.nodeType!==3||(T=E+h),re!==d||l!==0&&re.nodeType!==3||(C=E+l),re.nodeType===3&&(E+=re.nodeValue.length),(Q=re.firstChild)!==null;)Y=re,re=Q;for(;;){if(re===t)break t;if(Y===s&&++q===h&&(T=E),Y===d&&++J===l&&(C=E),(Q=re.nextSibling)!==null)break;re=Y,Y=re.parentNode}re=Q}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Jd={focusedElem:t,selectionRange:s},$c=!1,tn=i;tn!==null;)if(i=tn,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,tn=t;else for(;tn!==null;){switch(i=tn,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var Ve=ys(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Ve,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ne){Tt(s,s.return,Ne)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)nm(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,tn=t;break}tn=i.return}}function __(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ua(t,s),l&4&&Ol(5,s);break;case 1:if(ua(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(E){Tt(s,s.return,E)}else{var h=ys(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Tt(s,s.return,E)}}l&64&&f_(s),l&512&&Ml(s,s.return);break;case 3:if(ua(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Jg(t,i)}catch(E){Tt(s,s.return,E)}}break;case 27:i===null&&l&4&&g_(s);case 26:case 5:ua(t,s),i===null&&l&4&&m_(s),l&512&&Ml(s,s.return);break;case 12:ua(t,s);break;case 13:ua(t,s),l&4&&T_(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=PA.bind(null,s),WA(t,s))));break;case 22:if(l=s.memoizedState!==null||Di,!l){i=i!==null&&i.memoizedState!==null||Vt,h=Di;var d=Vt;Di=l,(Vt=i)&&!d?ca(t,s,(s.subtreeFlags&8772)!==0):ua(t,s),Di=h,Vt=d}break;case 30:break;default:ua(t,s)}}function v_(t){var i=t.alternate;i!==null&&(t.alternate=null,v_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Se(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ct=null,Ln=!1;function Ni(t,i,s){for(s=s.child;s!==null;)E_(t,i,s),s=s.sibling}function E_(t,i,s){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ot,s)}catch{}switch(s.tag){case 26:Vt||Yr(s,i),Ni(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Vt||Yr(s,i);var l=Ct,h=Ln;ga(s.type)&&(Ct=s.stateNode,Ln=!1),Ni(t,i,s),Hl(s.stateNode),Ct=l,Ln=h;break;case 5:Vt||Yr(s,i);case 6:if(l=Ct,h=Ln,Ct=null,Ni(t,i,s),Ct=l,Ln=h,Ct!==null)if(Ln)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(s.stateNode)}catch(d){Tt(s,i,d)}else try{Ct.removeChild(s.stateNode)}catch(d){Tt(s,i,d)}break;case 18:Ct!==null&&(Ln?(t=Ct,lv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),$l(t)):lv(Ct,s.stateNode));break;case 4:l=Ct,h=Ln,Ct=s.stateNode.containerInfo,Ln=!0,Ni(t,i,s),Ct=l,Ln=h;break;case 0:case 11:case 14:case 15:Vt||la(2,s,i),Vt||la(4,s,i),Ni(t,i,s);break;case 1:Vt||(Yr(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&d_(s,i,l)),Ni(t,i,s);break;case 21:Ni(t,i,s);break;case 22:Vt=(l=Vt)||s.memoizedState!==null,Ni(t,i,s),Vt=l;break;default:Ni(t,i,s)}}function T_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{$l(t)}catch(s){Tt(i,i.return,s)}}function RA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new y_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new y_),i;default:throw Error(a(435,t.tag))}}function Dd(t,i){var s=RA(t);i.forEach(function(l){var h=VA.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function Yn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,E=i,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(ga(T.type)){Ct=T.stateNode,Ln=!1;break e}break;case 5:Ct=T.stateNode,Ln=!1;break e;case 3:case 4:Ct=T.stateNode.containerInfo,Ln=!0;break e}T=T.return}if(Ct===null)throw Error(a(160));E_(d,E,h),Ct=null,Ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)S_(i,t),i=i.sibling}var Ir=null;function S_(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Yn(i,t),Qn(t),l&4&&(la(3,t,t.return),Ol(3,t),la(5,t,t.return));break;case 1:Yn(i,t),Qn(t),l&512&&(Vt||s===null||Yr(s,s.return)),l&64&&Di&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Ir;if(Yn(i,t),Qn(t),l&512&&(Vt||s===null||Yr(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Te]||d[ie]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),hn(d,l,s),d[ie]=t,ke(d),l=d;break e;case"link":var E=gv("link","href",h).get(l+(s.href||""));if(E){for(var T=0;T<E.length;T++)if(d=E[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(T,1);break t}}d=h.createElement(l),hn(d,l,s),h.head.appendChild(d);break;case"meta":if(E=gv("meta","content",h).get(l+(s.content||""))){for(T=0;T<E.length;T++)if(d=E[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(T,1);break t}}d=h.createElement(l),hn(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[ie]=t,ke(d),l=d}t.stateNode=l}else yv(h,t.type,t.stateNode);else t.stateNode=pv(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?yv(h,t.type,t.stateNode):pv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Rd(t,t.memoizedProps,s.memoizedProps)}break;case 27:Yn(i,t),Qn(t),l&512&&(Vt||s===null||Yr(s,s.return)),s!==null&&l&4&&Rd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Yn(i,t),Qn(t),l&512&&(Vt||s===null||Yr(s,s.return)),t.flags&32){h=t.stateNode;try{sr(h,"")}catch(Q){Tt(t,t.return,Q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Rd(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Cd=!0);break;case 6:if(Yn(i,t),Qn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(Q){Tt(t,t.return,Q)}}break;case 3:if(Kc=null,h=Ir,Ir=Fc(i.containerInfo),Yn(i,t),Ir=h,Qn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{$l(i.containerInfo)}catch(Q){Tt(t,t.return,Q)}Cd&&(Cd=!1,w_(t));break;case 4:l=Ir,Ir=Fc(t.stateNode.containerInfo),Yn(i,t),Qn(t),Ir=l;break;case 12:Yn(i,t),Qn(t);break;case 13:Yn(i,t),Qn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(xd=An()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dd(t,l)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,q=Di,J=Vt;if(Di=q||h,Vt=J||C,Yn(i,t),Vt=J,Di=q,Qn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||C||Di||Vt||_s(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){C=s=i;try{if(d=C.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=C.stateNode;var re=C.memoizedProps.style,Y=re!=null&&re.hasOwnProperty("display")?re.display:null;T.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Q){Tt(C,C.return,Q)}}}else if(i.tag===6){if(s===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(Q){Tt(C,C.return,Q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Dd(t,s))));break;case 19:Yn(i,t),Qn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dd(t,l)));break;case 30:break;case 21:break;default:Yn(i,t),Qn(t)}}function Qn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(p_(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=bd(t);Oc(t,d,h);break;case 5:var E=s.stateNode;s.flags&32&&(sr(E,""),s.flags&=-33);var T=bd(t);Oc(t,T,E);break;case 3:case 4:var C=s.stateNode.containerInfo,q=bd(t);Id(t,q,C);break;default:throw Error(a(161))}}catch(J){Tt(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function w_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;w_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ua(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)__(t,i.alternate,i),i=i.sibling}function _s(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:la(4,i,i.return),_s(i);break;case 1:Yr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&d_(i,i.return,s),_s(i);break;case 27:Hl(i.stateNode);case 26:case 5:Yr(i,i.return),_s(i);break;case 22:i.memoizedState===null&&_s(i);break;case 30:_s(i);break;default:_s(i)}t=t.sibling}}function ca(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:ca(h,d,s),Ol(4,d);break;case 1:if(ca(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Tt(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Zg(C[h],T)}catch(q){Tt(l,l.return,q)}}s&&E&64&&f_(d),Ml(d,d.return);break;case 27:g_(d);case 26:case 5:ca(h,d,s),s&&l===null&&E&4&&m_(d),Ml(d,d.return);break;case 12:ca(h,d,s);break;case 13:ca(h,d,s),s&&E&4&&T_(h,d);break;case 22:d.memoizedState===null&&ca(h,d,s),Ml(d,d.return);break;case 30:break;default:ca(h,d,s)}i=i.sibling}}function Nd(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&yl(s))}function Od(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&yl(t))}function Qr(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)A_(t,i,s,l),i=i.sibling}function A_(t,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Qr(t,i,s,l),h&2048&&Ol(9,i);break;case 1:Qr(t,i,s,l);break;case 3:Qr(t,i,s,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&yl(t)));break;case 12:if(h&2048){Qr(t,i,s,l),t=i.stateNode;try{var d=i.memoizedProps,E=d.id,T=d.onPostCommit;typeof T=="function"&&T(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Tt(i,i.return,C)}}else Qr(t,i,s,l);break;case 13:Qr(t,i,s,l);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?Qr(t,i,s,l):Pl(t,i):d._visibility&2?Qr(t,i,s,l):(d._visibility|=2,yo(t,i,s,l,(i.subtreeFlags&10256)!==0)),h&2048&&Nd(E,i);break;case 24:Qr(t,i,s,l),h&2048&&Od(i.alternate,i);break;default:Qr(t,i,s,l)}}function yo(t,i,s,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,E=i,T=s,C=l,q=E.flags;switch(E.tag){case 0:case 11:case 15:yo(d,E,T,C,h),Ol(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?yo(d,E,T,C,h):Pl(d,E):(J._visibility|=2,yo(d,E,T,C,h)),h&&q&2048&&Nd(E.alternate,E);break;case 24:yo(d,E,T,C,h),h&&q&2048&&Od(E.alternate,E);break;default:yo(d,E,T,C,h)}i=i.sibling}}function Pl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,h=l.flags;switch(l.tag){case 22:Pl(s,l),h&2048&&Nd(l.alternate,l);break;case 24:Pl(s,l),h&2048&&Od(l.alternate,l);break;default:Pl(s,l)}i=i.sibling}}var Vl=8192;function _o(t){if(t.subtreeFlags&Vl)for(t=t.child;t!==null;)R_(t),t=t.sibling}function R_(t){switch(t.tag){case 26:_o(t),t.flags&Vl&&t.memoizedState!==null&&cR(Ir,t.memoizedState,t.memoizedProps);break;case 5:_o(t);break;case 3:case 4:var i=Ir;Ir=Fc(t.stateNode.containerInfo),_o(t),Ir=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Vl,Vl=16777216,_o(t),Vl=i):_o(t));break;default:_o(t)}}function b_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function xl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];tn=l,C_(l,t)}b_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)I_(t),t=t.sibling}function I_(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&la(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Mc(t)):xl(t);break;default:xl(t)}}function Mc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];tn=l,C_(l,t)}b_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:la(8,i,i.return),Mc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Mc(i));break;default:Mc(i)}t=t.sibling}}function C_(t,i){for(;tn!==null;){var s=tn;switch(s.tag){case 0:case 11:case 15:la(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:yl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,tn=l;else e:for(s=t;tn!==null;){l=tn;var h=l.sibling,d=l.return;if(v_(l),l===s){tn=null;break e}if(h!==null){h.return=d,tn=h;break e}tn=d}}}var bA={getCacheForType:function(t){var i=yn(Kt),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},IA=typeof WeakMap=="function"?WeakMap:Map,dt=0,wt=null,Qe=null,rt=0,mt=0,$n=null,ha=!1,vo=!1,Md=!1,Oi=0,Mt=0,fa=0,vs=0,Pd=0,pr=0,Eo=0,Ll=null,kn=null,Vd=!1,xd=0,Pc=1/0,Vc=null,da=null,cn=0,ma=null,To=null,So=0,Ld=0,kd=null,D_=null,kl=0,Ud=null;function Xn(){if((dt&2)!==0&&rt!==0)return rt&-rt;if(K.T!==null){var t=lo;return t!==0?t:Gd()}return D()}function N_(){pr===0&&(pr=(rt&536870912)===0||ct?hi():536870912);var t=mr.current;return t!==null&&(t.flags|=32),pr}function Wn(t,i,s){(t===wt&&(mt===2||mt===9)||t.cancelPendingCommit!==null)&&(wo(t,0),pa(t,rt,pr,!1)),wr(t,s),((dt&2)===0||t!==wt)&&(t===wt&&((dt&2)===0&&(vs|=s),Mt===4&&pa(t,rt,pr,!1)),$r(t))}function O_(t,i,s){if((dt&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&t.expiredLanes)===0||rr(t,i),h=l?NA(t,i):Hd(t,i,!0),d=l;do{if(h===0){vo&&!l&&pa(t,i,0,!1);break}else{if(s=t.current.alternate,d&&!CA(s)){h=Hd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var T=t;h=Ll;var C=T.current.memoizedState.isDehydrated;if(C&&(wo(T,E).flags|=256),E=Hd(T,E,!1),E!==2){if(Md&&!C){T.errorRecoveryDisabledLanes|=d,vs|=d,h=4;break e}d=kn,kn=h,d!==null&&(kn===null?kn=d:kn.push.apply(kn,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){wo(t,0),pa(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:pa(l,i,pr,!ha);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=xd+300-An(),10<h)){if(pa(l,i,pr,!ha),ci(l,0,!0)!==0)break e;l.timeoutHandle=sv(M_.bind(null,l,s,kn,Vc,Vd,i,pr,vs,Eo,ha,d,2,-0,0),h);break e}M_(l,s,kn,Vc,Vd,i,pr,vs,Eo,ha,d,0,-0,0)}}break}while(!0);$r(t)}function M_(t,i,s,l,h,d,E,T,C,q,J,re,Y,Q){if(t.timeoutHandle=-1,re=i.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(Fl={stylesheets:null,count:0,unsuspend:uR},R_(i),re=hR(),re!==null)){t.cancelPendingCommit=re(z_.bind(null,t,i,d,s,l,h,E,T,C,J,1,Y,Q)),pa(t,d,E,!q);return}z_(t,i,d,s,l,h,E,T,C)}function CA(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!Gn(d(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function pa(t,i,s,l){i&=~Pd,i&=~vs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-kt(h),E=1<<d;l[d]=-1,h&=~E}s!==0&&Rn(t,s,i)}function xc(){return(dt&6)===0?(Ul(0),!1):!0}function zd(){if(Qe!==null){if(mt===0)var t=Qe.return;else t=Qe,wi=ds=null,nd(t),po=null,Cl=0,t=Qe;for(;t!==null;)h_(t.alternate,t),t=t.return;Qe=null}}function wo(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,KA(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),zd(),wt=t,Qe=s=Ei(t.current,null),rt=i,mt=0,$n=null,ha=!1,vo=rr(t,i),Md=!1,Eo=pr=Pd=vs=fa=Mt=0,kn=Ll=null,Vd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-kt(l),d=1<<h;i|=t[h],l&=~d}return Oi=i,rc(),s}function P_(t,i){Ge=null,K.H=Sc,i===vl||i===fc?(i=Xg(),mt=3):i===Yg?(i=Xg(),mt=4):mt=i===Wy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,$n=i,Qe===null&&(Mt=1,Ic(t,cr(i,t.current)))}function V_(){var t=K.H;return K.H=Sc,t===null?Sc:t}function x_(){var t=K.A;return K.A=bA,t}function Bd(){Mt=4,ha||(rt&4194048)!==rt&&mr.current!==null||(vo=!0),(fa&134217727)===0&&(vs&134217727)===0||wt===null||pa(wt,rt,pr,!1)}function Hd(t,i,s){var l=dt;dt|=2;var h=V_(),d=x_();(wt!==t||rt!==i)&&(Vc=null,wo(t,i)),i=!1;var E=Mt;e:do try{if(mt!==0&&Qe!==null){var T=Qe,C=$n;switch(mt){case 8:zd(),E=6;break e;case 3:case 2:case 9:case 6:mr.current===null&&(i=!0);var q=mt;if(mt=0,$n=null,Ao(t,T,C,q),s&&vo){E=0;break e}break;default:q=mt,mt=0,$n=null,Ao(t,T,C,q)}}DA(),E=Mt;break}catch(J){P_(t,J)}while(!0);return i&&t.shellSuspendCounter++,wi=ds=null,dt=l,K.H=h,K.A=d,Qe===null&&(wt=null,rt=0,rc()),E}function DA(){for(;Qe!==null;)L_(Qe)}function NA(t,i){var s=dt;dt|=2;var l=V_(),h=x_();wt!==t||rt!==i?(Vc=null,Pc=An()+500,wo(t,i)):vo=rr(t,i);e:do try{if(mt!==0&&Qe!==null){i=Qe;var d=$n;t:switch(mt){case 1:mt=0,$n=null,Ao(t,i,d,1);break;case 2:case 9:if(Qg(d)){mt=0,$n=null,k_(i);break}i=function(){mt!==2&&mt!==9||wt!==t||(mt=7),$r(t)},d.then(i,i);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:Qg(d)?(mt=0,$n=null,k_(i)):(mt=0,$n=null,Ao(t,i,d,7));break;case 5:var E=null;switch(Qe.tag){case 26:E=Qe.memoizedState;case 5:case 27:var T=Qe;if(!E||_v(E)){mt=0,$n=null;var C=T.sibling;if(C!==null)Qe=C;else{var q=T.return;q!==null?(Qe=q,Lc(q)):Qe=null}break t}}mt=0,$n=null,Ao(t,i,d,5);break;case 6:mt=0,$n=null,Ao(t,i,d,6);break;case 8:zd(),Mt=6;break e;default:throw Error(a(462))}}OA();break}catch(J){P_(t,J)}while(!0);return wi=ds=null,K.H=l,K.A=h,dt=s,Qe!==null?0:(wt=null,rt=0,rc(),Mt)}function OA(){for(;Qe!==null&&!Ka();)L_(Qe)}function L_(t){var i=u_(t.alternate,t,Oi);t.memoizedProps=t.pendingProps,i===null?Lc(t):Qe=i}function k_(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=r_(s,i,i.pendingProps,i.type,void 0,rt);break;case 11:i=r_(s,i,i.pendingProps,i.type.render,i.ref,rt);break;case 5:nd(i);default:h_(s,i),i=Qe=Ug(i,Oi),i=u_(s,i,Oi)}t.memoizedProps=t.pendingProps,i===null?Lc(t):Qe=i}function Ao(t,i,s,l){wi=ds=null,nd(i),po=null,Cl=0;var h=i.return;try{if(EA(t,h,i,s,rt)){Mt=1,Ic(t,cr(s,t.current)),Qe=null;return}}catch(d){if(h!==null)throw Qe=h,d;Mt=1,Ic(t,cr(s,t.current)),Qe=null;return}i.flags&32768?(ct||l===1?t=!0:vo||(rt&536870912)!==0?t=!1:(ha=t=!0,(l===2||l===9||l===3||l===6)&&(l=mr.current,l!==null&&l.tag===13&&(l.flags|=16384))),U_(i,t)):Lc(i)}function Lc(t){var i=t;do{if((i.flags&32768)!==0){U_(i,ha);return}t=i.return;var s=SA(i.alternate,i,Oi);if(s!==null){Qe=s;return}if(i=i.sibling,i!==null){Qe=i;return}Qe=i=t}while(i!==null);Mt===0&&(Mt=5)}function U_(t,i){do{var s=wA(t.alternate,t);if(s!==null){s.flags&=32767,Qe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Qe=t;return}Qe=t=s}while(t!==null);Mt=6,Qe=null}function z_(t,i,s,l,h,d,E,T,C){t.cancelPendingCommit=null;do kc();while(cn!==0);if((dt&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=Of,Qi(t,s,d,E,T,C),t===wt&&(Qe=wt=null,rt=0),To=i,ma=t,So=s,Ld=d,kd=h,D_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,xA(ui,function(){return F_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=ue.p,ue.p=2,E=dt,dt|=4;try{AA(t,i,s)}finally{dt=E,ue.p=h,K.T=l}}cn=1,B_(),H_(),j_()}}function B_(){if(cn===1){cn=0;var t=ma,i=To,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=K.T,K.T=null;var l=ue.p;ue.p=2;var h=dt;dt|=4;try{S_(i,t);var d=Jd,E=Cg(t.containerInfo),T=d.focusedElem,C=d.selectionRange;if(E!==T&&T&&T.ownerDocument&&Ig(T.ownerDocument.documentElement,T)){if(C!==null&&bf(T)){var q=C.start,J=C.end;if(J===void 0&&(J=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(J,T.value.length);else{var re=T.ownerDocument||document,Y=re&&re.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),Ve=T.textContent.length,Ne=Math.min(C.start,Ve),vt=C.end===void 0?Ne:Math.min(C.end,Ve);!Q.extend&&Ne>vt&&(E=vt,vt=Ne,Ne=E);var k=bg(T,Ne),V=bg(T,vt);if(k&&V&&(Q.rangeCount!==1||Q.anchorNode!==k.node||Q.anchorOffset!==k.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var j=re.createRange();j.setStart(k.node,k.offset),Q.removeAllRanges(),Ne>vt?(Q.addRange(j),Q.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),Q.addRange(j))}}}}for(re=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&re.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<re.length;T++){var te=re[T];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}$c=!!Zd,Jd=Zd=null}finally{dt=h,ue.p=l,K.T=s}}t.current=i,cn=2}}function H_(){if(cn===2){cn=0;var t=ma,i=To,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=K.T,K.T=null;var l=ue.p;ue.p=2;var h=dt;dt|=4;try{__(t,i.alternate,i)}finally{dt=h,ue.p=l,K.T=s}}cn=3}}function j_(){if(cn===4||cn===3){cn=0,qs();var t=ma,i=To,s=So,l=D_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?cn=5:(cn=0,To=ma=null,q_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(da=null),$i(s),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ot,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=ue.p,ue.p=2,K.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var T=l[E];d(T.value,{componentStack:T.stack})}}finally{K.T=i,ue.p=h}}(So&3)!==0&&kc(),$r(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===Ud?kl++:(kl=0,Ud=t):kl=0,Ul(0)}}function q_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,yl(i)))}function kc(t){return B_(),H_(),j_(),F_()}function F_(){if(cn!==5)return!1;var t=ma,i=Ld;Ld=0;var s=$i(So),l=K.T,h=ue.p;try{ue.p=32>s?32:s,K.T=null,s=kd,kd=null;var d=ma,E=So;if(cn=0,To=ma=null,So=0,(dt&6)!==0)throw Error(a(331));var T=dt;if(dt|=4,I_(d.current),A_(d,d.current,E,s),dt=T,Ul(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ot,d)}catch{}return!0}finally{ue.p=h,K.T=l,q_(t,i)}}function G_(t,i,s){i=cr(s,i),i=gd(t.stateNode,i,2),t=ia(t,i,2),t!==null&&(wr(t,2),$r(t))}function Tt(t,i,s){if(t.tag===3)G_(t,t,s);else for(;i!==null;){if(i.tag===3){G_(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(da===null||!da.has(l))){t=cr(s,t),s=$y(2),l=ia(i,s,2),l!==null&&(Xy(s,l,i,t),wr(l,2),$r(l));break}}i=i.return}}function jd(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new IA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(Md=!0,h.add(s),t=MA.bind(null,t,i,s),i.then(t,t))}function MA(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,wt===t&&(rt&s)===s&&(Mt===4||Mt===3&&(rt&62914560)===rt&&300>An()-xd?(dt&2)===0&&wo(t,0):Pd|=s,Eo===rt&&(Eo=0)),$r(t)}function K_(t,i){i===0&&(i=Qa()),t=io(t,i),t!==null&&(wr(t,i),$r(t))}function PA(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),K_(t,s)}function VA(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),K_(t,s)}function xA(t,i){return li(t,i)}var Uc=null,Ro=null,qd=!1,zc=!1,Fd=!1,Es=0;function $r(t){t!==Ro&&t.next===null&&(Ro===null?Uc=Ro=t:Ro=Ro.next=t),zc=!0,qd||(qd=!0,kA())}function Ul(t,i){if(!Fd&&zc){Fd=!0;do for(var s=!1,l=Uc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-kt(42|t)+1)-1,d&=h&~(E&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,X_(l,d))}else d=rt,d=ci(l,l===wt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||rr(l,d)||(s=!0,X_(l,d));l=l.next}while(s);Fd=!1}}function LA(){Y_()}function Y_(){zc=qd=!1;var t=0;Es!==0&&(GA()&&(t=Es),Es=0);for(var i=An(),s=null,l=Uc;l!==null;){var h=l.next,d=Q_(l,i);d===0?(l.next=null,s===null?Uc=h:s.next=h,h===null&&(Ro=s)):(s=l,(t!==0||(d&3)!==0)&&(zc=!0)),l=h}Ul(t)}function Q_(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-kt(d),T=1<<E,C=h[E];C===-1?((T&s)===0||(T&l)!==0)&&(h[E]=Yi(T,i)):C<=i&&(t.expiredLanes|=T),d&=~T}if(i=wt,s=rt,s=ci(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(mt===2||mt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&wn(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||rr(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&wn(l),$i(s)){case 2:case 8:s=Fi;break;case 32:s=ui;break;case 268435456:s=tr;break;default:s=ui}return l=$_.bind(null,t),s=li(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&wn(l),t.callbackPriority=2,t.callbackNode=null,2}function $_(t,i){if(cn!==0&&cn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(kc()&&t.callbackNode!==s)return null;var l=rt;return l=ci(t,t===wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(O_(t,l,i),Q_(t,An()),t.callbackNode!=null&&t.callbackNode===s?$_.bind(null,t):null)}function X_(t,i){if(kc())return null;O_(t,i,!0)}function kA(){YA(function(){(dt&6)!==0?li(Ya,LA):Y_()})}function Gd(){return Es===0&&(Es=hi()),Es}function W_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ks(""+t)}function Z_(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function UA(t,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var d=W_((h[le]||null).action),E=l.submitter;E&&(i=(i=E[le]||null)?W_(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var T=new Ys("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Es!==0){var C=E?Z_(h,E):new FormData(h);hd(s,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=E?Z_(h,E):new FormData(h),hd(s,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Kd=0;Kd<Nf.length;Kd++){var Yd=Nf[Kd],zA=Yd.toLowerCase(),BA=Yd[0].toUpperCase()+Yd.slice(1);br(zA,"on"+BA)}br(Og,"onAnimationEnd"),br(Mg,"onAnimationIteration"),br(Pg,"onAnimationStart"),br("dblclick","onDoubleClick"),br("focusin","onFocus"),br("focusout","onBlur"),br(rA,"onTransitionRun"),br(iA,"onTransitionStart"),br(aA,"onTransitionCancel"),br(Vg,"onTransitionEnd"),Wt("onMouseEnter",["mouseout","mouseover"]),Wt("onMouseLeave",["mouseout","mouseover"]),Wt("onPointerEnter",["pointerout","pointerover"]),Wt("onPointerLeave",["pointerout","pointerover"]),on("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),on("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),on("onBeforeInput",["compositionend","keypress","textInput","paste"]),on("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function J_(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var T=l[E],C=T.instance,q=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(J){bc(J)}h.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(T=l[E],C=T.instance,q=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(J){bc(J)}h.currentTarget=null,d=C}}}}function $e(t,i){var s=i[Ae];s===void 0&&(s=i[Ae]=new Set);var l=t+"__bubble";s.has(l)||(ev(i,t,2,!1),s.add(l))}function Qd(t,i,s){var l=0;i&&(l|=4),ev(s,t,l,i)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function $d(t){if(!t[Bc]){t[Bc]=!0,ut.forEach(function(s){s!=="selectionchange"&&(HA.has(s)||Qd(s,!1,t),Qd(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Bc]||(i[Bc]=!0,Qd("selectionchange",!1,i))}}function ev(t,i,s,l){switch(Av(i)){case 2:var h=mR;break;case 8:h=pR;break;default:h=um}s=h.bind(null,i,s,t),h=void 0,!lr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function Xd(t,i,s,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===h)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;T!==null;){if(E=He(T),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue e}T=T.parentNode}}l=l.return}ju(function(){var q=d,J=or(s),re=[];e:{var Y=xg.get(t);if(Y!==void 0){var Q=Ys,Ve=t;switch(t){case"keypress":if(Br(s)===0)break e;case"keydown":case"keyup":Q=Js;break;case"focusin":Ve="focus",Q=Xs;break;case"focusout":Ve="blur",Q=Xs;break;case"beforeblur":case"afterblur":Q=Xs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=ur;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Sf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Xu;break;case Og:case Mg:case Pg:Q=Ws;break;case Vg:Q=Zu;break;case"scroll":case"scrollend":Q=qu;break;case"wheel":Q=eo;break;case"copy":case"cut":case"paste":Q=Zs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=ul;break;case"toggle":case"beforetoggle":Q=ec}var Ne=(i&4)!==0,vt=!Ne&&(t==="scroll"||t==="scrollend"),k=Ne?Y!==null?Y+"Capture":null:Y;Ne=[];for(var V=q,j;V!==null;){var te=V;if(j=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||j===null||k===null||(te=Ja(V,k),te!=null&&Ne.push(Bl(V,te,j))),vt)break;V=V.return}0<Ne.length&&(Y=new Q(Y,Ve,null,s,J),re.push({event:Y,listeners:Ne}))}}if((i&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",Y&&s!==mi&&(Ve=s.relatedTarget||s.fromElement)&&(He(Ve)||Ve[ge]))break e;if((Q||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(Ve=s.relatedTarget||s.toElement,Q=q,Ve=Ve?He(Ve):null,Ve!==null&&(vt=u(Ve),Ne=Ve.tag,Ve!==vt||Ne!==5&&Ne!==27&&Ne!==6)&&(Ve=null)):(Q=null,Ve=q),Q!==Ve)){if(Ne=ur,te="onMouseLeave",k="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Ne=ul,te="onPointerLeave",k="onPointerEnter",V="pointer"),vt=Q==null?Y:Et(Q),j=Ve==null?Y:Et(Ve),Y=new Ne(te,V+"leave",Q,s,J),Y.target=vt,Y.relatedTarget=j,te=null,He(J)===q&&(Ne=new Ne(k,V+"enter",Ve,s,J),Ne.target=j,Ne.relatedTarget=vt,te=Ne),vt=te,Q&&Ve)t:{for(Ne=Q,k=Ve,V=0,j=Ne;j;j=bo(j))V++;for(j=0,te=k;te;te=bo(te))j++;for(;0<V-j;)Ne=bo(Ne),V--;for(;0<j-V;)k=bo(k),j--;for(;V--;){if(Ne===k||k!==null&&Ne===k.alternate)break t;Ne=bo(Ne),k=bo(k)}Ne=null}else Ne=null;Q!==null&&tv(re,Y,Q,Ne,!1),Ve!==null&&vt!==null&&tv(re,vt,Ve,Ne,!0)}}e:{if(Y=q?Et(q):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var _e=Eg;else if(Gt(Y))if(Tg)_e=eA;else{_e=Zw;var Ke=Ww}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?q&&nl(q.elementType)&&(_e=Eg):_e=Jw;if(_e&&(_e=_e(t,q))){vi(re,_e,s,J);break e}Ke&&Ke(t,Y,q),t==="focusout"&&q&&Y.type==="number"&&q.memoizedProps.value!=null&&Ji(Y,"number",Y.value)}switch(Ke=q?Et(q):window,t){case"focusin":(Gt(Ke)||Ke.contentEditable==="true")&&(to=Ke,If=q,fl=null);break;case"focusout":fl=If=to=null;break;case"mousedown":Cf=!0;break;case"contextmenu":case"mouseup":case"dragend":Cf=!1,Dg(re,s,J);break;case"selectionchange":if(nA)break;case"keydown":case"keyup":Dg(re,s,J)}var be;if(qr)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else tt?X(t,s)&&(Oe="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Oe="onCompositionStart");Oe&&(_&&s.locale!=="ko"&&(tt||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&tt&&(be=il()):(zr=J,ea="value"in zr?zr.value:zr.textContent,tt=!0)),Ke=Hc(q,Oe),0<Ke.length&&(Oe=new ol(Oe,t,null,s,J),re.push({event:Oe,listeners:Ke}),be?Oe.data=be:(be=he(s),be!==null&&(Oe.data=be)))),(be=y?Ft(t,s):nt(t,s))&&(Oe=Hc(q,"onBeforeInput"),0<Oe.length&&(Ke=new ol("onBeforeInput","beforeinput",null,s,J),re.push({event:Ke,listeners:Oe}),Ke.data=be)),UA(re,t,q,s,J)}J_(re,i)})}function Bl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Hc(t,i){for(var s=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ja(t,s),h!=null&&l.unshift(Bl(t,h,d)),h=Ja(t,i),h!=null&&l.push(Bl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function bo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function tv(t,i,s,l,h){for(var d=i._reactName,E=[];s!==null&&s!==l;){var T=s,C=T.alternate,q=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||q===null||(C=q,h?(q=Ja(s,d),q!=null&&E.unshift(Bl(s,q,C))):h||(q=Ja(s,d),q!=null&&E.push(Bl(s,q,C)))),s=s.return}E.length!==0&&t.push({event:i,listeners:E})}var jA=/\r\n?/g,qA=/\u0000|\uFFFD/g;function nv(t){return(typeof t=="string"?t:""+t).replace(jA,`
`).replace(qA,"")}function rv(t,i){return i=nv(i),nv(t)===i}function jc(){}function _t(t,i,s,l,h,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||sr(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&sr(t,""+l);break;case"className":In(t,"class",l);break;case"tabIndex":In(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":In(t,s,l);break;case"style":tl(t,l,d);break;case"data":if(i!=="object"){In(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ks(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&_t(t,i,"name",h.name,h,null),_t(t,i,"formEncType",h.formEncType,h,null),_t(t,i,"formMethod",h.formMethod,h,null),_t(t,i,"formTarget",h.formTarget,h,null)):(_t(t,i,"encType",h.encType,h,null),_t(t,i,"method",h.method,h,null),_t(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ks(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=jc);break;case"onScroll":l!=null&&$e("scroll",t);break;case"onScrollEnd":l!=null&&$e("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Ks(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":$e("beforetoggle",t),$e("toggle",t),qn(t,"popover",l);break;case"xlinkActuate":xe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":qn(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Ef.get(s)||s,qn(t,s,l))}}function Wd(t,i,s,l,h,d){switch(s){case"style":tl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?sr(t,l):(typeof l=="number"||typeof l=="bigint")&&sr(t,""+l);break;case"onScroll":l!=null&&$e("scroll",t);break;case"onScrollEnd":l!=null&&$e("scrollend",t);break;case"onClick":l!=null&&(t.onclick=jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vn.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),d=t[le]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):qn(t,s,l)}}}function hn(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",t),$e("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var E=s[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:_t(t,i,d,E,s,null)}}h&&_t(t,i,"srcSet",s.srcSet,s,null),l&&_t(t,i,"src",s.src,s,null);return;case"input":$e("invalid",t);var T=d=E=h=null,C=null,q=null;for(l in s)if(s.hasOwnProperty(l)){var J=s[l];if(J!=null)switch(l){case"name":h=J;break;case"type":E=J;break;case"checked":C=J;break;case"defaultChecked":q=J;break;case"value":d=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:_t(t,i,l,J,s,null)}}Xa(t,d,T,C,q,E,h,!1),Gs(t);return;case"select":$e("invalid",t),l=E=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:_t(t,i,h,T,s,null)}i=d,s=E,t.multiple=!!l,i!=null?di(t,!!l,i,!1):s!=null&&di(t,!!l,s,!0);return;case"textarea":$e("invalid",t),d=h=l=null;for(E in s)if(s.hasOwnProperty(E)&&(T=s[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:_t(t,i,E,T,s,null)}Wa(t,l,h,d),Gs(t);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(l=s[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:_t(t,i,C,l,s,null)}return;case"dialog":$e("beforetoggle",t),$e("toggle",t),$e("cancel",t),$e("close",t);break;case"iframe":case"object":$e("load",t);break;case"video":case"audio":for(l=0;l<zl.length;l++)$e(zl[l],t);break;case"image":$e("error",t),$e("load",t);break;case"details":$e("toggle",t);break;case"embed":case"source":case"link":$e("error",t),$e("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in s)if(s.hasOwnProperty(q)&&(l=s[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:_t(t,i,q,l,s,null)}return;default:if(nl(i)){for(J in s)s.hasOwnProperty(J)&&(l=s[J],l!==void 0&&Wd(t,i,J,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&_t(t,i,T,l,s,null))}function FA(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,T=null,C=null,q=null,J=null;for(Q in s){var re=s[Q];if(s.hasOwnProperty(Q)&&re!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":C=re;default:l.hasOwnProperty(Q)||_t(t,i,Q,null,l,re)}}for(var Y in l){var Q=l[Y];if(re=s[Y],l.hasOwnProperty(Y)&&(Q!=null||re!=null))switch(Y){case"type":d=Q;break;case"name":h=Q;break;case"checked":q=Q;break;case"defaultChecked":J=Q;break;case"value":E=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,i));break;default:Q!==re&&_t(t,i,Y,Q,l,re)}}Fn(t,E,T,C,q,J,d,h);return;case"select":Q=E=T=Y=null;for(d in s)if(C=s[d],s.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":Q=C;default:l.hasOwnProperty(d)||_t(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=s[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":Y=d;break;case"defaultValue":T=d;break;case"multiple":E=d;default:d!==C&&_t(t,i,h,d,l,C)}i=T,s=E,l=Q,Y!=null?di(t,!!s,Y,!1):!!l!=!!s&&(i!=null?di(t,!!s,i,!0):di(t,!!s,s?[]:"",!1));return;case"textarea":Q=Y=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:_t(t,i,T,null,l,h)}for(E in l)if(h=l[E],d=s[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":Y=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&_t(t,i,E,h,l,d)}gt(t,Y,Q);return;case"option":for(var Ve in s)if(Y=s[Ve],s.hasOwnProperty(Ve)&&Y!=null&&!l.hasOwnProperty(Ve))switch(Ve){case"selected":t.selected=!1;break;default:_t(t,i,Ve,null,l,Y)}for(C in l)if(Y=l[C],Q=s[C],l.hasOwnProperty(C)&&Y!==Q&&(Y!=null||Q!=null))switch(C){case"selected":t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:_t(t,i,C,Y,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in s)Y=s[Ne],s.hasOwnProperty(Ne)&&Y!=null&&!l.hasOwnProperty(Ne)&&_t(t,i,Ne,null,l,Y);for(q in l)if(Y=l[q],Q=s[q],l.hasOwnProperty(q)&&Y!==Q&&(Y!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,i));break;default:_t(t,i,q,Y,l,Q)}return;default:if(nl(i)){for(var vt in s)Y=s[vt],s.hasOwnProperty(vt)&&Y!==void 0&&!l.hasOwnProperty(vt)&&Wd(t,i,vt,void 0,l,Y);for(J in l)Y=l[J],Q=s[J],!l.hasOwnProperty(J)||Y===Q||Y===void 0&&Q===void 0||Wd(t,i,J,Y,l,Q);return}}for(var k in s)Y=s[k],s.hasOwnProperty(k)&&Y!=null&&!l.hasOwnProperty(k)&&_t(t,i,k,null,l,Y);for(re in l)Y=l[re],Q=s[re],!l.hasOwnProperty(re)||Y===Q||Y==null&&Q==null||_t(t,i,re,Y,l,Q)}var Zd=null,Jd=null;function qc(t){return t.nodeType===9?t:t.ownerDocument}function iv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function av(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function em(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var tm=null;function GA(){var t=window.event;return t&&t.type==="popstate"?t===tm?!1:(tm=t,!0):(tm=null,!1)}var sv=typeof setTimeout=="function"?setTimeout:void 0,KA=typeof clearTimeout=="function"?clearTimeout:void 0,ov=typeof Promise=="function"?Promise:void 0,YA=typeof queueMicrotask=="function"?queueMicrotask:typeof ov<"u"?function(t){return ov.resolve(null).then(t).catch(QA)}:sv;function QA(t){setTimeout(function(){throw t})}function ga(t){return t==="head"}function lv(t,i){var s=i,l=0,h=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var E=t.ownerDocument;if(s&1&&Hl(E.documentElement),s&2&&Hl(E.body),s&4)for(s=E.head,Hl(s),E=s.firstChild;E;){var T=E.nextSibling,C=E.nodeName;E[Te]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=T}}if(h===0){t.removeChild(d),$l(i);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);$l(i)}function nm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":nm(s),Se(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function $A(t,i,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Te])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Cr(t.nextSibling),t===null)break}return null}function XA(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Cr(t.nextSibling),t===null))return null;return t}function rm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function WA(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Cr(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var im=null;function uv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function cv(t,i,s){switch(i=qc(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Hl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Se(t)}var gr=new Map,hv=new Set;function Fc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Mi=ue.d;ue.d={f:ZA,r:JA,D:eR,C:tR,L:nR,m:rR,X:aR,S:iR,M:sR};function ZA(){var t=Mi.f(),i=xc();return t||i}function JA(t){var i=at(t);i!==null&&i.tag===5&&i.type==="form"?Oy(i):Mi.r(t)}var Io=typeof document>"u"?null:document;function fv(t,i,s){var l=Io;if(l&&typeof i=="string"&&i){var h=Ut(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),hv.has(h)||(hv.add(h),t={rel:t,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),hn(i,"link",t),ke(i),l.head.appendChild(i)))}}function eR(t){Mi.D(t),fv("dns-prefetch",t,null)}function tR(t,i){Mi.C(t,i),fv("preconnect",t,i)}function nR(t,i,s){Mi.L(t,i,s);var l=Io;if(l&&t&&i){var h='link[rel="preload"][as="'+Ut(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Ut(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Ut(s.imageSizes)+'"]')):h+='[href="'+Ut(t)+'"]';var d=h;switch(i){case"style":d=Co(t);break;case"script":d=Do(t)}gr.has(d)||(t=v({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),gr.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(jl(d))||i==="script"&&l.querySelector(ql(d))||(i=l.createElement("link"),hn(i,"link",t),ke(i),l.head.appendChild(i)))}}function rR(t,i){Mi.m(t,i);var s=Io;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Ut(l)+'"][href="'+Ut(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Do(t)}if(!gr.has(d)&&(t=v({rel:"modulepreload",href:t},i),gr.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ql(d)))return}l=s.createElement("link"),hn(l,"link",t),ke(l),s.head.appendChild(l)}}}function iR(t,i,s){Mi.S(t,i,s);var l=Io;if(l&&t){var h=lt(l).hoistableStyles,d=Co(t);i=i||"default";var E=h.get(d);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(jl(d)))T.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},s),(s=gr.get(d))&&am(t,s);var C=E=l.createElement("link");ke(C),hn(C,"link",t),C._p=new Promise(function(q,J){C.onload=q,C.onerror=J}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Gc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:T},h.set(d,E)}}}function aR(t,i){Mi.X(t,i);var s=Io;if(s&&t){var l=lt(s).hoistableScripts,h=Do(t),d=l.get(h);d||(d=s.querySelector(ql(h)),d||(t=v({src:t,async:!0},i),(i=gr.get(h))&&sm(t,i),d=s.createElement("script"),ke(d),hn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function sR(t,i){Mi.M(t,i);var s=Io;if(s&&t){var l=lt(s).hoistableScripts,h=Do(t),d=l.get(h);d||(d=s.querySelector(ql(h)),d||(t=v({src:t,async:!0,type:"module"},i),(i=gr.get(h))&&sm(t,i),d=s.createElement("script"),ke(d),hn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function dv(t,i,s,l){var h=(h=De.current)?Fc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Co(s.href),s=lt(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Co(s.href);var d=lt(h).hoistableStyles,E=d.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=h.querySelector(jl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),gr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},gr.set(t,s),d||oR(h,t,s,E.state))),i&&l===null)throw Error(a(528,""));return E}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Do(s),s=lt(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Co(t){return'href="'+Ut(t)+'"'}function jl(t){return'link[rel="stylesheet"]['+t+"]"}function mv(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function oR(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),hn(i,"link",s),ke(i),t.head.appendChild(i))}function Do(t){return'[src="'+Ut(t)+'"]'}function ql(t){return"script[async]"+t}function pv(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Ut(s.href)+'"]');if(l)return i.instance=l,ke(l),l;var h=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ke(l),hn(l,"style",h),Gc(l,s.precedence,t),i.instance=l;case"stylesheet":h=Co(s.href);var d=t.querySelector(jl(h));if(d)return i.state.loading|=4,i.instance=d,ke(d),d;l=mv(s),(h=gr.get(h))&&am(l,h),d=(t.ownerDocument||t).createElement("link"),ke(d);var E=d;return E._p=new Promise(function(T,C){E.onload=T,E.onerror=C}),hn(d,"link",l),i.state.loading|=4,Gc(d,s.precedence,t),i.instance=d;case"script":return d=Do(s.src),(h=t.querySelector(ql(d)))?(i.instance=h,ke(h),h):(l=s,(h=gr.get(d))&&(l=v({},s),sm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ke(h),hn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Gc(l,s.precedence,t));return i.instance}function Gc(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function am(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function sm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Kc=null;function gv(t,i,s){if(Kc===null){var l=new Map,h=Kc=new Map;h.set(s,l)}else h=Kc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[Te]||d[ie]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=t+E;var T=l.get(E);T?T.push(d):l.set(E,[d])}}return l}function yv(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function lR(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function _v(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Fl=null;function uR(){}function cR(t,i,s){if(Fl===null)throw Error(a(475));var l=Fl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Co(s.href),d=t.querySelector(jl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Yc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ke(d);return}d=t.ownerDocument||t,s=mv(s),(h=gr.get(h))&&am(s,h),d=d.createElement("link"),ke(d);var E=d;E._p=new Promise(function(T,C){E.onload=T,E.onerror=C}),hn(d,"link",s),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Yc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function hR(){if(Fl===null)throw Error(a(475));var t=Fl;return t.stylesheets&&t.count===0&&om(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&om(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Yc(){if(this.count--,this.count===0){if(this.stylesheets)om(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Qc=null;function om(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Qc=new Map,i.forEach(fR,t),Qc=null,Yc.call(t))}function fR(t,i){if(!(i.state.loading&4)){var s=Qc.get(t);if(s)var l=s.get(null);else{s=new Map,Qc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),l=E)}l&&s.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),d=s.get(E)||l,d===l&&s.set(null,h),s.set(E,h),this.count++,l=Yc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Gl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function dR(t,i,s,l,h,d,E,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ir(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ir(0),this.hiddenUpdates=ir(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function vv(t,i,s,l,h,d,E,T,C,q,J,re){return t=new dR(t,i,s,E,T,C,q,re),i=1,d===!0&&(i|=24),d=Kn(3,null,null,i),t.current=d,d.stateNode=t,i=jf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},Kf(d),t}function Ev(t){return t?(t=ao,t):ao}function Tv(t,i,s,l,h,d){h=Ev(h),l.context===null?l.context=h:l.pendingContext=h,l=ra(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=ia(t,l,i),s!==null&&(Wn(s,t,i),Tl(s,t,i))}function Sv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function lm(t,i){Sv(t,i),(t=t.alternate)&&Sv(t,i)}function wv(t){if(t.tag===13){var i=io(t,67108864);i!==null&&Wn(i,t,67108864),lm(t,67108864)}}var $c=!0;function mR(t,i,s,l){var h=K.T;K.T=null;var d=ue.p;try{ue.p=2,um(t,i,s,l)}finally{ue.p=d,K.T=h}}function pR(t,i,s,l){var h=K.T;K.T=null;var d=ue.p;try{ue.p=8,um(t,i,s,l)}finally{ue.p=d,K.T=h}}function um(t,i,s,l){if($c){var h=cm(l);if(h===null)Xd(t,i,l,Xc,s),Rv(t,l);else if(yR(h,t,i,s,l))l.stopPropagation();else if(Rv(t,l),i&4&&-1<gR.indexOf(t)){for(;h!==null;){var d=at(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Hn(d.pendingLanes);if(E!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var C=1<<31-kt(E);T.entanglements[1]|=C,E&=~C}$r(d),(dt&6)===0&&(Pc=An()+500,Ul(0))}}break;case 13:T=io(d,2),T!==null&&Wn(T,d,2),xc(),lm(d,2)}if(d=cm(l),d===null&&Xd(t,i,l,Xc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else Xd(t,i,l,null,s)}}function cm(t){return t=or(t),hm(t)}var Xc=null;function hm(t){if(Xc=null,t=He(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=f(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Xc=t,null}function Av(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zo()){case Ya:return 2;case Fi:return 8;case ui:case Sr:return 32;case tr:return 268435456;default:return 32}default:return 32}}var fm=!1,ya=null,_a=null,va=null,Kl=new Map,Yl=new Map,Ea=[],gR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rv(t,i){switch(t){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":Kl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(i.pointerId)}}function Ql(t,i,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=at(i),i!==null&&wv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function yR(t,i,s,l,h){switch(i){case"focusin":return ya=Ql(ya,t,i,s,l,h),!0;case"dragenter":return _a=Ql(_a,t,i,s,l,h),!0;case"mouseover":return va=Ql(va,t,i,s,l,h),!0;case"pointerover":var d=h.pointerId;return Kl.set(d,Ql(Kl.get(d)||null,t,i,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Yl.set(d,Ql(Yl.get(d)||null,t,i,s,l,h)),!0}return!1}function bv(t){var i=He(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=f(s),i!==null){t.blockedOn=i,z(t.priority,function(){if(s.tag===13){var l=Xn();l=kr(l);var h=io(s,l);h!==null&&Wn(h,s,l),lm(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=cm(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);mi=l,s.target.dispatchEvent(l),mi=null}else return i=at(s),i!==null&&wv(i),t.blockedOn=s,!1;i.shift()}return!0}function Iv(t,i,s){Wc(t)&&s.delete(i)}function _R(){fm=!1,ya!==null&&Wc(ya)&&(ya=null),_a!==null&&Wc(_a)&&(_a=null),va!==null&&Wc(va)&&(va=null),Kl.forEach(Iv),Yl.forEach(Iv)}function Zc(t,i){t.blockedOn===i&&(t.blockedOn=null,fm||(fm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_R)))}var Jc=null;function Cv(t){Jc!==t&&(Jc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Jc===t&&(Jc=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(hm(l||s)===null)continue;break}var d=at(s);d!==null&&(t.splice(i,3),i-=3,hd(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function $l(t){function i(C){return Zc(C,t)}ya!==null&&Zc(ya,t),_a!==null&&Zc(_a,t),va!==null&&Zc(va,t),Kl.forEach(i),Yl.forEach(i);for(var s=0;s<Ea.length;s++){var l=Ea[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ea.length&&(s=Ea[0],s.blockedOn===null);)bv(s),s.blockedOn===null&&Ea.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],E=h[le]||null;if(typeof d=="function")E||Cv(s);else if(E){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[le]||null)T=E.formAction;else if(hm(h)!==null)continue}else T=E.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),Cv(s)}}}function dm(t){this._internalRoot=t}eh.prototype.render=dm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=Xn();Tv(s,l,t,i,null,null)},eh.prototype.unmount=dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Tv(t.current,2,null,t,null,null),xc(),i[ge]=null}};function eh(t){this._internalRoot=t}eh.prototype.unstable_scheduleHydration=function(t){if(t){var i=D();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Ea.length&&i!==0&&i<Ea[s].priority;s++);Ea.splice(s,0,t),s===0&&bv(t)}};var Dv=e.version;if(Dv!=="19.1.1")throw Error(a(527,Dv,"19.1.1"));ue.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var vR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{ot=th.inject(vR),Fe=th}catch{}}return Wl.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",h=Gy,d=Ky,E=Yy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=vv(t,1,!1,null,null,s,l,h,d,E,T,null),t[ge]=i.current,$d(t),new dm(i)},Wl.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=Gy,E=Ky,T=Yy,C=null,q=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks),s.formState!==void 0&&(q=s.formState)),i=vv(t,1,!0,i,s??null,l,h,d,E,T,C,q),i.context=Ev(null),s=i.current,l=Xn(),l=kr(l),h=ra(l),h.callback=null,ia(s,h,l),s=l,i.current.lanes=s,wr(i,s),$r(i),t[ge]=i.current,$d(t),new eh(i)},Wl.version="19.1.1",Wl}var zv;function CR(){if(zv)return gm.exports;zv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gm.exports=IR(),gm.exports}var DR=CR();const yp=Z.createContext({user:{uid:"",username:"",email:"",picture:"",friends:[],pendingFriends:[],notifications:[],rank:0,xp:0,questionStreak:0,savedQuestions:[],decks:[]},setUser:()=>{}});/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jT=r=>{throw TypeError(r)},NR=(r,e,n)=>e.has(r)||jT("Cannot "+n),Em=(r,e,n)=>(NR(r,e,"read from private field"),n?n.call(r):e.get(r)),OR=(r,e,n)=>e.has(r)?jT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,n),Bv="popstate";function MR(r={}){function e(a,o){let{pathname:u,search:f,hash:m}=a.location;return pu("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Pa(o)}return VR(e,n,null,r)}function Xe(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function qt(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PR(){return Math.random().toString(36).substring(2,10)}function Hv(r,e){return{usr:r.state,key:r.key,idx:e}}function pu(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ha(e):e,state:n,key:e&&e.key||a||PR()}}function Pa({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ha(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function VR(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",p=null,g=v();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function v(){return(f.state||{idx:null}).idx}function S(){m="POP";let G=v(),W=G==null?null:G-g;g=G,p&&p({action:m,location:$.location,delta:W})}function w(G,W){m="PUSH";let fe=pu($.location,G,W);g=v()+1;let ne=Hv(fe,g),me=$.createHref(fe);try{f.pushState(ne,"",me)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(me)}u&&p&&p({action:m,location:$.location,delta:1})}function N(G,W){m="REPLACE";let fe=pu($.location,G,W);g=v();let ne=Hv(fe,g),me=$.createHref(fe);f.replaceState(ne,"",me),u&&p&&p({action:m,location:$.location,delta:0})}function U(G){return qT(G)}let $={get action(){return m},get location(){return r(o,f)},listen(G){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Bv,S),p=G,()=>{o.removeEventListener(Bv,S),p=null}},createHref(G){return e(o,G)},createURL:U,encodeLocation(G){let W=U(G);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:w,replace:N,go(G){return f.go(G)}};return $}function qT(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Pa(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var nu,jv=class{constructor(r){if(OR(this,nu,new Map),r)for(let[e,n]of r)this.set(e,n)}get(r){if(Em(this,nu).has(r))return Em(this,nu).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){Em(this,nu).set(r,e)}};nu=new WeakMap;var xR=new Set(["lazy","caseSensitive","path","id","index","children"]);function LR(r){return xR.has(r)}var kR=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function UR(r){return kR.has(r)}function zR(r){return r.index===!0}function gu(r,e,n=[],a={},o=!1){return r.map((u,f)=>{let m=[...n,String(f)],p=typeof u.id=="string"?u.id:m.join("-");if(Xe(u.index!==!0||!u.children,"Cannot specify children on an index route"),Xe(o||!a[p],`Found a route id collision on id "${p}".  Route id's must be globally unique within Data Router usages`),zR(u)){let g={...u,...e(u),id:p};return a[p]=g,g}else{let g={...u,...e(u),id:p,children:void 0};return a[p]=g,u.children&&(g.children=gu(u.children,e,m,a,o)),g}})}function Aa(r,e,n="/"){return fh(r,e,n,!1)}function fh(r,e,n,a){let o=typeof e=="string"?Ha(e):e,u=Er(o.pathname||"/",n);if(u==null)return null;let f=FT(r);HR(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=ZR(u);m=XR(f[p],g,a)}return m}function BR(r,e){let{route:n,pathname:a,params:o}=r;return{id:n.id,pathname:a,params:o,data:e[n.id],handle:n.handle}}function FT(r,e=[],n=[],a=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(Xe(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let g=Wr([a,p.relativePath]),v=n.concat(p);u.children&&u.children.length>0&&(Xe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),FT(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:QR(g,u.index),routesMeta:v})};return r.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of GT(u.path))o(u,f,m)}),e}function GT(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=GT(a.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function HR(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:$R(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var jR=/^:[\w-]+$/,qR=3,FR=2,GR=1,KR=10,YR=-2,qv=r=>r==="*";function QR(r,e){let n=r.split("/"),a=n.length;return n.some(qv)&&(a+=YR),e&&(a+=FR),n.filter(o=>!qv(o)).reduce((o,u)=>o+(jR.test(u)?qR:u===""?GR:KR),a)}function $R(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function XR(r,e,n=!1){let{routesMeta:a}=r,o={},u="/",f=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,v=u==="/"?e:e.slice(u.length)||"/",S=bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),w=p.route;if(!S&&g&&n&&!a[a.length-1].route.index&&(S=bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Wr([u,S.pathname]),pathnameBase:nb(Wr([u,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(u=Wr([u,S.pathnameBase]))}return f}function bh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=WR(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((g,{paramName:v,isOptional:S},w)=>{if(v==="*"){let U=m[w]||"";f=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const N=m[w];return S&&!N?g[v]=void 0:g[v]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function WR(r,e=!1,n=!0){qt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function ZR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Er(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function JR({basename:r,pathname:e}){return e==="/"?r:Wr([r,e])}function eb(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?Ha(r):r;return{pathname:n?n.startsWith("/")?n:tb(n,e):e,search:rb(a),hash:ib(o)}}function tb(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Tm(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KT(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _p(r){let e=KT(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function vp(r,e,n,a=!1){let o;typeof r=="string"?o=Ha(r):(o={...r},Xe(!o.pathname||!o.pathname.includes("?"),Tm("?","pathname","search",o)),Xe(!o.pathname||!o.pathname.includes("#"),Tm("#","pathname","hash",o)),Xe(!o.search||!o.search.includes("#"),Tm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!a&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}m=S>=0?e[S]:"/"}let p=eb(o,m),g=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Wr=r=>r.join("/").replace(/\/\/+/g,"/"),nb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),rb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,ib=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Ih=class{constructor(r,e,n,a=!1){this.status=r,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function yu(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var YT=["POST","PUT","PATCH","DELETE"],ab=new Set(YT),sb=["GET",...YT],ob=new Set(sb),lb=new Set([301,302,303,307,308]),ub=new Set([307,308]),Sm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},cb={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Zl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},hb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ep=r=>hb.test(r),fb=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),QT="remix-router-transitions",$T=Symbol("ResetLoaderData");function db(r){const e=r.window?r.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Xe(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=r.hydrationRouteProperties||[],o=r.mapRouteProperties||fb,u={},f=gu(r.routes,o,void 0,u),m,p=r.basename||"/",g=r.dataStrategy||_b,v={unstable_middleware:!1,...r.future},S=null,w=new Set,N=null,U=null,$=null,G=r.hydrationData!=null,W=Aa(f,r.history.location,p),fe=!1,ne=null,me;if(W==null&&!r.patchRoutesOnNavigation){let D=yr(404,{pathname:r.history.location.pathname}),{matches:z,route:F}=tE(f);me=!0,W=z,ne={[F.id]:D}}else if(W&&!r.hydrationData&&Rn(W,f,r.history.location.pathname).active&&(W=null),W)if(W.some(D=>D.route.lazy))me=!1;else if(!W.some(D=>D.route.loader))me=!0;else{let D=r.hydrationData?r.hydrationData.loaderData:null,z=r.hydrationData?r.hydrationData.errors:null;if(z){let F=W.findIndex(ie=>z[ie.route.id]!==void 0);me=W.slice(0,F+1).every(ie=>!Hm(ie.route,D,z))}else me=W.every(F=>!Hm(F.route,D,z))}else{me=!1,W=[];let D=Rn(null,f,r.history.location.pathname);D.active&&D.matches&&(fe=!0,W=D.matches)}let de,H={historyAction:r.history.action,location:r.history.location,matches:W,initialized:me,navigation:Sm,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||ne,fetchers:new Map,blockers:new Map},M="POP",R=!1,b,P=!1,x=new Map,L=null,I=!1,je=!1,et=new Set,K=new Map,ue=0,pe=-1,ze=new Map,O=new Set,ee=new Map,ce=new Map,oe=new Set,we=new Map,Be,De=null;function Lt(){if(S=r.history.listen(({action:D,location:z,delta:F})=>{if(Be){Be(),Be=void 0;return}qt(we.size===0||F!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=Yi({currentLocation:H.location,nextLocation:z,historyAction:D});if(ie&&F!=null){let le=new Promise(ge=>{Be=ge});r.history.go(F*-1),rr(ie,{state:"blocked",location:z,proceed(){rr(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),le.then(()=>r.history.go(F))},reset(){let ge=new Map(H.blockers);ge.set(ie,Zl),At({blockers:ge})}});return}return wn(D,z)}),n){Db(e,x);let D=()=>Nb(e,x);e.addEventListener("pagehide",D),L=()=>e.removeEventListener("pagehide",D)}return H.initialized||wn("POP",H.location,{initialHydration:!0}),de}function pt(){S&&S(),L&&L(),w.clear(),b&&b.abort(),H.fetchers.forEach((D,z)=>kt(z)),H.blockers.forEach((D,z)=>ci(z))}function er(D){return w.add(D),()=>w.delete(D)}function At(D,z={}){D.matches&&(D.matches=D.matches.map(le=>{let ge=u[le.route.id],Ae=le.route;return Ae.element!==ge.element||Ae.errorElement!==ge.errorElement||Ae.hydrateFallbackElement!==ge.hydrateFallbackElement?{...le,route:ge}:le})),H={...H,...D};let F=[],ie=[];H.fetchers.forEach((le,ge)=>{le.state==="idle"&&(oe.has(ge)?F.push(ge):ie.push(ge))}),oe.forEach(le=>{!H.fetchers.has(le)&&!K.has(le)&&F.push(le)}),[...w].forEach(le=>le(H,{deletedFetchers:F,viewTransitionOpts:z.viewTransitionOpts,flushSync:z.flushSync===!0})),F.forEach(le=>kt(le)),ie.forEach(le=>H.fetchers.delete(le))}function pn(D,z,{flushSync:F}={}){let ie=H.actionData!=null&&H.navigation.formMethod!=null&&zn(H.navigation.formMethod)&&H.navigation.state==="loading"&&D.state?._isRedirect!==!0,le;z.actionData?Object.keys(z.actionData).length>0?le=z.actionData:le=null:ie?le=H.actionData:le=null;let ge=z.loaderData?Jv(H.loaderData,z.loaderData,z.matches||[],z.errors):H.loaderData,Ae=H.blockers;Ae.size>0&&(Ae=new Map(Ae),Ae.forEach((Te,Se)=>Ae.set(Se,Zl)));let ve=I?!1:Qi(D,z.matches||H.matches),Ee=R===!0||H.navigation.formMethod!=null&&zn(H.navigation.formMethod)&&D.state?._isRedirect!==!0;m&&(f=m,m=void 0),I||M==="POP"||(M==="PUSH"?r.history.push(D,D.state):M==="REPLACE"&&r.history.replace(D,D.state));let Ie;if(M==="POP"){let Te=x.get(H.location.pathname);Te&&Te.has(D.pathname)?Ie={currentLocation:H.location,nextLocation:D}:x.has(D.pathname)&&(Ie={currentLocation:D,nextLocation:H.location})}else if(P){let Te=x.get(H.location.pathname);Te?Te.add(D.pathname):(Te=new Set([D.pathname]),x.set(H.location.pathname,Te)),Ie={currentLocation:H.location,nextLocation:D}}At({...z,actionData:le,loaderData:ge,historyAction:M,location:D,initialized:!0,navigation:Sm,revalidation:"idle",restoreScrollPosition:ve,preventScrollReset:Ee,blockers:Ae},{viewTransitionOpts:Ie,flushSync:F===!0}),M="POP",R=!1,P=!1,I=!1,je=!1,De?.resolve(),De=null}async function Mr(D,z){if(typeof D=="number"){r.history.go(D);return}let F=Bm(H.location,H.matches,p,D,z?.fromRouteId,z?.relative),{path:ie,submission:le,error:ge}=Fv(!1,F,z),Ae=H.location,ve=pu(H.location,ie,z&&z.state);ve={...ve,...r.history.encodeLocation(ve)};let Ee=z&&z.replace!=null?z.replace:void 0,Ie="PUSH";Ee===!0?Ie="REPLACE":Ee===!1||le!=null&&zn(le.formMethod)&&le.formAction===H.location.pathname+H.location.search&&(Ie="REPLACE");let Te=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,Se=(z&&z.flushSync)===!0,He=Yi({currentLocation:Ae,nextLocation:ve,historyAction:Ie});if(He){rr(He,{state:"blocked",location:ve,proceed(){rr(He,{state:"proceeding",proceed:void 0,reset:void 0,location:ve}),Mr(D,z)},reset(){let at=new Map(H.blockers);at.set(He,Zl),At({blockers:at})}});return}await wn(Ie,ve,{submission:le,pendingError:ge,preventScrollReset:Te,replace:z&&z.replace,enableViewTransition:z&&z.viewTransition,flushSync:Se})}function li(){De||(De=Ob()),Ki(),At({revalidation:"loading"});let D=De.promise;return H.navigation.state==="submitting"?D:H.navigation.state==="idle"?(wn(H.historyAction,H.location,{startUninterruptedRevalidation:!0}),D):(wn(M||H.historyAction,H.navigation.location,{overrideNavigation:H.navigation,enableViewTransition:P===!0}),D)}async function wn(D,z,F){b&&b.abort(),b=null,M=D,I=(F&&F.startUninterruptedRevalidation)===!0,wr(H.location,H.matches),R=(F&&F.preventScrollReset)===!0,P=(F&&F.enableViewTransition)===!0;let ie=m||f,le=F&&F.overrideNavigation,ge=F?.initialHydration&&H.matches&&H.matches.length>0&&!fe?H.matches:Aa(ie,z,p),Ae=(F&&F.flushSync)===!0;if(ge&&H.initialized&&!je&&Ab(H.location,z)&&!(F&&F.submission&&zn(F.submission.formMethod))){pn(z,{matches:ge},{flushSync:Ae});return}let ve=Rn(ge,ie,z.pathname);if(ve.active&&ve.matches&&(ge=ve.matches),!ge){let{error:lt,notFoundMatches:ke,route:ut}=hi(z.pathname);pn(z,{matches:ke,loaderData:{},errors:{[ut.id]:lt}},{flushSync:Ae});return}b=new AbortController;let Ee=No(r.history,z,b.signal,F&&F.submission),Ie=new jv(r.unstable_getContext?await r.unstable_getContext():void 0),Te;if(F&&F.pendingError)Te=[Ss(ge).route.id,{type:"error",error:F.pendingError}];else if(F&&F.submission&&zn(F.submission.formMethod)){let lt=await Ka(Ee,z,F.submission,ge,Ie,ve.active,F&&F.initialHydration===!0,{replace:F.replace,flushSync:Ae});if(lt.shortCircuited)return;if(lt.pendingActionResult){let[ke,ut]=lt.pendingActionResult;if(Zn(ut)&&yu(ut.error)&&ut.error.status===404){b=null,pn(z,{matches:lt.matches,loaderData:{},errors:{[ke]:ut.error}});return}}ge=lt.matches||ge,Te=lt.pendingActionResult,le=wm(z,F.submission),Ae=!1,ve.active=!1,Ee=No(r.history,Ee.url,Ee.signal)}let{shortCircuited:Se,matches:He,loaderData:at,errors:Et}=await qs(Ee,z,ge,Ie,ve.active,le,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,F&&F.initialHydration===!0,Ae,Te);Se||(b=null,pn(z,{matches:He||ge,...eE(Te),loaderData:at,errors:Et}))}async function Ka(D,z,F,ie,le,ge,Ae,ve={}){Ki();let Ee=Ib(z,F);if(At({navigation:Ee},{flushSync:ve.flushSync===!0}),ge){let Se=await Lr(ie,z.pathname,D.signal);if(Se.type==="aborted")return{shortCircuited:!0};if(Se.type==="error"){let He=Ss(Se.partialMatches).route.id;return{matches:Se.partialMatches,pendingActionResult:[He,{type:"error",error:Se.error}]}}else if(Se.matches)ie=Se.matches;else{let{notFoundMatches:He,error:at,route:Et}=hi(z.pathname);return{matches:He,pendingActionResult:[Et.id,{type:"error",error:at}]}}}let Ie,Te=dh(ie,z);if(!Te.route.action&&!Te.route.lazy)Ie={type:"error",error:yr(405,{method:D.method,pathname:z.pathname,routeId:Te.route.id})};else{let Se=xo(o,u,D,ie,Te,Ae?[]:a,le),He=await tr(D,Se,le,null);if(Ie=He[Te.route.id],!Ie){for(let at of ie)if(He[at.route.id]){Ie=He[at.route.id];break}}if(D.signal.aborted)return{shortCircuited:!0}}if(ws(Ie)){let Se;return ve&&ve.replace!=null?Se=ve.replace:Se=Xv(Ie.response.headers.get("Location"),new URL(D.url),p)===H.location.pathname+H.location.search,await Sr(D,Ie,!0,{submission:F,replace:Se}),{shortCircuited:!0}}if(Zn(Ie)){let Se=Ss(ie,Te.route.id);return(ve&&ve.replace)!==!0&&(M="PUSH"),{matches:ie,pendingActionResult:[Se.route.id,Ie,Te.route.id]}}return{matches:ie,pendingActionResult:[Te.route.id,Ie]}}async function qs(D,z,F,ie,le,ge,Ae,ve,Ee,Ie,Te,Se){let He=ge||wm(z,Ae),at=Ae||ve||rE(He),Et=!I&&!Ie;if(le){if(Et){let It=An(Se);At({navigation:He,...It!==void 0?{actionData:It}:{}},{flushSync:Te})}let xe=await Lr(F,z.pathname,D.signal);if(xe.type==="aborted")return{shortCircuited:!0};if(xe.type==="error"){let It=Ss(xe.partialMatches).route.id;return{matches:xe.partialMatches,loaderData:{},errors:{[It]:xe.error}}}else if(xe.matches)F=xe.matches;else{let{error:It,notFoundMatches:fi,route:Cn}=hi(z.pathname);return{matches:fi,loaderData:{},errors:{[Cn.id]:It}}}}let lt=m||f,{dsMatches:ke,revalidatingFetchers:ut}=Gv(D,ie,o,u,r.history,H,F,at,z,Ie?[]:a,Ie===!0,je,et,oe,ee,O,lt,p,r.patchRoutesOnNavigation!=null,Se);if(pe=++ue,!r.dataStrategy&&!ke.some(xe=>xe.shouldLoad)&&ut.length===0){let xe=Vr();return pn(z,{matches:F,loaderData:{},errors:Se&&Zn(Se[1])?{[Se[0]]:Se[1].error}:null,...eE(Se),...xe?{fetchers:new Map(H.fetchers)}:{}},{flushSync:Te}),{shortCircuited:!0}}if(Et){let xe={};if(!le){xe.navigation=He;let It=An(Se);It!==void 0&&(xe.actionData=It)}ut.length>0&&(xe.fetchers=Zo(ut)),At(xe,{flushSync:Te})}ut.forEach(xe=>{nr(xe.key),xe.controller&&K.set(xe.key,xe.controller)});let Vn=()=>ut.forEach(xe=>nr(xe.key));b&&b.signal.addEventListener("abort",Vn);let{loaderResults:on,fetcherResults:Wt}=await Gi(ke,ut,D,ie);if(D.signal.aborted)return{shortCircuited:!0};b&&b.signal.removeEventListener("abort",Vn),ut.forEach(xe=>K.delete(xe.key));let bn=nh(on);if(bn)return await Sr(D,bn.result,!0,{replace:Ee}),{shortCircuited:!0};if(bn=nh(Wt),bn)return O.add(bn.key),await Sr(D,bn.result,!0,{replace:Ee}),{shortCircuited:!0};let{loaderData:Xi,errors:jn}=Zv(H,F,on,Se,ut,Wt);Ie&&H.errors&&(jn={...H.errors,...jn});let ar=Vr(),qn=xr(pe),In=ar||qn||ut.length>0;return{matches:F,loaderData:Xi,errors:jn,...In?{fetchers:new Map(H.fetchers)}:{}}}function An(D){if(D&&!Zn(D[1]))return{[D[0]]:D[1].data};if(H.actionData)return Object.keys(H.actionData).length===0?null:H.actionData}function Zo(D){return D.forEach(z=>{let F=H.fetchers.get(z.key),ie=Jl(void 0,F?F.data:void 0);H.fetchers.set(z.key,ie)}),new Map(H.fetchers)}async function Ya(D,z,F,ie){nr(D);let le=(ie&&ie.flushSync)===!0,ge=m||f,Ae=Bm(H.location,H.matches,p,F,z,ie?.relative),ve=Aa(ge,Ae,p),Ee=Rn(ve,ge,Ae);if(Ee.active&&Ee.matches&&(ve=Ee.matches),!ve){Fe(D,z,yr(404,{pathname:Ae}),{flushSync:le});return}let{path:Ie,submission:Te,error:Se}=Fv(!0,Ae,ie);if(Se){Fe(D,z,Se,{flushSync:le});return}let He=new jv(r.unstable_getContext?await r.unstable_getContext():void 0),at=(ie&&ie.preventScrollReset)===!0;if(Te&&zn(Te.formMethod)){await Fi(D,z,Ie,ve,He,Ee.active,le,at,Te);return}ee.set(D,{routeId:z,path:Ie}),await ui(D,z,Ie,ve,He,Ee.active,le,at,Te)}async function Fi(D,z,F,ie,le,ge,Ae,ve,Ee){Ki(),ee.delete(D);let Ie=H.fetchers.get(D);ot(D,Cb(Ee,Ie),{flushSync:Ae});let Te=new AbortController,Se=No(r.history,F,Te.signal,Ee);if(ge){let St=await Lr(ie,new URL(Se.url).pathname,Se.signal,D);if(St.type==="aborted")return;if(St.type==="error"){Fe(D,z,St.error,{flushSync:Ae});return}else if(St.matches)ie=St.matches;else{Fe(D,z,yr(404,{pathname:F}),{flushSync:Ae});return}}let He=dh(ie,F);if(!He.route.action&&!He.route.lazy){let St=yr(405,{method:Ee.formMethod,pathname:F,routeId:z});Fe(D,z,St,{flushSync:Ae});return}K.set(D,Te);let at=ue,Et=xo(o,u,Se,ie,He,a,le),ke=(await tr(Se,Et,le,D))[He.route.id];if(Se.signal.aborted){K.get(D)===Te&&K.delete(D);return}if(oe.has(D)){if(ws(ke)||Zn(ke)){ot(D,wa(void 0));return}}else{if(ws(ke))if(K.delete(D),pe>at){ot(D,wa(void 0));return}else return O.add(D),ot(D,Jl(Ee)),Sr(Se,ke,!1,{fetcherSubmission:Ee,preventScrollReset:ve});if(Zn(ke)){Fe(D,z,ke.error);return}}let ut=H.navigation.location||H.location,Vn=No(r.history,ut,Te.signal),on=m||f,Wt=H.navigation.state!=="idle"?Aa(on,H.navigation.location,p):H.matches;Xe(Wt,"Didn't find any matches after fetcher action");let bn=++ue;ze.set(D,bn);let Xi=Jl(Ee,ke.data);H.fetchers.set(D,Xi);let{dsMatches:jn,revalidatingFetchers:ar}=Gv(Vn,le,o,u,r.history,H,Wt,Ee,ut,a,!1,je,et,oe,ee,O,on,p,r.patchRoutesOnNavigation!=null,[He.route.id,ke]);ar.filter(St=>St.key!==D).forEach(St=>{let Ar=St.key,Wi=H.fetchers.get(Ar),Zi=Jl(void 0,Wi?Wi.data:void 0);H.fetchers.set(Ar,Zi),nr(Ar),St.controller&&K.set(Ar,St.controller)}),At({fetchers:new Map(H.fetchers)});let qn=()=>ar.forEach(St=>nr(St.key));Te.signal.addEventListener("abort",qn);let{loaderResults:In,fetcherResults:xe}=await Gi(jn,ar,Vn,le);if(Te.signal.aborted)return;if(Te.signal.removeEventListener("abort",qn),ze.delete(D),K.delete(D),ar.forEach(St=>K.delete(St.key)),H.fetchers.has(D)){let St=wa(ke.data);H.fetchers.set(D,St)}let It=nh(In);if(It)return Sr(Vn,It.result,!1,{preventScrollReset:ve});if(It=nh(xe),It)return O.add(It.key),Sr(Vn,It.result,!1,{preventScrollReset:ve});let{loaderData:fi,errors:Cn}=Zv(H,Wt,In,void 0,ar,xe);xr(bn),H.navigation.state==="loading"&&bn>pe?(Xe(M,"Expected pending action"),b&&b.abort(),pn(H.navigation.location,{matches:Wt,loaderData:fi,errors:Cn,fetchers:new Map(H.fetchers)})):(At({errors:Cn,loaderData:Jv(H.loaderData,fi,Wt,Cn),fetchers:new Map(H.fetchers)}),je=!1)}async function ui(D,z,F,ie,le,ge,Ae,ve,Ee){let Ie=H.fetchers.get(D);ot(D,Jl(Ee,Ie?Ie.data:void 0),{flushSync:Ae});let Te=new AbortController,Se=No(r.history,F,Te.signal);if(ge){let ut=await Lr(ie,new URL(Se.url).pathname,Se.signal,D);if(ut.type==="aborted")return;if(ut.type==="error"){Fe(D,z,ut.error,{flushSync:Ae});return}else if(ut.matches)ie=ut.matches;else{Fe(D,z,yr(404,{pathname:F}),{flushSync:Ae});return}}let He=dh(ie,F);K.set(D,Te);let at=ue,Et=xo(o,u,Se,ie,He,a,le),ke=(await tr(Se,Et,le,D))[He.route.id];if(K.get(D)===Te&&K.delete(D),!Se.signal.aborted){if(oe.has(D)){ot(D,wa(void 0));return}if(ws(ke))if(pe>at){ot(D,wa(void 0));return}else{O.add(D),await Sr(Se,ke,!1,{preventScrollReset:ve});return}if(Zn(ke)){Fe(D,z,ke.error);return}ot(D,wa(ke.data))}}async function Sr(D,z,F,{submission:ie,fetcherSubmission:le,preventScrollReset:ge,replace:Ae}={}){z.response.headers.has("X-Remix-Revalidate")&&(je=!0);let ve=z.response.headers.get("Location");Xe(ve,"Expected a Location header on the redirect Response"),ve=Xv(ve,new URL(D.url),p);let Ee=pu(H.location,ve,{_isRedirect:!0});if(n){let Et=!1;if(z.response.headers.has("X-Remix-Reload-Document"))Et=!0;else if(Ep(ve)){const lt=qT(ve,!0);Et=lt.origin!==e.location.origin||Er(lt.pathname,p)==null}if(Et){Ae?e.location.replace(ve):e.location.assign(ve);return}}b=null;let Ie=Ae===!0||z.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Te,formAction:Se,formEncType:He}=H.navigation;!ie&&!le&&Te&&Se&&He&&(ie=rE(H.navigation));let at=ie||le;if(ub.has(z.response.status)&&at&&zn(at.formMethod))await wn(Ie,Ee,{submission:{...at,formAction:ve},preventScrollReset:ge||R,enableViewTransition:F?P:void 0});else{let Et=wm(Ee,ie);await wn(Ie,Ee,{overrideNavigation:Et,fetcherSubmission:le,preventScrollReset:ge||R,enableViewTransition:F?P:void 0})}}async function tr(D,z,F,ie){let le,ge={};try{le=await vb(g,D,z,ie,F,!1)}catch(Ae){return z.filter(ve=>ve.shouldLoad).forEach(ve=>{ge[ve.route.id]={type:"error",error:Ae}}),ge}if(D.signal.aborted)return ge;for(let[Ae,ve]of Object.entries(le))if(Rb(ve)){let Ee=ve.result;ge[Ae]={type:"redirect",response:Sb(Ee,D,Ae,z,p)}}else ge[Ae]=await Tb(ve);return ge}async function Gi(D,z,F,ie){let le=tr(F,D,ie,null),ge=Promise.all(z.map(async Ee=>{if(Ee.matches&&Ee.match&&Ee.request&&Ee.controller){let Te=(await tr(Ee.request,Ee.matches,ie,Ee.key))[Ee.match.route.id];return{[Ee.key]:Te}}else return Promise.resolve({[Ee.key]:{type:"error",error:yr(404,{pathname:Ee.path})}})})),Ae=await le,ve=(await ge).reduce((Ee,Ie)=>Object.assign(Ee,Ie),{});return{loaderResults:Ae,fetcherResults:ve}}function Ki(){je=!0,ee.forEach((D,z)=>{K.has(z)&&et.add(z),nr(z)})}function ot(D,z,F={}){H.fetchers.set(D,z),At({fetchers:new Map(H.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function Fe(D,z,F,ie={}){let le=Ss(H.matches,z);kt(D),At({errors:{[le.route.id]:F},fetchers:new Map(H.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function gn(D){return ce.set(D,(ce.get(D)||0)+1),oe.has(D)&&oe.delete(D),H.fetchers.get(D)||cb}function kt(D){let z=H.fetchers.get(D);K.has(D)&&!(z&&z.state==="loading"&&ze.has(D))&&nr(D),ee.delete(D),ze.delete(D),O.delete(D),oe.delete(D),et.delete(D),H.fetchers.delete(D)}function Fs(D){let z=(ce.get(D)||0)-1;z<=0?(ce.delete(D),oe.add(D)):ce.set(D,z),At({fetchers:new Map(H.fetchers)})}function nr(D){let z=K.get(D);z&&(z.abort(),K.delete(D))}function Pr(D){for(let z of D){let F=gn(z),ie=wa(F.data);H.fetchers.set(z,ie)}}function Vr(){let D=[],z=!1;for(let F of O){let ie=H.fetchers.get(F);Xe(ie,`Expected fetcher: ${F}`),ie.state==="loading"&&(O.delete(F),D.push(F),z=!0)}return Pr(D),z}function xr(D){let z=[];for(let[F,ie]of ze)if(ie<D){let le=H.fetchers.get(F);Xe(le,`Expected fetcher: ${F}`),le.state==="loading"&&(nr(F),ze.delete(F),z.push(F))}return Pr(z),z.length>0}function Hn(D,z){let F=H.blockers.get(D)||Zl;return we.get(D)!==z&&we.set(D,z),F}function ci(D){H.blockers.delete(D),we.delete(D)}function rr(D,z){let F=H.blockers.get(D)||Zl;Xe(F.state==="unblocked"&&z.state==="blocked"||F.state==="blocked"&&z.state==="blocked"||F.state==="blocked"&&z.state==="proceeding"||F.state==="blocked"&&z.state==="unblocked"||F.state==="proceeding"&&z.state==="unblocked",`Invalid blocker state transition: ${F.state} -> ${z.state}`);let ie=new Map(H.blockers);ie.set(D,z),At({blockers:ie})}function Yi({currentLocation:D,nextLocation:z,historyAction:F}){if(we.size===0)return;we.size>1&&qt(!1,"A router only supports one blocker at a time");let ie=Array.from(we.entries()),[le,ge]=ie[ie.length-1],Ae=H.blockers.get(le);if(!(Ae&&Ae.state==="proceeding")&&ge({currentLocation:D,nextLocation:z,historyAction:F}))return le}function hi(D){let z=yr(404,{pathname:D}),F=m||f,{matches:ie,route:le}=tE(F);return{notFoundMatches:ie,route:le,error:z}}function Qa(D,z,F){if(N=D,$=z,U=F||null,!G&&H.navigation===Sm){G=!0;let ie=Qi(H.location,H.matches);ie!=null&&At({restoreScrollPosition:ie})}return()=>{N=null,$=null,U=null}}function ir(D,z){return U&&U(D,z.map(ie=>BR(ie,H.loaderData)))||D.key}function wr(D,z){if(N&&$){let F=ir(D,z);N[F]=$()}}function Qi(D,z){if(N){let F=ir(D,z),ie=N[F];if(typeof ie=="number")return ie}return null}function Rn(D,z,F){if(r.patchRoutesOnNavigation)if(D){if(Object.keys(D[0].params).length>0)return{active:!0,matches:fh(z,F,p,!0)}}else return{active:!0,matches:fh(z,F,p,!0)||[]};return{active:!1,matches:null}}async function Lr(D,z,F,ie){if(!r.patchRoutesOnNavigation)return{type:"success",matches:D};let le=D;for(;;){let ge=m==null,Ae=m||f,ve=u;try{await r.patchRoutesOnNavigation({signal:F,path:z,matches:le,fetcherKey:ie,patch:(Te,Se)=>{F.aborted||Kv(Te,Se,Ae,ve,o,!1)}})}catch(Te){return{type:"error",error:Te,partialMatches:le}}finally{ge&&!F.aborted&&(f=[...f])}if(F.aborted)return{type:"aborted"};let Ee=Aa(Ae,z,p);if(Ee)return{type:"success",matches:Ee};let Ie=fh(Ae,z,p,!0);if(!Ie||le.length===Ie.length&&le.every((Te,Se)=>Te.route.id===Ie[Se].route.id))return{type:"success",matches:null};le=Ie}}function kr(D){u={},m=gu(D,o,void 0,u)}function $i(D,z,F=!1){let ie=m==null;Kv(D,z,m||f,u,o,F),ie&&(f=[...f],At({}))}return de={get basename(){return p},get future(){return v},get state(){return H},get routes(){return f},get window(){return e},initialize:Lt,subscribe:er,enableScrollRestoration:Qa,navigate:Mr,fetch:Ya,revalidate:li,createHref:D=>r.history.createHref(D),encodeLocation:D=>r.history.encodeLocation(D),getFetcher:gn,deleteFetcher:Fs,dispose:pt,getBlocker:Hn,deleteBlocker:ci,patchRoutes:$i,_internalFetchControllers:K,_internalSetRoutes:kr,_internalSetStateDoNotUseOrYouWillBreakYourApp(D){At(D)}},de}function mb(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Bm(r,e,n,a,o,u){let f,m;if(o){f=[];for(let g of e)if(f.push(g),g.route.id===o){m=g;break}}else f=e,m=e[e.length-1];let p=vp(a||".",_p(f),Er(r.pathname,n)||r.pathname,u==="path");if(a==null&&(p.search=r.search,p.hash=r.hash),(a==null||a===""||a===".")&&m){let g=Tp(p.search);if(m.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&g){let v=new URLSearchParams(p.search),S=v.getAll("index");v.delete("index"),S.filter(N=>N).forEach(N=>v.append("index",N));let w=v.toString();p.search=w?`?${w}`:""}}return n!=="/"&&(p.pathname=JR({basename:n,pathname:p.pathname})),Pa(p)}function Fv(r,e,n){if(!n||!mb(n))return{path:e};if(n.formMethod&&!bb(n.formMethod))return{path:e,error:yr(405,{method:n.formMethod})};let a=()=>({path:e,error:yr(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),f=t0(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!zn(u))return a();let S=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((w,[N,U])=>`${w}${N}=${U}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:void 0,text:S}}}else if(n.formEncType==="application/json"){if(!zn(u))return a();try{let S=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:f,formEncType:n.formEncType,formData:void 0,json:S,text:void 0}}}catch{return a()}}}Xe(typeof FormData=="function","FormData is not available in this environment");let m,p;if(n.formData)m=qm(n.formData),p=n.formData;else if(n.body instanceof FormData)m=qm(n.body),p=n.body;else if(n.body instanceof URLSearchParams)m=n.body,p=Wv(m);else if(n.body==null)m=new URLSearchParams,p=new FormData;else try{m=new URLSearchParams(n.body),p=Wv(m)}catch{return a()}let g={formMethod:u,formAction:f,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(zn(g.formMethod))return{path:e,submission:g};let v=Ha(e);return r&&v.search&&Tp(v.search)&&m.append("index",""),v.search=`?${m}`,{path:Pa(v),submission:g}}function Gv(r,e,n,a,o,u,f,m,p,g,v,S,w,N,U,$,G,W,fe,ne){let me=ne?Zn(ne[1])?ne[1].error:ne[1].data:void 0,de=o.createURL(u.location),H=o.createURL(p),M;if(v&&u.errors){let I=Object.keys(u.errors)[0];M=f.findIndex(je=>je.route.id===I)}else if(ne&&Zn(ne[1])){let I=ne[0];M=f.findIndex(je=>je.route.id===I)-1}let R=ne?ne[1].statusCode:void 0,b=R&&R>=400,P={currentUrl:de,currentParams:u.matches[0]?.params||{},nextUrl:H,nextParams:f[0].params,...m,actionResult:me,actionStatus:R},x=f.map((I,je)=>{let{route:et}=I,K=null;if(M!=null&&je>M?K=!1:et.lazy?K=!0:et.loader==null?K=!1:v?K=Hm(et,u.loaderData,u.errors):pb(u.loaderData,u.matches[je],I)&&(K=!0),K!==null)return jm(n,a,r,I,g,e,K);let ue=b?!1:S||de.pathname+de.search===H.pathname+H.search||de.search!==H.search||gb(u.matches[je],I),pe={...P,defaultShouldRevalidate:ue},ze=Ch(I,pe);return jm(n,a,r,I,g,e,ze,pe)}),L=[];return U.forEach((I,je)=>{if(v||!f.some(ce=>ce.route.id===I.routeId)||N.has(je))return;let et=u.fetchers.get(je),K=et&&et.state!=="idle"&&et.data===void 0,ue=Aa(G,I.path,W);if(!ue){if(fe&&K)return;L.push({key:je,routeId:I.routeId,path:I.path,matches:null,match:null,request:null,controller:null});return}if($.has(je))return;let pe=dh(ue,I.path),ze=new AbortController,O=No(o,I.path,ze.signal),ee=null;if(w.has(je))w.delete(je),ee=xo(n,a,O,ue,pe,g,e);else if(K)S&&(ee=xo(n,a,O,ue,pe,g,e));else{let ce={...P,defaultShouldRevalidate:b?!1:S};Ch(pe,ce)&&(ee=xo(n,a,O,ue,pe,g,e,ce))}ee&&L.push({key:je,routeId:I.routeId,path:I.path,matches:ee,match:pe,request:O,controller:ze})}),{dsMatches:x,revalidatingFetchers:L}}function Hm(r,e,n){if(r.lazy)return!0;if(!r.loader)return!1;let a=e!=null&&r.id in e,o=n!=null&&n[r.id]!==void 0;return!a&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!a&&!o}function pb(r,e,n){let a=!e||n.route.id!==e.route.id,o=!r.hasOwnProperty(n.route.id);return a||o}function gb(r,e){let n=r.route.path;return r.pathname!==e.pathname||n!=null&&n.endsWith("*")&&r.params["*"]!==e.params["*"]}function Ch(r,e){if(r.route.shouldRevalidate){let n=r.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Kv(r,e,n,a,o,u){let f;if(r){let g=a[r];Xe(g,`No route found to patch children into: routeId = ${r}`),g.children||(g.children=[]),f=g.children}else f=n;let m=[],p=[];if(e.forEach(g=>{let v=f.find(S=>XT(g,S));v?p.push({existingRoute:v,newRoute:g}):m.push(g)}),m.length>0){let g=gu(m,o,[r||"_","patch",String(f?.length||"0")],a);f.push(...g)}if(u&&p.length>0)for(let g=0;g<p.length;g++){let{existingRoute:v,newRoute:S}=p[g],w=v,[N]=gu([S],o,[],{},!0);Object.assign(w,{element:N.element?N.element:w.element,errorElement:N.errorElement?N.errorElement:w.errorElement,hydrateFallbackElement:N.hydrateFallbackElement?N.hydrateFallbackElement:w.hydrateFallbackElement})}}function XT(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((n,a)=>e.children?.some(o=>XT(n,o))):!1}var Yv=new WeakMap,WT=({key:r,route:e,manifest:n,mapRouteProperties:a})=>{let o=n[e.id];if(Xe(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[r];if(!u)return;let f=Yv.get(o);f||(f={},Yv.set(o,f));let m=f[r];if(m)return m;let p=(async()=>{let g=LR(r),S=o[r]!==void 0&&r!=="hasErrorBoundary";if(g)qt(!g,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),f[r]=Promise.resolve();else if(S)qt(!1,`Route "${o.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let w=await u();w!=null&&(Object.assign(o,{[r]:w}),Object.assign(o,a(o)))}typeof o.lazy=="object"&&(o.lazy[r]=void 0,Object.values(o.lazy).every(w=>w===void 0)&&(o.lazy=void 0))})();return f[r]=p,p},Qv=new WeakMap;function yb(r,e,n,a,o){let u=n[r.id];if(Xe(u,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let v=Qv.get(u);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let S=(async()=>{Xe(typeof r.lazy=="function","No lazy route function found");let w=await r.lazy(),N={};for(let U in w){let $=w[U];if($===void 0)continue;let G=UR(U),fe=u[U]!==void 0&&U!=="hasErrorBoundary";G?qt(!G,"Route property "+U+" is not a supported property to be returned from a lazy route function. This property will be ignored."):fe?qt(!fe,`Route "${u.id}" has a static property "${U}" defined but its lazy function is also returning a value for this property. The lazy route property "${U}" will be ignored.`):N[U]=$}Object.assign(u,N),Object.assign(u,{...a(u),lazy:void 0})})();return Qv.set(u,S),S.catch(()=>{}),{lazyRoutePromise:S,lazyHandlerPromise:S}}let f=Object.keys(r.lazy),m=[],p;for(let v of f){if(o&&o.includes(v))continue;let S=WT({key:v,route:r,manifest:n,mapRouteProperties:a});S&&(m.push(S),v===e&&(p=S))}let g=m.length>0?Promise.all(m).then(()=>{}):void 0;return g?.catch(()=>{}),p?.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:p}}async function $v(r){let e=r.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{n[e[u].route.id]=o}),n}async function _b(r){return r.matches.some(e=>e.route.unstable_middleware)?ZT(r,!1,()=>$v(r),(e,n)=>({[n]:{type:"error",result:e}})):$v(r)}async function ZT(r,e,n,a){let{matches:o,request:u,params:f,context:m}=r,p={handlerResult:void 0};try{let g=o.flatMap(S=>S.route.unstable_middleware?S.route.unstable_middleware.map(w=>[S.route.id,w]):[]),v=await JT({request:u,params:f,context:m},g,e,p,n);return e?v:p.handlerResult}catch(g){if(!p.middlewareError)throw g;let v=await a(p.middlewareError.error,p.middlewareError.routeId);return p.handlerResult?Object.assign(p.handlerResult,v):v}}async function JT(r,e,n,a,o,u=0){let{request:f}=r;if(f.signal.aborted)throw f.signal.reason?f.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${f.method} ${f.url}`);let m=e[u];if(!m)return a.handlerResult=await o(),a.handlerResult;let[p,g]=m,v=!1,S,w=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");v=!0,await JT(r,e,n,a,o,u+1)};try{let N=await g({request:r.request,params:r.params,context:r.context},w);return v?N===void 0?S:N:w()}catch(N){throw a.middlewareError?a.middlewareError.error!==N&&(a.middlewareError={routeId:p,error:N}):a.middlewareError={routeId:p,error:N},N}}function e0(r,e,n,a,o){let u=WT({key:"unstable_middleware",route:a.route,manifest:e,mapRouteProperties:r}),f=yb(a.route,zn(n.method)?"action":"loader",e,r,o);return{middleware:u,route:f.lazyRoutePromise,handler:f.lazyHandlerPromise}}function jm(r,e,n,a,o,u,f,m=null){let p=!1,g=e0(r,e,n,a,o);return{...a,_lazyPromises:g,shouldLoad:f,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler(v){return p=!0,m?typeof v=="boolean"?Ch(a,{...m,defaultShouldRevalidate:v}):Ch(a,m):f},resolve(v){return p||f||v&&!zn(n.method)&&(a.route.lazy||a.route.loader)?Eb({request:n,match:a,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:v,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function xo(r,e,n,a,o,u,f,m=null){return a.map(p=>p.route.id!==o.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler:()=>!1,_lazyPromises:e0(r,e,n,p,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:jm(r,e,n,p,u,f,!0,m))}async function vb(r,e,n,a,o,u){n.some(g=>g._lazyPromises?.middleware)&&await Promise.all(n.map(g=>g._lazyPromises?.middleware));let f={request:e,params:n[0].params,context:o,matches:n},p=await r({...f,fetcherKey:a,unstable_runClientMiddleware:g=>{let v=f;return ZT(v,!1,()=>g({...v,fetcherKey:a,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(S,w)=>({[w]:{type:"error",result:S}}))}});try{await Promise.all(n.flatMap(g=>[g._lazyPromises?.handler,g._lazyPromises?.route]))}catch{}return p}async function Eb({request:r,match:e,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:o,scopedContext:u}){let f,m,p=zn(r.method),g=p?"action":"loader",v=S=>{let w,N=new Promise((G,W)=>w=W);m=()=>w(),r.signal.addEventListener("abort",m);let U=G=>typeof S!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):S({request:r,params:e.params,context:u},...G!==void 0?[G]:[]),$=(async()=>{try{return{type:"data",result:await(o?o(W=>U(W)):U())}}catch(G){return{type:"error",result:G}}})();return Promise.race([$,N])};try{let S=p?e.route.action:e.route.loader;if(n||a)if(S){let w,[N]=await Promise.all([v(S).catch(U=>{w=U}),n,a]);if(w!==void 0)throw w;f=N}else{await n;let w=p?e.route.action:e.route.loader;if(w)[f]=await Promise.all([v(w),a]);else if(g==="action"){let N=new URL(r.url),U=N.pathname+N.search;throw yr(405,{method:r.method,pathname:U,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(S)f=await v(S);else{let w=new URL(r.url),N=w.pathname+w.search;throw yr(404,{pathname:N})}}catch(S){return{type:"error",result:S}}finally{m&&r.signal.removeEventListener("abort",m)}return f}async function Tb(r){let{result:e,type:n}=r;if(n0(e)){let a;try{let o=e.headers.get("Content-Type");o&&/\bapplication\/json\b/.test(o)?e.body==null?a=null:a=await e.json():a=await e.text()}catch(o){return{type:"error",error:o}}return n==="error"?{type:"error",error:new Ih(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:"data",data:a,statusCode:e.status,headers:e.headers}}return n==="error"?nE(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Ih(e.init?.status||500,void 0,e.data),statusCode:yu(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:yu(e)?e.status:void 0}:nE(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function Sb(r,e,n,a,o){let u=r.headers.get("Location");if(Xe(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ep(u)){let f=a.slice(0,a.findIndex(m=>m.route.id===n)+1);u=Bm(new URL(e.url),f,o,u),r.headers.set("Location",u)}return r}function Xv(r,e,n){if(Ep(r)){let a=r,o=a.startsWith("//")?new URL(e.protocol+a):new URL(a),u=Er(o.pathname,n)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return r}function No(r,e,n,a){let o=r.createURL(t0(e)).toString(),u={signal:n};if(a&&zn(a.formMethod)){let{formMethod:f,formEncType:m}=a;u.method=f.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(a.json)):m==="text/plain"?u.body=a.text:m==="application/x-www-form-urlencoded"&&a.formData?u.body=qm(a.formData):u.body=a.formData}return new Request(o,u)}function qm(r){let e=new URLSearchParams;for(let[n,a]of r.entries())e.append(n,typeof a=="string"?a:a.name);return e}function Wv(r){let e=new FormData;for(let[n,a]of r.entries())e.append(n,a);return e}function wb(r,e,n,a=!1,o=!1){let u={},f=null,m,p=!1,g={},v=n&&Zn(n[1])?n[1].error:void 0;return r.forEach(S=>{if(!(S.route.id in e))return;let w=S.route.id,N=e[w];if(Xe(!ws(N),"Cannot handle redirect results in processLoaderData"),Zn(N)){let U=N.error;if(v!==void 0&&(U=v,v=void 0),f=f||{},o)f[w]=U;else{let $=Ss(r,w);f[$.route.id]==null&&(f[$.route.id]=U)}a||(u[w]=$T),p||(p=!0,m=yu(N.error)?N.error.status:500),N.headers&&(g[w]=N.headers)}else u[w]=N.data,N.statusCode&&N.statusCode!==200&&!p&&(m=N.statusCode),N.headers&&(g[w]=N.headers)}),v!==void 0&&n&&(f={[n[0]]:v},n[2]&&(u[n[2]]=void 0)),{loaderData:u,errors:f,statusCode:m||200,loaderHeaders:g}}function Zv(r,e,n,a,o,u){let{loaderData:f,errors:m}=wb(e,n,a);return o.filter(p=>!p.matches||p.matches.some(g=>g.shouldLoad)).forEach(p=>{let{key:g,match:v,controller:S}=p,w=u[g];if(Xe(w,"Did not find corresponding fetcher result"),!(S&&S.signal.aborted))if(Zn(w)){let N=Ss(r.matches,v?.route.id);m&&m[N.route.id]||(m={...m,[N.route.id]:w.error}),r.fetchers.delete(g)}else if(ws(w))Xe(!1,"Unhandled fetcher revalidation redirect");else{let N=wa(w.data);r.fetchers.set(g,N)}}),{loaderData:f,errors:m}}function Jv(r,e,n,a){let o=Object.entries(e).filter(([,u])=>u!==$T).reduce((u,[f,m])=>(u[f]=m,u),{});for(let u of n){let f=u.route.id;if(!e.hasOwnProperty(f)&&r.hasOwnProperty(f)&&u.route.loader&&(o[f]=r[f]),a&&a.hasOwnProperty(f))break}return o}function eE(r){return r?Zn(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function Ss(r,e){return(e?r.slice(0,r.findIndex(a=>a.route.id===e)+1):[...r]).reverse().find(a=>a.route.hasErrorBoundary===!0)||r[0]}function tE(r){let e=r.length===1?r[0]:r.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function yr(r,{pathname:e,routeId:n,method:a,type:o,message:u}={}){let f="Unknown Server Error",m="Unknown @remix-run/router error";return r===400?(f="Bad Request",a&&e&&n?m=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(m="Unable to encode submission body")):r===403?(f="Forbidden",m=`Route "${n}" does not match URL "${e}"`):r===404?(f="Not Found",m=`No route matches URL "${e}"`):r===405&&(f="Method Not Allowed",a&&e&&n?m=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(m=`Invalid request method "${a.toUpperCase()}"`)),new Ih(r||500,f,new Error(m),!0)}function nh(r){let e=Object.entries(r);for(let n=e.length-1;n>=0;n--){let[a,o]=e[n];if(ws(o))return{key:a,result:o}}}function t0(r){let e=typeof r=="string"?Ha(r):r;return Pa({...e,hash:""})}function Ab(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function Rb(r){return n0(r.result)&&lb.has(r.result.status)}function Zn(r){return r.type==="error"}function ws(r){return(r&&r.type)==="redirect"}function nE(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function n0(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function bb(r){return ob.has(r.toUpperCase())}function zn(r){return ab.has(r.toUpperCase())}function Tp(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function dh(r,e){let n=typeof e=="string"?Ha(e).search:e.search;if(r[r.length-1].route.index&&Tp(n||""))return r[r.length-1];let a=KT(r);return a[a.length-1]}function rE(r){let{formMethod:e,formAction:n,formEncType:a,text:o,formData:u,json:f}=r;if(!(!e||!n||!a)){if(o!=null)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:a,formData:u,json:void 0,text:void 0};if(f!==void 0)return{formMethod:e,formAction:n,formEncType:a,formData:void 0,json:f,text:void 0}}}function wm(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Ib(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Jl(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Cb(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function wa(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function Db(r,e){try{let n=r.sessionStorage.getItem(QT);if(n){let a=JSON.parse(n);for(let[o,u]of Object.entries(a||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function Nb(r,e){if(e.size>0){let n={};for(let[a,o]of e)n[a]=[...o];try{r.sessionStorage.setItem(QT,JSON.stringify(n))}catch(a){qt(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function Ob(){let r,e,n=new Promise((a,o)=>{r=async u=>{a(u);try{await n}catch{}},e=async u=>{o(u);try{await n}catch{}}});return{promise:n,resolve:r,reject:e}}var Ls=Z.createContext(null);Ls.displayName="DataRouter";var Iu=Z.createContext(null);Iu.displayName="DataRouterState";Z.createContext(!1);var Sp=Z.createContext({isTransitioning:!1});Sp.displayName="ViewTransition";var r0=Z.createContext(new Map);r0.displayName="Fetchers";var Mb=Z.createContext(null);Mb.displayName="Await";var si=Z.createContext(null);si.displayName="Navigation";var $h=Z.createContext(null);$h.displayName="Location";var qi=Z.createContext({outlet:null,matches:[],isDataRoute:!1});qi.displayName="Route";var wp=Z.createContext(null);wp.displayName="RouteError";function Pb(r,{relative:e}={}){Xe(Cu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=Z.useContext(si),{hash:o,pathname:u,search:f}=Du(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Wr([n,u])),a.createHref({pathname:m,search:f,hash:o})}function Cu(){return Z.useContext($h)!=null}function ks(){return Xe(Cu(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext($h).location}var i0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function a0(r){Z.useContext(si).static||Z.useLayoutEffect(r)}function s0(){let{isDataRoute:r}=Z.useContext(qi);return r?Kb():Vb()}function Vb(){Xe(Cu(),"useNavigate() may be used only in the context of a <Router> component.");let r=Z.useContext(Ls),{basename:e,navigator:n}=Z.useContext(si),{matches:a}=Z.useContext(qi),{pathname:o}=ks(),u=JSON.stringify(_p(a)),f=Z.useRef(!1);return a0(()=>{f.current=!0}),Z.useCallback((p,g={})=>{if(qt(f.current,i0),!f.current)return;if(typeof p=="number"){n.go(p);return}let v=vp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Wr([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,u,o,r])}Z.createContext(null);function Du(r,{relative:e}={}){let{matches:n}=Z.useContext(qi),{pathname:a}=ks(),o=JSON.stringify(_p(n));return Z.useMemo(()=>vp(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function xb(r,e,n,a){Xe(Cu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Z.useContext(si),{matches:u}=Z.useContext(qi),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",v=f&&f.route;{let W=v&&v.path||"";o0(p,!v||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let S=ks(),w;w=S;let N=w.pathname||"/",U=N;if(g!=="/"){let W=g.replace(/^\//,"").split("/");U="/"+N.replace(/^\//,"").split("/").slice(W.length).join("/")}let $=Aa(r,{pathname:U});return qt(v||$!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),qt($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Bb($&&$.map(W=>Object.assign({},W,{params:Object.assign({},m,W.params),pathname:Wr([g,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?g:Wr([g,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),u,n,a)}function Lb(){let r=Gb(),e=yu(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=Z.createElement(Z.Fragment,null,Z.createElement("p",null," Hey developer "),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:u},"ErrorBoundary")," or"," ",Z.createElement("code",{style:u},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),n?Z.createElement("pre",{style:o},n):null,f)}var kb=Z.createElement(Lb,null),Ub=class extends Z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?Z.createElement(qi.Provider,{value:this.props.routeContext},Z.createElement(wp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zb({routeContext:r,match:e,children:n}){let a=Z.useContext(Ls);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),Z.createElement(qi.Provider,{value:r},n)}function Bb(r,e=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n?.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);Xe(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:v,errors:S}=n,w=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||w){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,v)=>{let S,w=!1,N=null,U=null;n&&(S=u&&g.route.id?u[g.route.id]:void 0,N=g.route.errorElement||kb,f&&(m<0&&v===0?(o0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,U=null):m===v&&(w=!0,U=g.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,v+1)),G=()=>{let W;return S?W=N:w?W=U:g.route.Component?W=Z.createElement(g.route.Component,null):g.route.element?W=g.route.element:W=p,Z.createElement(zb,{match:g,routeContext:{outlet:p,matches:$,isDataRoute:n!=null},children:W})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?Z.createElement(Ub,{location:n.location,revalidation:n.revalidation,component:N,error:S,children:G(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):G()},null)}function Ap(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hb(r){let e=Z.useContext(Ls);return Xe(e,Ap(r)),e}function jb(r){let e=Z.useContext(Iu);return Xe(e,Ap(r)),e}function qb(r){let e=Z.useContext(qi);return Xe(e,Ap(r)),e}function Rp(r){let e=qb(r),n=e.matches[e.matches.length-1];return Xe(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Fb(){return Rp("useRouteId")}function Gb(){let r=Z.useContext(wp),e=jb("useRouteError"),n=Rp("useRouteError");return r!==void 0?r:e.errors?.[n]}function Kb(){let{router:r}=Hb("useNavigate"),e=Rp("useNavigate"),n=Z.useRef(!1);return a0(()=>{n.current=!0}),Z.useCallback(async(o,u={})=>{qt(n.current,i0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var iE={};function o0(r,e,n){!e&&!iE[r]&&(iE[r]=!0,qt(!1,n))}var aE={};function sE(r,e){!r&&!aE[e]&&(aE[e]=!0,console.warn(e))}function Yb(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&qt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:Z.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&qt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:Z.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&qt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:Z.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var Qb=["HydrateFallback","hydrateFallbackElement"],$b=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function Xb({router:r,flushSync:e}){let[n,a]=Z.useState(r.state),[o,u]=Z.useState(),[f,m]=Z.useState({isTransitioning:!1}),[p,g]=Z.useState(),[v,S]=Z.useState(),[w,N]=Z.useState(),U=Z.useRef(new Map),$=Z.useCallback((ne,{deletedFetchers:me,flushSync:de,viewTransitionOpts:H})=>{ne.fetchers.forEach((R,b)=>{R.data!==void 0&&U.current.set(b,R.data)}),me.forEach(R=>U.current.delete(R)),sE(de===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let M=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(sE(H==null||M,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!H||!M){e&&de?e(()=>a(ne)):Z.startTransition(()=>a(ne));return}if(e&&de){e(()=>{v&&(p&&p.resolve(),v.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:H.currentLocation,nextLocation:H.nextLocation})});let R=r.window.document.startViewTransition(()=>{e(()=>a(ne))});R.finished.finally(()=>{e(()=>{g(void 0),S(void 0),u(void 0),m({isTransitioning:!1})})}),e(()=>S(R));return}v?(p&&p.resolve(),v.skipTransition(),N({state:ne,currentLocation:H.currentLocation,nextLocation:H.nextLocation})):(u(ne),m({isTransitioning:!0,flushSync:!1,currentLocation:H.currentLocation,nextLocation:H.nextLocation}))},[r.window,e,v,p]);Z.useLayoutEffect(()=>r.subscribe($),[r,$]),Z.useEffect(()=>{f.isTransitioning&&!f.flushSync&&g(new $b)},[f]),Z.useEffect(()=>{if(p&&o&&r.window){let ne=o,me=p.promise,de=r.window.document.startViewTransition(async()=>{Z.startTransition(()=>a(ne)),await me});de.finished.finally(()=>{g(void 0),S(void 0),u(void 0),m({isTransitioning:!1})}),S(de)}},[o,p,r.window]),Z.useEffect(()=>{p&&o&&n.location.key===o.location.key&&p.resolve()},[p,v,n.location,o]),Z.useEffect(()=>{!f.isTransitioning&&w&&(u(w.state),m({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),N(void 0))},[f.isTransitioning,w]);let G=Z.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:ne=>r.navigate(ne),push:(ne,me,de)=>r.navigate(ne,{state:me,preventScrollReset:de?.preventScrollReset}),replace:(ne,me,de)=>r.navigate(ne,{replace:!0,state:me,preventScrollReset:de?.preventScrollReset})}),[r]),W=r.basename||"/",fe=Z.useMemo(()=>({router:r,navigator:G,static:!1,basename:W}),[r,G,W]);return Z.createElement(Z.Fragment,null,Z.createElement(Ls.Provider,{value:fe},Z.createElement(Iu.Provider,{value:n},Z.createElement(r0.Provider,{value:U.current},Z.createElement(Sp.Provider,{value:f},Z.createElement(Jb,{basename:W,location:n.location,navigationType:n.historyAction,navigator:G},Z.createElement(Wb,{routes:r.routes,future:r.future,state:n})))))),null)}var Wb=Z.memo(Zb);function Zb({routes:r,future:e,state:n}){return xb(r,void 0,n,e)}function Jb({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){Xe(!Cu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=Z.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Ha(n));let{pathname:p="/",search:g="",hash:v="",state:S=null,key:w="default"}=n,N=Z.useMemo(()=>{let U=Er(p,f);return U==null?null:{location:{pathname:U,search:g,hash:v,state:S,key:w},navigationType:a}},[f,p,g,v,S,w,a]);return qt(N!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:Z.createElement(si.Provider,{value:m},Z.createElement($h.Provider,{children:e,value:N}))}var mh="get",ph="application/x-www-form-urlencoded";function Xh(r){return r!=null&&typeof r.tagName=="string"}function e1(r){return Xh(r)&&r.tagName.toLowerCase()==="button"}function t1(r){return Xh(r)&&r.tagName.toLowerCase()==="form"}function n1(r){return Xh(r)&&r.tagName.toLowerCase()==="input"}function r1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function i1(r,e){return r.button===0&&(!e||e==="_self")&&!r1(r)}var rh=null;function a1(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var s1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Am(r){return r!=null&&!s1.has(r)?(qt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ph}"`),null):r}function o1(r,e){let n,a,o,u,f;if(t1(r)){let m=r.getAttribute("action");a=m?Er(m,e):null,n=r.getAttribute("method")||mh,o=Am(r.getAttribute("enctype"))||ph,u=new FormData(r)}else if(e1(r)||n1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(a=p?Er(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||mh,o=Am(r.getAttribute("formenctype"))||Am(m.getAttribute("enctype"))||ph,u=new FormData(m,r),!a1()){let{name:g,type:v,value:S}=r;if(v==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,S)}}else{if(Xh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mh,a=null,o=ph,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function l1(r,e,n){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&Er(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function u1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function c1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function h1(r,e,n){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await u1(u,n);return f.links?f.links():[]}return[]}));return p1(a.flat(1).filter(c1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function oE(r,e,n,a,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let v=a.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function f1(r,e,{includeHydrateFallback:n}={}){return d1(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function d1(r){return[...new Set(r)]}function m1(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function p1(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(m1(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function l0(){let r=Z.useContext(Ls);return bp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function g1(){let r=Z.useContext(Iu);return bp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ip=Z.createContext(void 0);Ip.displayName="FrameworkContext";function u0(){let r=Z.useContext(Ip);return bp(r,"You must render this element inside a <HydratedRouter> element"),r}function y1(r,e){let n=Z.useContext(Ip),[a,o]=Z.useState(!1),[u,f]=Z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:S}=e,w=Z.useRef(null);Z.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=W=>{W.forEach(fe=>{f(fe.isIntersecting)})},G=new IntersectionObserver($,{threshold:.5});return w.current&&G.observe(w.current),()=>{G.disconnect()}}},[r]),Z.useEffect(()=>{if(a){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[a]);let N=()=>{o(!0)},U=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:eu(m,N),onBlur:eu(p,U),onMouseEnter:eu(g,N),onMouseLeave:eu(v,U),onTouchStart:eu(S,N)}]:[!1,w,{}]}function eu(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function _1({page:r,...e}){let{router:n}=l0(),a=Z.useMemo(()=>Aa(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?Z.createElement(E1,{page:r,matches:a,...e}):null}function v1(r){let{manifest:e,routeModules:n}=u0(),[a,o]=Z.useState([]);return Z.useEffect(()=>{let u=!1;return h1(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),a}function E1({page:r,matches:e,...n}){let a=ks(),{manifest:o,routeModules:u}=u0(),{basename:f}=l0(),{loaderData:m,matches:p}=g1(),g=Z.useMemo(()=>oE(r,e,p,o,a,"data"),[r,e,p,o,a]),v=Z.useMemo(()=>oE(r,e,p,o,a,"assets"),[r,e,p,o,a]),S=Z.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let U=new Set,$=!1;if(e.forEach(W=>{let fe=o.routes[W.route.id];!fe||!fe.hasLoader||(!g.some(ne=>ne.route.id===W.route.id)&&W.route.id in m&&u[W.route.id]?.shouldRevalidate||fe.hasClientLoader?$=!0:U.add(W.route.id))}),U.size===0)return[];let G=l1(r,f,"data");return $&&U.size>0&&G.searchParams.set("_routes",e.filter(W=>U.has(W.route.id)).map(W=>W.route.id).join(",")),[G.pathname+G.search]},[f,m,a,o,g,e,r,u]),w=Z.useMemo(()=>f1(v,o),[v,o]),N=v1(v);return Z.createElement(Z.Fragment,null,S.map(U=>Z.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),w.map(U=>Z.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),N.map(({key:U,link:$})=>Z.createElement("link",{key:U,...$})))}function T1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var c0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{c0&&(window.__reactRouterVersion="7.7.1")}catch{}function S1(r,e){return db({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:MR({window:e?.window}),hydrationData:w1(),routes:r,mapRouteProperties:Yb,hydrationRouteProperties:Qb,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function w1(){let r=window?.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:A1(r.errors)}),r}function A1(r){if(!r)return null;let e=Object.entries(r),n={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")n[a]=new Ih(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let f=new u(o.message);f.stack="",n[a]=f}catch{}}if(n[a]==null){let u=new Error(o.message);u.stack="",n[a]=u}}else n[a]=o;return n}var h0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f0=Z.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:v,viewTransition:S,...w},N){let{basename:U}=Z.useContext(si),$=typeof g=="string"&&h0.test(g),G,W=!1;if(typeof g=="string"&&$&&(G=g,c0))try{let b=new URL(window.location.href),P=g.startsWith("//")?new URL(b.protocol+g):new URL(g),x=Er(P.pathname,U);P.origin===b.origin&&x!=null?g=x+P.search+P.hash:W=!0}catch{qt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let fe=Pb(g,{relative:o}),[ne,me,de]=y1(a,w),H=C1(g,{replace:f,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:S});function M(b){e&&e(b),b.defaultPrevented||H(b)}let R=Z.createElement("a",{...w,...de,href:G||fe,onClick:W||u?e:M,ref:T1(N,me),target:p,"data-discover":!$&&n==="render"?"true":void 0});return ne&&!$?Z.createElement(Z.Fragment,null,R,Z.createElement(_1,{page:fe})):R});f0.displayName="Link";var R1=Z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},v){let S=Du(f,{relative:g.relative}),w=ks(),N=Z.useContext(Iu),{navigator:U,basename:$}=Z.useContext(si),G=N!=null&&P1(S)&&m===!0,W=U.encodeLocation?U.encodeLocation(S).pathname:S.pathname,fe=w.pathname,ne=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(fe=fe.toLowerCase(),ne=ne?ne.toLowerCase():null,W=W.toLowerCase()),ne&&$&&(ne=Er(ne,$)||ne);const me=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let de=fe===W||!o&&fe.startsWith(W)&&fe.charAt(me)==="/",H=ne!=null&&(ne===W||!o&&ne.startsWith(W)&&ne.charAt(W.length)==="/"),M={isActive:de,isPending:H,isTransitioning:G},R=de?e:void 0,b;typeof a=="function"?b=a(M):b=[a,de?"active":null,H?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(M):u;return Z.createElement(f0,{...g,"aria-current":R,className:b,ref:v,style:P,to:f,viewTransition:m},typeof p=="function"?p(M):p)});R1.displayName="NavLink";var b1=Z.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:f=mh,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:S,...w},N)=>{let U=O1(),$=M1(m,{relative:g}),G=f.toLowerCase()==="get"?"get":"post",W=typeof m=="string"&&h0.test(m),fe=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let me=ne.nativeEvent.submitter,de=me?.getAttribute("formmethod")||f;U(me||ne.currentTarget,{fetcherKey:e,method:de,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:S})};return Z.createElement("form",{ref:N,method:G,action:$,onSubmit:a?p:fe,...w,"data-discover":!W&&r==="render"?"true":void 0})});b1.displayName="Form";function I1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d0(r){let e=Z.useContext(Ls);return Xe(e,I1(r)),e}function C1(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=s0(),p=ks(),g=Du(r,{relative:u});return Z.useCallback(v=>{if(i1(v,e)){v.preventDefault();let S=n!==void 0?n:Pa(p)===Pa(g);m(r,{replace:S,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,a,e,r,o,u,f])}var D1=0,N1=()=>`__${String(++D1)}__`;function O1(){let{router:r}=d0("useSubmit"),{basename:e}=Z.useContext(si),n=Fb();return Z.useCallback(async(a,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=o1(a,e);if(o.navigate===!1){let v=o.fetcherKey||N1();await r.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function M1(r,{relative:e}={}){let{basename:n}=Z.useContext(si),a=Z.useContext(qi);Xe(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Du(r||".",{relative:e})},f=ks();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let v=m.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Wr([n,u.pathname])),Pa(u)}function P1(r,{relative:e}={}){let n=Z.useContext(Sp);Xe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=d0("useViewTransitionState"),o=Du(r,{relative:e});if(!n.isTransitioning)return!1;let u=Er(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=Er(n.nextLocation.pathname,a)||n.nextLocation.pathname;return bh(o.pathname,f)!=null||bh(o.pathname,u)!=null}var V1=HT();function x1(r){return Z.createElement(Xb,{flushSync:V1.flushSync,...r})}const L1="/assets/crown-Cr9dJ75F.png",k1=()=>{};var lE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},U1=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},p0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,v=u>>2,S=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,N=g&63;p||(N=64,f||(w=64)),a.push(n[v],n[S],n[w],n[N])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(m0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):U1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new z1;const w=u<<2|m>>4;if(a.push(w),g!==64){const N=m<<4&240|g>>2;if(a.push(N),S!==64){const U=g<<6&192|S;a.push(U)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class z1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B1=function(r){const e=m0(r);return p0.encodeByteArray(e,!0)},Dh=function(r){return B1(r).replace(/\./g,"")},g0=function(r){try{return p0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=()=>H1().__FIREBASE_DEFAULTS__,q1=()=>{if(typeof process>"u"||typeof lE>"u")return;const r=lE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},F1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&g0(r[1]);return e&&JSON.parse(e)},Wh=()=>{try{return k1()||j1()||q1()||F1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},y0=r=>Wh()?.emulatorHosts?.[r],_0=r=>{const e=y0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},v0=()=>Wh()?.config,E0=r=>Wh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cp(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Dh(JSON.stringify(n)),Dh(JSON.stringify(f)),""].join(".")}const uu={};function K1(){const r={prod:[],emulator:[]};for(const e of Object.keys(uu))uu[e]?r.emulator.push(e):r.prod.push(e);return r}function Y1(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let uE=!1;function Dp(r,e){if(typeof window>"u"||typeof document>"u"||!ja(window.location.host)||uu[r]===e||uu[r]||uE)return;uu[r]=e;function n(w){return`__firebase__banner__${w}`}const a="__firebase__banner",u=K1().prod.length>0;function f(){const w=document.getElementById(a);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,N){w.setAttribute("width","24"),w.setAttribute("id",N),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{uE=!0,f()},w}function v(w,N){w.setAttribute("id",N),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=Y1(a),N=n("text"),U=document.getElementById(N)||document.createElement("span"),$=n("learnmore"),G=document.getElementById($)||document.createElement("a"),W=n("preprendIcon"),fe=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ne=w.element;m(ne),v(G,$);const me=g();p(fe,W),ne.append(fe,U,G,me),document.body.appendChild(ne)}u?(U.innerText="Preview backend disconnected.",fe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(fe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function $1(){const r=Wh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function W1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Z1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function J1(){const r=Sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function eI(){return!$1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tI(){try{return typeof indexedDB=="object"}catch{return!1}}function nI(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="FirebaseError";class oi extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=rI,Object.setPrototypeOf(this,oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nu.prototype.create)}}class Nu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?iI(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new oi(o,m,a)}}function iI(r,e){return r.replace(aI,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const aI=/\{\$([^}]+)}/g;function sI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Cs(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],f=e[o];if(cE(u)&&cE(f)){if(!Cs(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function cE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function ru(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function iu(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function oI(r,e){const n=new lI(r,e);return n.subscribe.bind(n)}class lI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");uI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Rm),o.error===void 0&&(o.error=Rm),o.complete===void 0&&(o.complete=Rm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uI(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Rm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(r){return r&&r._delegate?r._delegate:r}class Va{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new G1;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fI(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ts){return this.instances.has(e)}getOptions(e=Ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:hI(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ts){return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hI(r){return r===Ts?void 0:r}function fI(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(We||(We={}));const mI={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},pI=We.INFO,gI={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},yI=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=gI[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Np{constructor(e){this.name=e,this._logLevel=pI,this._logHandler=yI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const _I=(r,e)=>e.some(n=>r instanceof n);let hE,fE;function vI(){return hE||(hE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EI(){return fE||(fE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S0=new WeakMap,Fm=new WeakMap,w0=new WeakMap,bm=new WeakMap,Op=new WeakMap;function TI(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Da(r.result)),o()},f=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&S0.set(n,r)}).catch(()=>{}),Op.set(e,r),e}function SI(r){if(Fm.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Fm.set(r,e)}let Gm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Fm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||w0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Da(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function wI(r){Gm=r(Gm)}function AI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(Im(this),e,...n);return w0.set(a,e.sort?e.sort():[e]),Da(a)}:EI().includes(r)?function(...e){return r.apply(Im(this),e),Da(S0.get(this))}:function(...e){return Da(r.apply(Im(this),e))}}function RI(r){return typeof r=="function"?AI(r):(r instanceof IDBTransaction&&SI(r),_I(r,vI())?new Proxy(r,Gm):r)}function Da(r){if(r instanceof IDBRequest)return TI(r);if(bm.has(r))return bm.get(r);const e=RI(r);return e!==r&&(bm.set(r,e),Op.set(e,r)),e}const Im=r=>Op.get(r);function bI(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Da(f);return a&&f.addEventListener("upgradeneeded",p=>{a(Da(f.result),p.oldVersion,p.newVersion,Da(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const II=["get","getKey","getAll","getAllKeys","count"],CI=["put","add","delete","clear"],Cm=new Map;function dE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=CI.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||II.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Cm.set(e,u),u}wI(r=>({...r,get:(e,n,a)=>dE(e,n)||r.get(e,n,a),has:(e,n)=>!!dE(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NI(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function NI(r){return r.getComponent()?.type==="VERSION"}const Km="@firebase/app",mE="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new Np("@firebase/app"),OI="@firebase/app-compat",MI="@firebase/analytics-compat",PI="@firebase/analytics",VI="@firebase/app-check-compat",xI="@firebase/app-check",LI="@firebase/auth",kI="@firebase/auth-compat",UI="@firebase/database",zI="@firebase/data-connect",BI="@firebase/database-compat",HI="@firebase/functions",jI="@firebase/functions-compat",qI="@firebase/installations",FI="@firebase/installations-compat",GI="@firebase/messaging",KI="@firebase/messaging-compat",YI="@firebase/performance",QI="@firebase/performance-compat",$I="@firebase/remote-config",XI="@firebase/remote-config-compat",WI="@firebase/storage",ZI="@firebase/storage-compat",JI="@firebase/firestore",eC="@firebase/ai",tC="@firebase/firestore-compat",nC="firebase",rC="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="[DEFAULT]",iC={[Km]:"fire-core",[OI]:"fire-core-compat",[PI]:"fire-analytics",[MI]:"fire-analytics-compat",[xI]:"fire-app-check",[VI]:"fire-app-check-compat",[LI]:"fire-auth",[kI]:"fire-auth-compat",[UI]:"fire-rtdb",[zI]:"fire-data-connect",[BI]:"fire-rtdb-compat",[HI]:"fire-fn",[jI]:"fire-fn-compat",[qI]:"fire-iid",[FI]:"fire-iid-compat",[GI]:"fire-fcm",[KI]:"fire-fcm-compat",[YI]:"fire-perf",[QI]:"fire-perf-compat",[$I]:"fire-rc",[XI]:"fire-rc-compat",[WI]:"fire-gcs",[ZI]:"fire-gcs-compat",[JI]:"fire-fst",[tC]:"fire-fst-compat",[eC]:"fire-vertex","fire-js":"fire-js",[nC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Map,aC=new Map,Qm=new Map;function pE(r,e){try{r.container.addComponent(e)}catch(n){zi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ds(r){const e=r.name;if(Qm.has(e))return zi.debug(`There were multiple attempts to register component ${e}.`),!1;Qm.set(e,r);for(const n of Nh.values())pE(n,r);for(const n of aC.values())pE(n,r);return!0}function Zh(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Bn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Na=new Nu("app","Firebase",sC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=rC;function A0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a={name:Ym,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Na.create("bad-app-name",{appName:String(o)});if(n||(n=v0()),!n)throw Na.create("no-options");const u=Nh.get(o);if(u){if(Cs(n,u.options)&&Cs(a,u.config))return u;throw Na.create("duplicate-app",{appName:o})}const f=new dI(o);for(const p of Qm.values())f.addComponent(p);const m=new oC(n,a,f);return Nh.set(o,m),m}function Mp(r=Ym){const e=Nh.get(r);if(!e&&r===Ym&&v0())return A0();if(!e)throw Na.create("no-app",{appName:r});return e}function Zr(r,e,n){let a=iC[r]??r;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${a}" with version "${e}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zi.warn(f.join(" "));return}Ds(new Va(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="firebase-heartbeat-database",uC=1,_u="firebase-heartbeat-store";let Dm=null;function R0(){return Dm||(Dm=bI(lC,uC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(_u)}catch(n){console.warn(n)}}}}).catch(r=>{throw Na.create("idb-open",{originalErrorMessage:r.message})})),Dm}async function cC(r){try{const n=(await R0()).transaction(_u),a=await n.objectStore(_u).get(b0(r));return await n.done,a}catch(e){if(e instanceof oi)zi.warn(e.message);else{const n=Na.create("idb-get",{originalErrorMessage:e?.message});zi.warn(n.message)}}}async function gE(r,e){try{const a=(await R0()).transaction(_u,"readwrite");await a.objectStore(_u).put(e,b0(r)),await a.done}catch(n){if(n instanceof oi)zi.warn(n.message);else{const a=Na.create("idb-set",{originalErrorMessage:n?.message});zi.warn(a.message)}}}function b0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=1024,fC=30;class dC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pC(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=yE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>fC){const o=gC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){zi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=yE(),{heartbeatsToSend:n,unsentEntries:a}=mC(this._heartbeatsCache.heartbeats),o=Dh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return zi.warn(e),""}}}function yE(){return new Date().toISOString().substring(0,10)}function mC(r,e=hC){const n=[];let a=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),_E(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),_E(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class pC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tI()?nI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return gE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return gE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function _E(r){return Dh(JSON.stringify({version:2,heartbeats:r})).length}function gC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(r){Ds(new Va("platform-logger",e=>new DI(e),"PRIVATE")),Ds(new Va("heartbeat",e=>new dC(e),"PRIVATE")),Zr(Km,mE,r),Zr(Km,mE,"esm2020"),Zr("fire-js","")}yC("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="firebasestorage.googleapis.com",C0="storageBucket",_C=120*1e3,vC=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn extends oi{constructor(e,n,a=0){super(Nm(e),`Firebase Storage: ${n} (${Nm(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,sn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Nm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var an;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(an||(an={}));function Nm(r){return"storage/"+r}function D0(){const r="An unknown error occurred, please check the error payload for server response.";return new sn(an.UNKNOWN,r)}function EC(r){return new sn(an.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function TC(r){return new sn(an.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function SC(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new sn(an.UNAUTHENTICATED,r)}function wC(){return new sn(an.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function AC(r){return new sn(an.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function RC(){return new sn(an.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bC(){return new sn(an.CANCELED,"User canceled the upload/download.")}function IC(r){return new sn(an.INVALID_URL,"Invalid URL '"+r+"'.")}function CC(r){return new sn(an.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function DC(){return new sn(an.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+C0+"' property when initializing the app?")}function NC(){return new sn(an.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function $m(r){return new sn(an.INVALID_ARGUMENT,r)}function N0(){return new sn(an.APP_DELETED,"The Firebase app was deleted.")}function OC(r){return new sn(an.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function tu(r){throw new sn(an.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let a;try{a=Jn.makeFromUrl(e,n)}catch{return new Jn(e,"")}if(a.path==="")return a;throw CC(e)}static makeFromUrl(e,n){let a=null;const o="([A-Za-z0-9.\\-_]+)";function u(me){me.path.charAt(me.path.length-1)==="/"&&(me.path_=me.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function g(me){me.path_=decodeURIComponent(me.path)}const v="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",N=new RegExp(`^https?://${S}/${v}/b/${o}/o${w}`,"i"),U={bucket:1,path:3},$=n===I0?"(?:storage.googleapis.com|storage.cloud.google.com)":n,G="([^?#]*)",W=new RegExp(`^https?://${$}/${o}/${G}`,"i"),ne=[{regex:m,indices:p,postModify:u},{regex:N,indices:U,postModify:g},{regex:W,indices:{bucket:1,path:2},postModify:g}];for(let me=0;me<ne.length;me++){const de=ne[me],H=de.regex.exec(e);if(H){const M=H[de.indices.bucket];let R=H[de.indices.path];R||(R=""),a=new Jn(M,R),de.postModify(a);break}}if(a==null)throw IC(e);return a}}class MC{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(r,e,n){let a=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let g=!1;function v(...G){g||(g=!0,e.apply(null,G))}function S(G){o=setTimeout(()=>{o=null,r(N,p())},G)}function w(){u&&clearTimeout(u)}function N(G,...W){if(g){w();return}if(G){w(),v.call(null,G,...W);return}if(p()||f){w(),v.call(null,G,...W);return}a<64&&(a*=2);let ne;m===1?(m=2,ne=0):ne=(a+Math.random())*1e3,S(ne)}let U=!1;function $(G){U||(U=!0,w(),!g&&(o!==null?(G||(m=2),clearTimeout(o),S(0)):G||(m=1)))}return S(0),u=setTimeout(()=>{f=!0,$(!0)},n),$}function VC(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(r){return r!==void 0}function LC(r){return typeof r=="object"&&!Array.isArray(r)}function O0(r){return typeof r=="string"||r instanceof String}function vE(r,e,n,a){if(a<e)throw $m(`Invalid value for '${r}'. Expected ${e} or greater.`);if(a>n)throw $m(`Invalid value for '${r}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(r,e,n){let a=e;return n==null&&(a=`https://${e}`),`${n}://${a}/v0${r}`}function P0(r){const e=encodeURIComponent;let n="?";for(const a in r)if(r.hasOwnProperty(a)){const o=e(a)+"="+e(r[a]);n=n+o+"&"}return n=n.slice(0,-1),n}var bs;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(bs||(bs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n,a,o,u,f,m,p,g,v,S,w=!0,N=!1){this.url_=e,this.method_=n,this.headers_=a,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=S,this.retry=w,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,$)=>{this.resolve_=U,this.reject_=$,this.start_()})}start_(){const e=(a,o)=>{if(o){a(!1,new ih(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===bs.NO_ERROR,p=u.getStatus();if(!m||kC(p,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===bs.ABORT;a(!1,new ih(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;a(!0,new ih(g,u))})},n=(a,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());xC(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=D0();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?N0():bC();f(p)}else{const p=RC();f(p)}};this.canceled_?n(!1,new ih(!1,null,!0)):this.backoffId_=PC(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&VC(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ih{constructor(e,n,a){this.wasSuccessCode=e,this.connection=n,this.canceled=!!a}}function zC(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function BC(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function HC(r,e){e&&(r["X-Firebase-GMPID"]=e)}function jC(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function qC(r,e,n,a,o,u,f=!0,m=!1){const p=P0(r.urlParams),g=r.url+p,v=Object.assign({},r.headers);return HC(v,e),zC(v,n),BC(v,u),jC(v,a),new UC(g,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(r){let e;try{e=JSON.parse(r)}catch{return null}return LC(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function GC(r,e){const n=e.split("/").filter(a=>a.length>0).join("/");return r.length===0?n:r+"/"+n}function x0(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(r,e){return e}class Mn{constructor(e,n,a,o){this.server=e,this.local=n||e,this.writable=!!a,this.xform=o||KC}}let ah=null;function YC(r){return!O0(r)||r.length<2?r:x0(r)}function QC(){if(ah)return ah;const r=[];r.push(new Mn("bucket")),r.push(new Mn("generation")),r.push(new Mn("metageneration")),r.push(new Mn("name","fullPath",!0));function e(u,f){return YC(f)}const n=new Mn("name");n.xform=e,r.push(n);function a(u,f){return f!==void 0?Number(f):f}const o=new Mn("size");return o.xform=a,r.push(o),r.push(new Mn("timeCreated")),r.push(new Mn("updated")),r.push(new Mn("md5Hash",null,!0)),r.push(new Mn("cacheControl",null,!0)),r.push(new Mn("contentDisposition",null,!0)),r.push(new Mn("contentEncoding",null,!0)),r.push(new Mn("contentLanguage",null,!0)),r.push(new Mn("contentType",null,!0)),r.push(new Mn("metadata","customMetadata",!0)),ah=r,ah}function $C(r,e){function n(){const a=r.bucket,o=r.fullPath,u=new Jn(a,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:n})}function XC(r,e,n){const a={};a.type="file";const o=n.length;for(let u=0;u<o;u++){const f=n[u];a[f.local]=f.xform(a,e[f.server])}return $C(a,r),a}function WC(r,e,n){const a=V0(e);return a===null?null:XC(r,a,n)}function ZC(r,e,n,a){const o=V0(e);if(o===null||!O0(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(g=>{const v=r.bucket,S=r.fullPath,w="/b/"+f(v)+"/o/"+f(S),N=M0(w,n,a),U=P0({alt:"media",token:g});return N+U})[0]}class JC{constructor(e,n,a,o){this.url=e,this.method=n,this.handler=a,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(r){if(!r)throw D0()}function tD(r,e){function n(a,o){const u=WC(r,o,e);return eD(u!==null),ZC(u,o,r.host,r._protocol)}return n}function nD(r){function e(n,a){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=wC():o=SC():n.getStatus()===402?o=TC(r.bucket):n.getStatus()===403?o=AC(r.path):o=a,o.status=n.getStatus(),o.serverResponse=a.serverResponse,o}return e}function rD(r){const e=nD(r);function n(a,o){let u=e(a,o);return a.getStatus()===404&&(u=EC(r.path)),u.serverResponse=o.serverResponse,u}return n}function iD(r,e,n){const a=e.fullServerUrl(),o=M0(a,r.host,r._protocol),u="GET",f=r.maxOperationRetryTime,m=new JC(o,u,tD(r,n),f);return m.errorHandler=rD(e),m}class aD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=bs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=bs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=bs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,a,o,u){if(this.sent_)throw tu("cannot .send() more than once");if(ja(e)&&a&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw tu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw tu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw tu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw tu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class sD extends aD{initXhr(){this.xhr_.responseType="text"}}function oD(){return new sD}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n){this._service=e,n instanceof Jn?this._location=n:this._location=Jn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ns(e,n)}get root(){const e=new Jn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return x0(this._location.path)}get storage(){return this._service}get parent(){const e=FC(this._location.path);if(e===null)return null;const n=new Jn(this._location.bucket,e);return new Ns(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw OC(e)}}function lD(r){r._throwIfRoot("getDownloadURL");const e=iD(r.storage,r._location,QC());return r.storage.makeRequestWithTokens(e,oD).then(n=>{if(n===null)throw NC();return n})}function uD(r,e){const n=GC(r._location.path,e),a=new Jn(r._location.bucket,n);return new Ns(r.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(r){return/^[A-Za-z]+:\/\//.test(r)}function hD(r,e){return new Ns(r,e)}function L0(r,e){if(r instanceof Pp){const n=r;if(n._bucket==null)throw DC();const a=new Ns(n,n._bucket);return e!=null?L0(a,e):a}else return e!==void 0?uD(r,e):r}function fD(r,e){if(e&&cD(e)){if(r instanceof Pp)return hD(r,e);throw $m("To use ref(service, url), the first argument must be a Storage instance.")}else return L0(r,e)}function EE(r,e){const n=e?.[C0];return n==null?null:Jn.makeFromBucketSpec(n,r)}function dD(r,e,n,a={}){r.host=`${e}:${n}`;const o=ja(e);o&&(Cp(`https://${r.host}/b`),Dp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=a;u&&(r._overrideAuthToken=typeof u=="string"?u:T0(u,r.app.options.projectId))}class Pp{constructor(e,n,a,o,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=a,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=I0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_C,this._maxUploadRetryTime=vC,this._requests=new Set,o!=null?this._bucket=Jn.makeFromBucketSpec(o,this._host):this._bucket=EE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jn.makeFromBucketSpec(this._url,e):this._bucket=EE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ns(this,e)}_makeRequest(e,n,a,o,u=!0){if(this._deleted)return new MC(N0());{const f=qC(e,this._appId,a,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,a,o).getPromise()}}const TE="@firebase/storage",SE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="storage";function wE(r){return r=Pn(r),lD(r)}function AE(r,e){return r=Pn(r),fD(r,e)}function U0(r=Mp(),e){r=Pn(r);const a=Zh(r,k0).getImmediate({identifier:e}),o=_0("storage");return o&&mD(a,...o),a}function mD(r,e,n,a={}){dD(r,e,n,a)}function pD(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),a=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Pp(n,a,o,e,Us)}function gD(){Ds(new Va(k0,pD,"PUBLIC").setMultipleInstances(!0)),Zr(TE,SE,""),Zr(TE,SE,"esm2020")}gD();var RE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Oa,z0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function b(){}b.prototype=R.prototype,M.D=R.prototype,M.prototype=new b,M.prototype.constructor=M,M.C=function(P,x,L){for(var I=Array(arguments.length-2),je=2;je<arguments.length;je++)I[je-2]=arguments[je];return R.prototype[x].apply(P,I)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,R,b){b||(b=0);var P=Array(16);if(typeof R=="string")for(var x=0;16>x;++x)P[x]=R.charCodeAt(b++)|R.charCodeAt(b++)<<8|R.charCodeAt(b++)<<16|R.charCodeAt(b++)<<24;else for(x=0;16>x;++x)P[x]=R[b++]|R[b++]<<8|R[b++]<<16|R[b++]<<24;R=M.g[0],b=M.g[1],x=M.g[2];var L=M.g[3],I=R+(L^b&(x^L))+P[0]+3614090360&4294967295;R=b+(I<<7&4294967295|I>>>25),I=L+(x^R&(b^x))+P[1]+3905402710&4294967295,L=R+(I<<12&4294967295|I>>>20),I=x+(b^L&(R^b))+P[2]+606105819&4294967295,x=L+(I<<17&4294967295|I>>>15),I=b+(R^x&(L^R))+P[3]+3250441966&4294967295,b=x+(I<<22&4294967295|I>>>10),I=R+(L^b&(x^L))+P[4]+4118548399&4294967295,R=b+(I<<7&4294967295|I>>>25),I=L+(x^R&(b^x))+P[5]+1200080426&4294967295,L=R+(I<<12&4294967295|I>>>20),I=x+(b^L&(R^b))+P[6]+2821735955&4294967295,x=L+(I<<17&4294967295|I>>>15),I=b+(R^x&(L^R))+P[7]+4249261313&4294967295,b=x+(I<<22&4294967295|I>>>10),I=R+(L^b&(x^L))+P[8]+1770035416&4294967295,R=b+(I<<7&4294967295|I>>>25),I=L+(x^R&(b^x))+P[9]+2336552879&4294967295,L=R+(I<<12&4294967295|I>>>20),I=x+(b^L&(R^b))+P[10]+4294925233&4294967295,x=L+(I<<17&4294967295|I>>>15),I=b+(R^x&(L^R))+P[11]+2304563134&4294967295,b=x+(I<<22&4294967295|I>>>10),I=R+(L^b&(x^L))+P[12]+1804603682&4294967295,R=b+(I<<7&4294967295|I>>>25),I=L+(x^R&(b^x))+P[13]+4254626195&4294967295,L=R+(I<<12&4294967295|I>>>20),I=x+(b^L&(R^b))+P[14]+2792965006&4294967295,x=L+(I<<17&4294967295|I>>>15),I=b+(R^x&(L^R))+P[15]+1236535329&4294967295,b=x+(I<<22&4294967295|I>>>10),I=R+(x^L&(b^x))+P[1]+4129170786&4294967295,R=b+(I<<5&4294967295|I>>>27),I=L+(b^x&(R^b))+P[6]+3225465664&4294967295,L=R+(I<<9&4294967295|I>>>23),I=x+(R^b&(L^R))+P[11]+643717713&4294967295,x=L+(I<<14&4294967295|I>>>18),I=b+(L^R&(x^L))+P[0]+3921069994&4294967295,b=x+(I<<20&4294967295|I>>>12),I=R+(x^L&(b^x))+P[5]+3593408605&4294967295,R=b+(I<<5&4294967295|I>>>27),I=L+(b^x&(R^b))+P[10]+38016083&4294967295,L=R+(I<<9&4294967295|I>>>23),I=x+(R^b&(L^R))+P[15]+3634488961&4294967295,x=L+(I<<14&4294967295|I>>>18),I=b+(L^R&(x^L))+P[4]+3889429448&4294967295,b=x+(I<<20&4294967295|I>>>12),I=R+(x^L&(b^x))+P[9]+568446438&4294967295,R=b+(I<<5&4294967295|I>>>27),I=L+(b^x&(R^b))+P[14]+3275163606&4294967295,L=R+(I<<9&4294967295|I>>>23),I=x+(R^b&(L^R))+P[3]+4107603335&4294967295,x=L+(I<<14&4294967295|I>>>18),I=b+(L^R&(x^L))+P[8]+1163531501&4294967295,b=x+(I<<20&4294967295|I>>>12),I=R+(x^L&(b^x))+P[13]+2850285829&4294967295,R=b+(I<<5&4294967295|I>>>27),I=L+(b^x&(R^b))+P[2]+4243563512&4294967295,L=R+(I<<9&4294967295|I>>>23),I=x+(R^b&(L^R))+P[7]+1735328473&4294967295,x=L+(I<<14&4294967295|I>>>18),I=b+(L^R&(x^L))+P[12]+2368359562&4294967295,b=x+(I<<20&4294967295|I>>>12),I=R+(b^x^L)+P[5]+4294588738&4294967295,R=b+(I<<4&4294967295|I>>>28),I=L+(R^b^x)+P[8]+2272392833&4294967295,L=R+(I<<11&4294967295|I>>>21),I=x+(L^R^b)+P[11]+1839030562&4294967295,x=L+(I<<16&4294967295|I>>>16),I=b+(x^L^R)+P[14]+4259657740&4294967295,b=x+(I<<23&4294967295|I>>>9),I=R+(b^x^L)+P[1]+2763975236&4294967295,R=b+(I<<4&4294967295|I>>>28),I=L+(R^b^x)+P[4]+1272893353&4294967295,L=R+(I<<11&4294967295|I>>>21),I=x+(L^R^b)+P[7]+4139469664&4294967295,x=L+(I<<16&4294967295|I>>>16),I=b+(x^L^R)+P[10]+3200236656&4294967295,b=x+(I<<23&4294967295|I>>>9),I=R+(b^x^L)+P[13]+681279174&4294967295,R=b+(I<<4&4294967295|I>>>28),I=L+(R^b^x)+P[0]+3936430074&4294967295,L=R+(I<<11&4294967295|I>>>21),I=x+(L^R^b)+P[3]+3572445317&4294967295,x=L+(I<<16&4294967295|I>>>16),I=b+(x^L^R)+P[6]+76029189&4294967295,b=x+(I<<23&4294967295|I>>>9),I=R+(b^x^L)+P[9]+3654602809&4294967295,R=b+(I<<4&4294967295|I>>>28),I=L+(R^b^x)+P[12]+3873151461&4294967295,L=R+(I<<11&4294967295|I>>>21),I=x+(L^R^b)+P[15]+530742520&4294967295,x=L+(I<<16&4294967295|I>>>16),I=b+(x^L^R)+P[2]+3299628645&4294967295,b=x+(I<<23&4294967295|I>>>9),I=R+(x^(b|~L))+P[0]+4096336452&4294967295,R=b+(I<<6&4294967295|I>>>26),I=L+(b^(R|~x))+P[7]+1126891415&4294967295,L=R+(I<<10&4294967295|I>>>22),I=x+(R^(L|~b))+P[14]+2878612391&4294967295,x=L+(I<<15&4294967295|I>>>17),I=b+(L^(x|~R))+P[5]+4237533241&4294967295,b=x+(I<<21&4294967295|I>>>11),I=R+(x^(b|~L))+P[12]+1700485571&4294967295,R=b+(I<<6&4294967295|I>>>26),I=L+(b^(R|~x))+P[3]+2399980690&4294967295,L=R+(I<<10&4294967295|I>>>22),I=x+(R^(L|~b))+P[10]+4293915773&4294967295,x=L+(I<<15&4294967295|I>>>17),I=b+(L^(x|~R))+P[1]+2240044497&4294967295,b=x+(I<<21&4294967295|I>>>11),I=R+(x^(b|~L))+P[8]+1873313359&4294967295,R=b+(I<<6&4294967295|I>>>26),I=L+(b^(R|~x))+P[15]+4264355552&4294967295,L=R+(I<<10&4294967295|I>>>22),I=x+(R^(L|~b))+P[6]+2734768916&4294967295,x=L+(I<<15&4294967295|I>>>17),I=b+(L^(x|~R))+P[13]+1309151649&4294967295,b=x+(I<<21&4294967295|I>>>11),I=R+(x^(b|~L))+P[4]+4149444226&4294967295,R=b+(I<<6&4294967295|I>>>26),I=L+(b^(R|~x))+P[11]+3174756917&4294967295,L=R+(I<<10&4294967295|I>>>22),I=x+(R^(L|~b))+P[2]+718787259&4294967295,x=L+(I<<15&4294967295|I>>>17),I=b+(L^(x|~R))+P[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(x+(I<<21&4294967295|I>>>11))&4294967295,M.g[2]=M.g[2]+x&4294967295,M.g[3]=M.g[3]+L&4294967295}a.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var b=R-this.blockSize,P=this.B,x=this.h,L=0;L<R;){if(x==0)for(;L<=b;)o(this,M,L),L+=this.blockSize;if(typeof M=="string"){for(;L<R;)if(P[x++]=M.charCodeAt(L++),x==this.blockSize){o(this,P),x=0;break}}else for(;L<R;)if(P[x++]=M[L++],x==this.blockSize){o(this,P),x=0;break}}this.h=x,this.o+=R},a.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var b=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=b&255,b/=256;for(this.u(M),M=Array(16),R=b=0;4>R;++R)for(var P=0;32>P;P+=8)M[b++]=this.g[R]>>>P&255;return M};function u(M,R){var b=m;return Object.prototype.hasOwnProperty.call(b,M)?b[M]:b[M]=R(M)}function f(M,R){this.h=R;for(var b=[],P=!0,x=M.length-1;0<=x;x--){var L=M[x]|0;P&&L==R||(b[x]=L,P=!1)}this.g=b}var m={};function p(M){return-128<=M&&128>M?u(M,function(R){return new f([R|0],0>R?-1:0)}):new f([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return S;if(0>M)return G(g(-M));for(var R=[],b=1,P=0;M>=b;P++)R[P]=M/b|0,b*=4294967296;return new f(R,0)}function v(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return G(v(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=g(Math.pow(R,8)),P=S,x=0;x<M.length;x+=8){var L=Math.min(8,M.length-x),I=parseInt(M.substring(x,x+L),R);8>L?(L=g(Math.pow(R,L)),P=P.j(L).add(g(I))):(P=P.j(b),P=P.add(g(I)))}return P}var S=p(0),w=p(1),N=p(16777216);r=f.prototype,r.m=function(){if($(this))return-G(this).m();for(var M=0,R=1,b=0;b<this.g.length;b++){var P=this.i(b);M+=(0<=P?P:4294967296+P)*R,R*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(U(this))return"0";if($(this))return"-"+G(this).toString(M);for(var R=g(Math.pow(M,6)),b=this,P="";;){var x=me(b,R).g;b=W(b,x.j(R));var L=((0<b.g.length?b.g[0]:b.h)>>>0).toString(M);if(b=x,U(b))return L+P;for(;6>L.length;)L="0"+L;P=L+P}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function U(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function $(M){return M.h==-1}r.l=function(M){return M=W(this,M),$(M)?-1:U(M)?0:1};function G(M){for(var R=M.g.length,b=[],P=0;P<R;P++)b[P]=~M.g[P];return new f(b,~M.h).add(w)}r.abs=function(){return $(this)?G(this):this},r.add=function(M){for(var R=Math.max(this.g.length,M.g.length),b=[],P=0,x=0;x<=R;x++){var L=P+(this.i(x)&65535)+(M.i(x)&65535),I=(L>>>16)+(this.i(x)>>>16)+(M.i(x)>>>16);P=I>>>16,L&=65535,I&=65535,b[x]=I<<16|L}return new f(b,b[b.length-1]&-2147483648?-1:0)};function W(M,R){return M.add(G(R))}r.j=function(M){if(U(this)||U(M))return S;if($(this))return $(M)?G(this).j(G(M)):G(G(this).j(M));if($(M))return G(this.j(G(M)));if(0>this.l(N)&&0>M.l(N))return g(this.m()*M.m());for(var R=this.g.length+M.g.length,b=[],P=0;P<2*R;P++)b[P]=0;for(P=0;P<this.g.length;P++)for(var x=0;x<M.g.length;x++){var L=this.i(P)>>>16,I=this.i(P)&65535,je=M.i(x)>>>16,et=M.i(x)&65535;b[2*P+2*x]+=I*et,fe(b,2*P+2*x),b[2*P+2*x+1]+=L*et,fe(b,2*P+2*x+1),b[2*P+2*x+1]+=I*je,fe(b,2*P+2*x+1),b[2*P+2*x+2]+=L*je,fe(b,2*P+2*x+2)}for(P=0;P<R;P++)b[P]=b[2*P+1]<<16|b[2*P];for(P=R;P<2*R;P++)b[P]=0;return new f(b,0)};function fe(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function ne(M,R){this.g=M,this.h=R}function me(M,R){if(U(R))throw Error("division by zero");if(U(M))return new ne(S,S);if($(M))return R=me(G(M),R),new ne(G(R.g),G(R.h));if($(R))return R=me(M,G(R)),new ne(G(R.g),R.h);if(30<M.g.length){if($(M)||$(R))throw Error("slowDivide_ only works with positive integers.");for(var b=w,P=R;0>=P.l(M);)b=de(b),P=de(P);var x=H(b,1),L=H(P,1);for(P=H(P,2),b=H(b,2);!U(P);){var I=L.add(P);0>=I.l(M)&&(x=x.add(b),L=I),P=H(P,1),b=H(b,1)}return R=W(M,x.j(R)),new ne(x,R)}for(x=S;0<=M.l(R);){for(b=Math.max(1,Math.floor(M.m()/R.m())),P=Math.ceil(Math.log(b)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),L=g(b),I=L.j(R);$(I)||0<I.l(M);)b-=P,L=g(b),I=L.j(R);U(L)&&(L=w),x=x.add(L),M=W(M,I)}return new ne(x,M)}r.A=function(M){return me(this,M).h},r.and=function(M){for(var R=Math.max(this.g.length,M.g.length),b=[],P=0;P<R;P++)b[P]=this.i(P)&M.i(P);return new f(b,this.h&M.h)},r.or=function(M){for(var R=Math.max(this.g.length,M.g.length),b=[],P=0;P<R;P++)b[P]=this.i(P)|M.i(P);return new f(b,this.h|M.h)},r.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),b=[],P=0;P<R;P++)b[P]=this.i(P)^M.i(P);return new f(b,this.h^M.h)};function de(M){for(var R=M.g.length+1,b=[],P=0;P<R;P++)b[P]=M.i(P)<<1|M.i(P-1)>>>31;return new f(b,M.h)}function H(M,R){var b=R>>5;R%=32;for(var P=M.g.length-b,x=[],L=0;L<P;L++)x[L]=0<R?M.i(L+b)>>>R|M.i(L+b+1)<<32-R:M.i(L+b);return new f(x,M.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,z0=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,Oa=f}).apply(typeof RE<"u"?RE:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var B0,au,H0,gh,Xm,j0,q0,F0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)e:{var _=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var B=c[A];if(!(B in _))break e;_=_[B]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,B={next:function(){if(!A&&_<c.length){var X=_++;return{value:y(X,c[X]),done:!1}}return A=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function S(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,A),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function w(c,y,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:S,w.apply(null,arguments)}function N(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function U(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,B,X){for(var he=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)he[tt-2]=arguments[tt];return y.prototype[B].apply(A,he)}}function $(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function G(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const B=c.length||0,X=A.length||0;c.length=B+X;for(let he=0;he<X;he++)c[B+he]=A[he]}else c.push(A)}}class W{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function fe(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function me(c){return me[" "](c),c}me[" "]=function(){};var de=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function H(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function M(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,y){let _,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(_ in A)c[_]=A[_];for(let X=0;X<b.length;X++)_=b[X],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function x(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function L(c){m.setTimeout(()=>{throw c},0)}function I(){var c=ze;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class je{constructor(){this.h=this.g=null}add(y,_){const A=et.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var et=new W(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,pe=!1,ze=new je,O=()=>{const c=m.Promise.resolve(void 0);ue=()=>{c.then(ee)}};var ee=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){L(_)}var y=et;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Be(c,y){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(de){e:{try{me(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:De[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Be.aa.h.call(this)}}U(Be,oe);var De={2:"touch",3:"pen",4:"mouse"};Be.prototype.h=function(){Be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Lt="closure_listenable_"+(1e6*Math.random()|0),pt=0;function er(c,y,_,A,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=B,this.key=++pt,this.da=this.fa=!1}function At(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function pn(c){this.src=c,this.g={},this.h=0}pn.prototype.add=function(c,y,_,A,B){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var he=li(c,y,A,B);return-1<he?(y=c[he],_||(y.fa=!1)):(y=new er(y,this.src,X,!!A,B),y.fa=_,c.push(y)),y};function Mr(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],B=Array.prototype.indexOf.call(A,y,void 0),X;(X=0<=B)&&Array.prototype.splice.call(A,B,1),X&&(At(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function li(c,y,_,A){for(var B=0;B<c.length;++B){var X=c[B];if(!X.da&&X.listener==y&&X.capture==!!_&&X.ha==A)return B}return-1}var wn="closure_lm_"+(1e6*Math.random()|0),Ka={};function qs(c,y,_,A,B){if(Array.isArray(y)){for(var X=0;X<y.length;X++)qs(c,y[X],_,A,B);return null}return _=Ki(_),c&&c[Lt]?c.K(y,_,g(A)?!!A.capture:!1,B):An(c,y,_,!1,A,B)}function An(c,y,_,A,B,X){if(!y)throw Error("Invalid event type");var he=g(B)?!!B.capture:!!B,tt=tr(c);if(tt||(c[wn]=tt=new pn(c)),_=tt.add(y,_,A,he,X),_.proxy)return _;if(A=Zo(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)we||(B=he),B===void 0&&(B=!1),c.addEventListener(y.toString(),A,B);else if(c.attachEvent)c.attachEvent(ui(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Zo(){function c(_){return y.call(c.src,c.listener,_)}const y=Sr;return c}function Ya(c,y,_,A,B){if(Array.isArray(y))for(var X=0;X<y.length;X++)Ya(c,y[X],_,A,B);else A=g(A)?!!A.capture:!!A,_=Ki(_),c&&c[Lt]?(c=c.i,y=String(y).toString(),y in c.g&&(X=c.g[y],_=li(X,_,A,B),-1<_&&(At(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete c.g[y],c.h--)))):c&&(c=tr(c))&&(y=c.g[y.toString()],c=-1,y&&(c=li(y,_,A,B)),(_=-1<c?y[c]:null)&&Fi(_))}function Fi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Lt])Mr(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(ui(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=tr(y))?(Mr(_,c),_.h==0&&(_.src=null,y[wn]=null)):At(c)}}}function ui(c){return c in Ka?Ka[c]:Ka[c]="on"+c}function Sr(c,y){if(c.da)c=!0;else{y=new Be(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&Fi(c),c=_.call(A,y)}return c}function tr(c){return c=c[wn],c instanceof pn?c:null}var Gi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ki(c){return typeof c=="function"?c:(c[Gi]||(c[Gi]=function(y){return c.handleEvent(y)}),c[Gi])}function ot(){ce.call(this),this.i=new pn(this),this.M=this,this.F=null}U(ot,ce),ot.prototype[Lt]=!0,ot.prototype.removeEventListener=function(c,y,_,A){Ya(this,c,y,_,A)};function Fe(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new oe(y,c);else if(y instanceof oe)y.target=y.target||c;else{var B=y;y=new oe(A,c),P(y,B)}if(B=!0,_)for(var X=_.length-1;0<=X;X--){var he=y.g=_[X];B=gn(he,A,!0,y)&&B}if(he=y.g=c,B=gn(he,A,!0,y)&&B,B=gn(he,A,!1,y)&&B,_)for(X=0;X<_.length;X++)he=y.g=_[X],B=gn(he,A,!1,y)&&B}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)At(_[A]);delete c.g[y],c.h--}}this.F=null},ot.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},ot.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function gn(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,X=0;X<y.length;++X){var he=y[X];if(he&&!he.da&&he.capture==_){var tt=he.listener,Ft=he.ha||he.src;he.fa&&Mr(c.i,he),B=tt.call(Ft,A)!==!1&&B}}return B&&!A.defaultPrevented}function kt(c,y,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Fs(c){c.g=kt(()=>{c.g=null,c.i&&(c.i=!1,Fs(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class nr extends ce{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Fs(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(c){ce.call(this),this.h=c,this.g={}}U(Pr,ce);var Vr=[];function xr(c){H(c.g,function(y,_){this.g.hasOwnProperty(_)&&Fi(y)},c),c.g={}}Pr.prototype.N=function(){Pr.aa.N.call(this),xr(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=m.JSON.stringify,ci=m.JSON.parse,rr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Yi(){}Yi.prototype.h=null;function hi(c){return c.h||(c.h=c.i())}function Qa(){}var ir={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wr(){oe.call(this,"d")}U(wr,oe);function Qi(){oe.call(this,"c")}U(Qi,oe);var Rn={},Lr=null;function kr(){return Lr=Lr||new ot}Rn.La="serverreachability";function $i(c){oe.call(this,Rn.La,c)}U($i,oe);function D(c){const y=kr();Fe(y,new $i(y))}Rn.STAT_EVENT="statevent";function z(c,y){oe.call(this,Rn.STAT_EVENT,c),this.stat=y}U(z,oe);function F(c){const y=kr();Fe(y,new z(y,c))}Rn.Ma="timingevent";function ie(c,y){oe.call(this,Rn.Ma,c),this.size=y}U(ie,oe);function le(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function ge(){this.g=!0}ge.prototype.xa=function(){this.g=!1};function Ae(c,y,_,A,B,X){c.info(function(){if(c.g)if(X)for(var he="",tt=X.split("&"),Ft=0;Ft<tt.length;Ft++){var nt=tt[Ft].split("=");if(1<nt.length){var Jt=nt[0];nt=nt[1];var Gt=Jt.split("_");he=2<=Gt.length&&Gt[1]=="type"?he+(Jt+"="+nt+"&"):he+(Jt+"=redacted&")}}else he=null;else he=X;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+y+`
`+_+`
`+he})}function ve(c,y,_,A,B,X,he){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+y+`
`+_+`
`+X+" "+he})}function Ee(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Te(c,_)+(A?" "+A:"")})}function Ie(c,y){c.info(function(){return"TIMEOUT: "+y})}ge.prototype.info=function(){};function Te(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var B=A[1];if(Array.isArray(B)&&!(1>B.length)){var X=B[0];if(X!="noop"&&X!="stop"&&X!="close")for(var he=1;he<B.length;he++)B[he]=""}}}}return Hn(_)}catch{return y}}var Se={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},He={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},at;function Et(){}U(Et,Yi),Et.prototype.g=function(){return new XMLHttpRequest},Et.prototype.i=function(){return{}},at=new Et;function lt(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new Pr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ke}function ke(){this.i=null,this.g="",this.h=!1}var ut={},Vn={};function on(c,y,_){c.L=1,c.v=Wa(Fn(y)),c.m=_,c.P=!0,Wt(c,null)}function Wt(c,y){c.F=Date.now(),jn(c),c.A=Fn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),rl(_.i,"t",A),c.C=0,_=c.j.J,c.h=new ke,c.g=Zu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new nr(w(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(Vr[0]=B.toString()),B=Vr);for(var X=0;X<B.length;X++){var he=qs(_,B[X],A||y.handleEvent,!1,y.h||y);if(!he)break;y.g[he.key]=he}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),D(),Ae(c.i,c.u,c.A,c.l,c.R,c.m)}lt.prototype.ca=function(c){c=c.target;const y=this.M;y&&ur(c)==3?y.j():this.Y(c)},lt.prototype.Y=function(c){try{if(c==this.g)e:{const Gt=ur(this.g);var y=this.g.Ba();const vi=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||Fu(this.g)))){this.J||Gt!=4||y==7||(y==8||0>=vi?D(3):D(2)),qn(this);var _=this.g.Z();this.X=_;t:if(bn(this)){var A=Fu(this.g);c="";var B=A.length,X=ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xe(this),In(this);var he="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(X&&y==B-1)});A.length=0,this.h.g+=c,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=_==200,ve(this.i,this.u,this.A,this.l,this.R,Gt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Ft=this.g;if((tt=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fe(tt)){var nt=tt;break t}}nt=null}if(_=nt)Ee(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,It(this,_);else{this.o=!1,this.s=3,F(12),xe(this),In(this);break e}}if(this.P){_=!0;let ln;for(;!this.J&&this.C<he.length;)if(ln=Xi(this,he),ln==Vn){Gt==4&&(this.s=4,F(14),_=!1),Ee(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==ut){this.s=4,F(15),Ee(this.i,this.l,he,"[Invalid Chunk]"),_=!1;break}else Ee(this.i,this.l,ln,null),It(this,ln);if(bn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||he.length!=0||this.h.h||(this.s=1,F(16),_=!1),this.o=this.o&&_,!_)Ee(this.i,this.l,he,"[Invalid Chunked Response]"),xe(this),In(this);else if(0<he.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),as(Jt),Jt.M=!0,F(11))}}else Ee(this.i,this.l,he,null),It(this,he);Gt==4&&xe(this),this.o&&!this.J&&(Gt==4?$u(this.j,this):(this.o=!1,jn(this)))}else Sf(this.g),_==400&&0<he.indexOf("Unknown SID")?(this.s=3,F(12)):(this.s=0,F(13)),xe(this),In(this)}}}catch{}finally{}};function bn(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Xi(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?Vn:(_=Number(y.substring(_,A)),isNaN(_)?ut:(A+=1,A+_>y.length?Vn:(y=y.slice(A,A+_),c.C=A+_,y)))}lt.prototype.cancel=function(){this.J=!0,xe(this)};function jn(c){c.S=Date.now()+c.I,ar(c,c.I)}function ar(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=le(w(c.ba,c),y)}function qn(c){c.B&&(m.clearTimeout(c.B),c.B=null)}lt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ie(this.i,this.A),this.L!=2&&(D(),F(17)),xe(this),this.s=2,In(this)):ar(this,this.S-c)};function In(c){c.j.G==0||c.J||$u(c.j,c)}function xe(c){qn(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,xr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function It(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Wi(_.h,c))){if(!c.K&&Wi(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Js(_),Ws(_);else break e;ll(_),F(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=le(w(_.Za,_),6e3));if(1>=Ar(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else _i(_,11)}else if((c.K||_.g==c)&&Js(_),!fe(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let nt=B[y];if(_.T=nt[0],nt=nt[1],_.G==2)if(nt[0]=="c"){_.K=nt[1],_.ia=nt[2];const Jt=nt[3];Jt!=null&&(_.la=Jt,_.j.info("VER="+_.la));const Gt=nt[4];Gt!=null&&(_.Aa=Gt,_.j.info("SVER="+_.Aa));const vi=nt[5];vi!=null&&typeof vi=="number"&&0<vi&&(A=1.5*vi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const ln=c.g;if(ln){const Fr=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var X=A.h;X.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Zi(X,X.h),X.h=null))}if(A.D){const cl=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;cl&&(A.ya=cl,gt(A.I,A.D,cl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var he=c;if(A.qa=Wu(A,A.J?A.ia:null,A.W),he.K){Dn(A.h,he);var tt=he,Ft=A.L;Ft&&(tt.I=Ft),tt.B&&(qn(tt),jn(tt)),A.g=he}else Yu(A);0<_.i.length&&Zs(_)}else nt[0]!="stop"&&nt[0]!="close"||_i(_,7);else _.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?_i(_,7):sl(_):nt[0]!="noop"&&_.l&&_.l.ta(nt),_.v=0)}}D(4)}catch{}}var fi=class{constructor(c,y){this.g=c,this.map=y}};function Cn(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function St(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ar(c){return c.h?1:c.g?c.g.size:0}function Wi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Zi(c,y){c.g?c.g.add(y):c.h=y}function Dn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Cn.prototype.cancel=function(){if(this.i=Jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Jo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return $(c.i)}function _f(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function Gs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function el(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Gs(c),A=_f(c),B=A.length,X=0;X<B;X++)y.call(void 0,A[X],_&&_[X],c)}var $a=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),B=null;if(0<=A){var X=c[_].substring(0,A);B=c[_].substring(A+1)}else X=c[_];y(X,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Ut(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ut){this.h=c.h,Xa(this,c.j),this.o=c.o,this.g=c.g,Ji(this,c.s),this.l=c.l;var y=c.i,_=new mi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),di(this,_),this.m=c.m}else c&&(y=String(c).match($a))?(this.h=!1,Xa(this,y[1]||"",!0),this.o=sr(y[2]||""),this.g=sr(y[3]||"",!0),Ji(this,y[4]),this.l=sr(y[5]||"",!0),di(this,y[6]||"",!0),this.m=sr(y[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}Ut.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Za(y,tl,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Za(y,tl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Za(_,_.charAt(0)=="/"?Ef:nl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Za(_,Ks)),c.join("")};function Fn(c){return new Ut(c)}function Xa(c,y,_){c.j=_?sr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ji(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function di(c,y,_){y instanceof mi?(c.i=y,ju(c.i,c.h)):(_||(y=Za(y,Tf)),c.i=new mi(y,c.h))}function gt(c,y,_){c.i.set(y,_)}function Wa(c){return gt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function sr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Za(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Hu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Hu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var tl=/[#\/\?@]/g,nl=/[#\?:]/g,Ef=/[#\?]/g,Tf=/[#\?@]/g,Ks=/#/g;function mi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function or(c){c.g||(c.g=new Map,c.h=0,c.i&&vf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=mi.prototype,r.add=function(c,y){or(this),this.i=null,c=Ur(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function pi(c,y){or(c),y=Ur(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function gi(c,y){return or(c),y=Ur(c,y),c.g.has(y)}r.forEach=function(c,y){or(this),this.g.forEach(function(_,A){_.forEach(function(B){c.call(y,B,A,this)},this)},this)},r.na=function(){or(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const B=c[A];for(let X=0;X<B.length;X++)_.push(y[A])}return _},r.V=function(c){or(this);let y=[];if(typeof c=="string")gi(this,c)&&(y=y.concat(this.g.get(Ur(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return or(this),this.i=null,c=Ur(this,c),gi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function rl(c,y,_){pi(c,y),0<_.length&&(c.i=null,c.g.set(Ur(c,y),$(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const X=encodeURIComponent(String(A)),he=this.V(A);for(A=0;A<he.length;A++){var B=X;he[A]!==""&&(B+="="+encodeURIComponent(String(he[A]))),c.push(B)}}return this.i=c.join("&")};function Ur(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ju(c,y){y&&!c.j&&(or(c),c.i=null,c.g.forEach(function(_,A){var B=A.toLowerCase();A!=B&&(pi(this,A),rl(this,B,_))},c)),c.j=y}function Ja(c,y){const _=new ge;if(m.Image){const A=new Image;A.onload=N(lr,_,"TestLoadImage: loaded",!0,y,A),A.onerror=N(lr,_,"TestLoadImage: error",!1,y,A),A.onabort=N(lr,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=N(lr,_,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Rr(c,y){const _=new ge,A=new AbortController,B=setTimeout(()=>{A.abort(),lr(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(X=>{clearTimeout(B),X.ok?lr(_,"TestPingServer: ok",!0,y):lr(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),lr(_,"TestPingServer: error",!1,y)})}function lr(c,y,_,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(_)}catch{}}function es(){this.g=new rr}function zr(c,y,_){const A=_||"";try{el(c,function(B,X){let he=B;g(B)&&(he=Hn(B)),y.push(A+X+"="+encodeURIComponent(he))})}catch(B){throw y.push(A+"type="+encodeURIComponent("_badmap")),B}}function ea(c){this.l=c.Ub||null,this.j=c.eb||!1}U(ea,Yi),ea.prototype.g=function(){return new yi(this.l,this.j)},ea.prototype.i=function(c){return function(){return c}}({});function yi(c,y){ot.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(yi,ot),r=yi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Hr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Br(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hr(this)),this.g&&(this.readyState=3,Hr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;il(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function il(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Br(this):Hr(this),this.readyState==3&&il(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Br(this))},r.Qa=function(c){this.g&&(this.response=c,Br(this))},r.ga=function(){this.g&&Br(this)};function Br(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Hr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Hr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function al(c){let y="";return H(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Zt(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=al(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):gt(c,y,_))}function ht(c){ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(ht,ot);var Ys=/^https?$/i,ts=["POST","PUT"];r=ht.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():at.g(),this.v=this.o?hi(this.o):hi(at),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(X){qu(this,X);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)_.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())_.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ts,y,void 0))||A||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,he]of _)this.g.setRequestHeader(X,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ns(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){qu(this,X)}};function qu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Qs(c),jr(c)}function Qs(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),jr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jr(this,!0)),ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?$s(this):this.bb())},r.bb=function(){$s(this)};function $s(c){if(c.h&&typeof f<"u"&&(!c.v[1]||ur(c)!=4||c.Z()!=2)){if(c.u&&ur(c)==4)kt(c.Ea,0,c);else if(Fe(c,"readystatechange"),ur(c)==4){c.h=!1;try{const he=c.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=he===0){var B=String(c.D).match($a)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),A=!Ys.test(B?B.toLowerCase():"")}_=A}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var X=2<ur(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",Qs(c)}}finally{jr(c)}}}}function jr(c,y){if(c.g){ns(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Fe(c,"ready");try{_.onreadystatechange=A}catch{}}}function ns(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function ur(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<ur(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ci(y)}};function Fu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Sf(c){const y={};c=(c.g&&2<=ur(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(fe(c[A]))continue;var _=x(c[A]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=y[B]||[];y[B]=X,X.push(_)}M(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Xs(c){this.Aa=0,this.i=[],this.j=new ge,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rs("baseRetryDelayMs",5e3,c),this.cb=rs("retryDelaySeedMs",1e4,c),this.Wa=rs("forwardChannelMaxRetries",2,c),this.wa=rs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Cn(c&&c.concurrentRequestLimit),this.Da=new es,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Xs.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,A){F(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Wu(this,null,this.W),Zs(this)};function sl(c){if(Gu(c),c.G==3){var y=c.U++,_=Fn(c.I);if(gt(_,"SID",c.K),gt(_,"RID",y),gt(_,"TYPE","terminate"),is(c,_),y=new lt(c,c.j,y),y.L=2,y.v=Wa(Fn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Zu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),jn(y)}Xu(c)}function Ws(c){c.g&&(as(c),c.g.cancel(),c.g=null)}function Gu(c){Ws(c),c.u&&(m.clearTimeout(c.u),c.u=null),Js(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Zs(c){if(!St(c.h)&&!c.s){c.s=!0;var y=c.Ga;ue||O(),pe||(ue(),pe=!0),ze.add(y,c),c.B=0}}function wf(c,y){return Ar(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=le(w(c.Ga,c,y),ul(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new lt(this,this.j,c);let X=this.o;if(this.S&&(X?(X=R(X),P(X,this.S)):X=this.S),this.m!==null||this.O||(B.H=X,X=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Ku(this,B,y),_=Fn(this.I),gt(_,"RID",c),gt(_,"CVER",22),this.D&&gt(_,"X-HTTP-Session-Id",this.D),is(this,_),X&&(this.O?y="headers="+encodeURIComponent(String(al(X)))+"&"+y:this.m&&Zt(_,this.m,X)),Zi(this.h,B),this.Ua&&gt(_,"TYPE","init"),this.P?(gt(_,"$req",y),gt(_,"SID","null"),B.T=!0,on(B,_,null)):on(B,_,y),this.G=2}}else this.G==3&&(c?ol(this,c):this.i.length==0||St(this.h)||ol(this))};function ol(c,y){var _;y?_=y.l:_=c.U++;const A=Fn(c.I);gt(A,"SID",c.K),gt(A,"RID",_),gt(A,"AID",c.T),is(c,A),c.m&&c.o&&Zt(A,c.m,c.o),_=new lt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Ku(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Zi(c.h,_),on(_,A,y)}function is(c,y){c.H&&H(c.H,function(_,A){gt(y,A,_)}),c.l&&el({},function(_,A){gt(y,A,_)})}function Ku(c,y,_){_=Math.min(c.i.length,_);var A=c.l?w(c.l.Na,c.l,c):null;e:{var B=c.i;let X=-1;for(;;){const he=["count="+_];X==-1?0<_?(X=B[0].g,he.push("ofs="+X)):X=0:he.push("ofs="+X);let tt=!0;for(let Ft=0;Ft<_;Ft++){let nt=B[Ft].g;const Jt=B[Ft].map;if(nt-=X,0>nt)X=Math.max(0,B[Ft].g-100),tt=!1;else try{zr(Jt,he,"req"+nt+"_")}catch{A&&A(Jt)}}if(tt){A=he.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function Yu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ue||O(),pe||(ue(),pe=!0),ze.add(y,c),c.v=0}}function ll(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=le(w(c.Fa,c),ul(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Qu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=le(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,F(10),Ws(this),Qu(this))};function as(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Qu(c){c.g=new lt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Fn(c.qa);gt(y,"RID","rpc"),gt(y,"SID",c.K),gt(y,"AID",c.T),gt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&gt(y,"TO",c.ja),gt(y,"TYPE","xmlhttp"),is(c,y),c.m&&c.o&&Zt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Wa(Fn(y)),_.m=null,_.P=!0,Wt(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Ws(this),ll(this),F(19))};function Js(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function $u(c,y){var _=null;if(c.g==y){Js(c),as(c),c.g=null;var A=2}else if(Wi(c.h,y))_=y.D,Dn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;A=kr(),Fe(A,new ie(A,_)),Zs(c)}else Yu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(A==1&&wf(c,y)||A==2&&ll(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),B){case 1:_i(c,5);break;case 4:_i(c,10);break;case 3:_i(c,6);break;default:_i(c,2)}}}function ul(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function _i(c,y){if(c.j.info("Error code "+y),y==2){var _=w(c.fb,c),A=c.Xa;const B=!A;A=new Ut(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Xa(A,"https"),Wa(A),B?Ja(A.toString(),_):Rr(A.toString(),_)}else F(2);c.G=0,c.l&&c.l.sa(y),Xu(c),Gu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),F(2)):(this.j.info("Failed to ping google.com"),F(1))};function Xu(c){if(c.G=0,c.ka=[],c.l){const y=Jo(c.h);(y.length!=0||c.i.length!=0)&&(G(c.ka,y),G(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function Wu(c,y,_){var A=_ instanceof Ut?Fn(_):new Ut(_);if(A.g!="")y&&(A.g=y+"."+A.g),Ji(A,A.s);else{var B=m.location;A=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var X=new Ut(null);A&&Xa(X,A),y&&(X.g=y),B&&Ji(X,B),_&&(X.l=_),A=X}return _=c.D,y=c.ya,_&&y&&gt(A,_,y),gt(A,"VER",c.la),is(c,A),A}function Zu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new ht(new ea({eb:_})):new ht(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ju(){}r=Ju.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function eo(){}eo.prototype.g=function(c,y){return new Nn(c,y)};function Nn(c,y){ot.call(this),this.g=new Xs(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!fe(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!fe(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new qr(this)}U(Nn,ot),Nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){sl(this.g)},Nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Hn(c),c=_);y.i.push(new fi(y.Ya++,c)),y.G==3&&Zs(y)},Nn.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,Nn.aa.N.call(this)};function ec(c){wr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}U(ec,wr);function tc(){Qi.call(this),this.status=1}U(tc,Qi);function qr(c){this.g=c}U(qr,Ju),qr.prototype.ua=function(){Fe(this.g,"a")},qr.prototype.ta=function(c){Fe(this.g,new ec(c))},qr.prototype.sa=function(c){Fe(this.g,new tc)},qr.prototype.ra=function(){Fe(this.g,"b")},eo.prototype.createWebChannel=eo.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,F0=function(){return new eo},q0=function(){return kr()},j0=Rn,Xm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Se.NO_ERROR=0,Se.TIMEOUT=8,Se.HTTP_ERROR=6,gh=Se,He.COMPLETE="complete",H0=He,Qa.EventType=ir,ir.OPEN="a",ir.CLOSE="b",ir.ERROR="c",ir.MESSAGE="d",ot.prototype.listen=ot.prototype.K,au=Qa,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,B0=ht}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});const bE="@firebase/firestore",IE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new Np("@firebase/firestore");function Oo(){return Os.logLevel}function ye(r,...e){if(Os.logLevel<=We.DEBUG){const n=e.map(Vp);Os.debug(`Firestore (${Yo}): ${r}`,...n)}}function Bi(r,...e){if(Os.logLevel<=We.ERROR){const n=e.map(Vp);Os.error(`Firestore (${Yo}): ${r}`,...n)}}function Ho(r,...e){if(Os.logLevel<=We.WARN){const n=e.map(Vp);Os.warn(`Firestore (${Yo}): ${r}`,...n)}}function Vp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,G0(r,a,n)}function G0(r,e,n){let a=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Bi(a),new Error(a)}function ft(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||G0(e,o,a)}function Ue(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends oi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(En.UNAUTHENTICATED))}shutdown(){}}class _D{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vD{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ft(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Li,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Li)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ft(typeof a.accessToken=="string",31837,{l:a}),new K0(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class ED{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TD{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new ED(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ft(this.o===void 0,3512);const a=u=>{u.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ye("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new CE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new CE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=wD(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Ze(r,e){return r<e?-1:r>e?1:0}function Wm(r,e){const n=Math.min(r.length,e.length);for(let a=0;a<n;a++){const o=r.charAt(a),u=e.charAt(a);if(o!==u)return Om(o)===Om(u)?Ze(o,u):Om(o)?1:-1}return Ze(r.length,e.length)}const AD=55296,RD=57343;function Om(r){const e=r.charCodeAt(0);return e>=AD&&e<=RD}function jo(r,e,n){return r.length===e.length&&r.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="__name__";class Xr{constructor(e,n,a){n===void 0?n=0:n>e.length&&Pe(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Pe(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Xr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xr?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=Xr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ze(e.length,n.length)}static compareSegments(e,n){const a=Xr.isNumericId(e),o=Xr.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?Xr.extractNumericId(e).compare(Xr.extractNumericId(n)):Wm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Oa.fromString(e.substring(4,e.length-2))}}class Rt extends Xr{construct(e,n,a){return new Rt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new Re(se.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new Rt(n)}static emptyPath(){return new Rt([])}}const bD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends Xr{construct(e,n,a){return new dn(e,n,a)}static isValidIdentifier(e){return bD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DE}static keyField(){return new dn([DE])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new Re(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Re(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Re(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new Re(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(n)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(Rt.fromString(e))}static fromName(e){return new Ce(Rt.fromString(e).popFirst(5))}static empty(){return new Ce(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new Rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(r,e,n){if(!n)throw new Re(se.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function ID(r,e,n,a){if(e===!0&&a===!0)throw new Re(se.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function NE(r){if(!Ce.isDocumentKey(r))throw new Re(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function OE(r){if(Ce.isDocumentKey(r))throw new Re(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Q0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Lp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Pe(12329,{type:typeof r})}function Ms(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Re(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lp(r);throw new Re(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Mu(r,e){if(!Q0(r))throw new Re(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const f=r[a];if(o&&typeof f!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new Re(se.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=-62135596800,PE=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*PE);return new bt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Re(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Re(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ME)throw new Re(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/PE}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mu(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ME;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:jt("string",bt._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new bt(0,0))}static max(){return new Le(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=-1;function CD(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Le.fromTimestamp(a===1e9?new bt(n+1,0):new bt(n,a));return new xa(o,Ce.empty(),e)}function DD(r){return new xa(r.readTime,r.key,vu)}class xa{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new xa(Le.min(),Ce.empty(),vu)}static max(){return new xa(Le.max(),Ce.empty(),vu)}}function ND(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(r.documentKey,e.documentKey),n!==0?n:Ze(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(r){if(r.code!==se.FAILED_PRECONDITION||r.message!==OD)throw r;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,a)=>{n(e)})}static reject(e){return new ae((n,a)=>{a(e)})}static waitFor(e){return new ae((n,a)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>a(p))}),f=!0,u===o&&n()})}static or(e){let n=ae.resolve(!1);for(const a of e)n=n.next(o=>o?ae.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new ae((a,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(v=>{f[g]=v,++m,m===u&&a(f)},v=>o(v))}})}static doWhile(e,n){return new ae((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function PD(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $o(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp=-1;function ef(r){return r==null}function Oh(r){return r===0&&1/r==-1/0}function VD(r){return typeof r=="number"&&Number.isInteger(r)&&!Oh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="";function xD(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=VE(e)),e=LD(r.get(n),e);return VE(e)}function LD(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case $0:n+="";break;default:n+=u}}return n}function VE(r){return r+$0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function zs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function X0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n){this.comparator=e,this.root=n||fn.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??fn.RED,this.left=o??fn.EMPTY,this.right=u??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new fn(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return fn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new LE(this.data.getIterator())}getIteratorFrom(e){return new LE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class LE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Dr([])}unionWith(e){let n=new Xt(dn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Dr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new W0("Invalid base64 string: "+u):u}}(e);return new mn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const kD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function La(r){if(ft(!!r,39018),typeof r=="string"){let e=0;const n=kD.exec(r);if(ft(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:xt(r.seconds),nanos:xt(r.nanos)}}function xt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ka(r){return typeof r=="string"?mn.fromBase64String(r):mn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="server_timestamp",J0="__type__",eS="__previous_value__",tS="__local_write_time__";function Up(r){return(r?.mapValue?.fields||{})[J0]?.stringValue===Z0}function tf(r){const e=r.mapValue.fields[eS];return Up(e)?tf(e):e}function Eu(r){const e=La(r.mapValue.fields[tS].timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n,a,o,u,f,m,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Mh="(default)";class Tu{constructor(e,n){this.projectId=e,this.database=n||Mh}static empty(){return new Tu("","")}get isDefaultDatabase(){return this.database===Mh}isEqual(e){return e instanceof Tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="__type__",zD="__max__",lh={mapValue:{}},rS="__vector__",Ph="value";function Ua(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Up(r)?4:HD(r)?9007199254740991:BD(r)?10:11:Pe(28295,{value:r})}function ii(r,e){if(r===e)return!0;const n=Ua(r);if(n!==Ua(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Eu(r).isEqual(Eu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=La(o.timestampValue),m=La(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ka(o.bytesValue).isEqual(ka(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return xt(o.geoPointValue.latitude)===xt(u.geoPointValue.latitude)&&xt(o.geoPointValue.longitude)===xt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return xt(o.integerValue)===xt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=xt(o.doubleValue),m=xt(u.doubleValue);return f===m?Oh(f)===Oh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return jo(r.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(xE(f)!==xE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!ii(f[p],m[p])))return!1;return!0}(r,e);default:return Pe(52216,{left:r})}}function Su(r,e){return(r.values||[]).find(n=>ii(n,e))!==void 0}function qo(r,e){if(r===e)return 0;const n=Ua(r),a=Ua(e);if(n!==a)return Ze(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=xt(u.integerValue||u.doubleValue),p=xt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return kE(r.timestampValue,e.timestampValue);case 4:return kE(Eu(r),Eu(e));case 5:return Wm(r.stringValue,e.stringValue);case 6:return function(u,f){const m=ka(u),p=ka(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Ze(m[g],p[g]);if(v!==0)return v}return Ze(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ze(xt(u.latitude),xt(f.latitude));return m!==0?m:Ze(xt(u.longitude),xt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return UE(r.arrayValue,e.arrayValue);case 10:return function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Ph]?.arrayValue,v=p[Ph]?.arrayValue,S=Ze(g?.values?.length||0,v?.values?.length||0);return S!==0?S:UE(g,v)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===lh.mapValue&&f===lh.mapValue)return 0;if(u===lh.mapValue)return 1;if(f===lh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let S=0;S<p.length&&S<v.length;++S){const w=Wm(p[S],v[S]);if(w!==0)return w;const N=qo(m[p[S]],g[v[S]]);if(N!==0)return N}return Ze(p.length,v.length)}(r.mapValue,e.mapValue);default:throw Pe(23264,{he:n})}}function kE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ze(r,e);const n=La(r),a=La(e),o=Ze(n.seconds,a.seconds);return o!==0?o:Ze(n.nanos,a.nanos)}function UE(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=qo(n[o],a[o]);if(u)return u}return Ze(n.length,a.length)}function Fo(r){return Zm(r)}function Zm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const a=La(n);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ka(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Ce.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Zm(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${Zm(n.fields[f])}`;return o+"}"}(r.mapValue):Pe(61005,{value:r})}function yh(r){switch(Ua(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tf(r);return e?16+yh(e):16;case 5:return 2*r.stringValue.length;case 6:return ka(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+yh(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return zs(a.fields,(u,f)=>{o+=u.length+yh(f)}),o}(r.mapValue);default:throw Pe(13486,{value:r})}}function Jm(r){return!!r&&"integerValue"in r}function zp(r){return!!r&&"arrayValue"in r}function zE(r){return!!r&&"nullValue"in r}function BE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function _h(r){return!!r&&"mapValue"in r}function BD(r){return(r?.mapValue?.fields||{})[nS]?.stringValue===rS}function cu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return zs(r.mapValue.fields,(n,a)=>e.mapValue.fields[n]=cu(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cu(r.arrayValue.values[n]);return e}return{...r}}function HD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===zD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.value=e}static empty(){return new _r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!_h(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(n)}setAll(e){let n=dn.emptyPath(),a={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=cu(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());_h(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];_h(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){zs(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new _r(cu(this.value))}}function iS(r){const e=[];return zs(r.fields,(n,a)=>{const o=new dn([n]);if(_h(a)){const u=iS(a.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Dr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n,a,o,u,f,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Tn(e,0,Le.min(),Le.min(),Le.min(),_r.empty(),0)}static newFoundDocument(e,n,a,o){return new Tn(e,1,n,Le.min(),a,o,0)}static newNoDocument(e,n){return new Tn(e,2,n,Le.min(),Le.min(),_r.empty(),0)}static newUnknownDocument(e,n){return new Tn(e,3,n,Le.min(),Le.min(),_r.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.position=e,this.inclusive=n}}function HE(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?a=Ce.comparator(Ce.fromName(f.referenceValue),n.key):a=qo(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function jE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ii(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n="asc"){this.field=e,this.dir=n}}function jD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{}class Qt extends aS{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new FD(e,n,a):n==="array-contains"?new YD(e,a):n==="in"?new QD(e,a):n==="not-in"?new $D(e,a):n==="array-contains-any"?new XD(e,a):new Qt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new GD(e,a):new KD(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qo(n,this.value)):n!==null&&Ua(this.value)===Ua(n)&&this.matchesComparison(qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends aS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ai(e,n)}matches(e){return sS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sS(r){return r.op==="and"}function oS(r){return qD(r)&&sS(r)}function qD(r){for(const e of r.filters)if(e instanceof ai)return!1;return!0}function ep(r){if(r instanceof Qt)return r.field.canonicalString()+r.op.toString()+Fo(r.value);if(oS(r))return r.filters.map(e=>ep(e)).join(",");{const e=r.filters.map(n=>ep(n)).join(",");return`${r.op}(${e})`}}function lS(r,e){return r instanceof Qt?function(a,o){return o instanceof Qt&&a.op===o.op&&a.field.isEqual(o.field)&&ii(a.value,o.value)}(r,e):r instanceof ai?function(a,o){return o instanceof ai&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,f,m)=>u&&lS(f,o.filters[m]),!0):!1}(r,e):void Pe(19439)}function uS(r){return r instanceof Qt?function(n){return`${n.field.canonicalString()} ${n.op} ${Fo(n.value)}`}(r):r instanceof ai?function(n){return n.op.toString()+" {"+n.getFilters().map(uS).join(" ,")+"}"}(r):"Filter"}class FD extends Qt{constructor(e,n,a){super(e,n,a),this.key=Ce.fromName(a.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class GD extends Qt{constructor(e,n){super(e,"in",n),this.keys=cS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class KD extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=cS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cS(r,e){return(e.arrayValue?.values||[]).map(n=>Ce.fromName(n.referenceValue))}class YD extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zp(n)&&Su(n.arrayValue,this.value)}}class QD extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Su(this.value.arrayValue,n)}}class $D extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Su(this.value.arrayValue,n)}}class XD extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>Su(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,n=null,a=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function qE(r,e=null,n=[],a=[],o=null,u=null,f=null){return new WD(r,e,n,a,o,u,f)}function Bp(r){const e=Ue(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>ep(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),ef(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>Fo(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>Fo(a)).join(",")),e.Te=n}return e.Te}function Hp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!jD(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!lS(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!jE(r.startAt,e.startAt)&&jE(r.endAt,e.endAt)}function tp(r){return Ce.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n=null,a=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ZD(r,e,n,a,o,u,f,m){return new nf(r,e,n,a,o,u,f,m)}function jp(r){return new nf(r)}function FE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function JD(r){return r.collectionGroup!==null}function hu(r){const e=Ue(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Xt(dn.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new xh(u,a))}),n.has(dn.keyField().canonicalString())||e.Ie.push(new xh(dn.keyField(),a))}return e.Ie}function Jr(r){const e=Ue(r);return e.Ee||(e.Ee=e2(e,hu(r))),e.Ee}function e2(r,e){if(r.limitType==="F")return qE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new xh(o.field,u)});const n=r.endAt?new Vh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Vh(r.startAt.position,r.startAt.inclusive):null;return qE(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function np(r,e,n){return new nf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function rf(r,e){return Hp(Jr(r),Jr(e))&&r.limitType===e.limitType}function hS(r){return`${Bp(Jr(r))}|lt:${r.limitType}`}function Mo(r){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>uS(o)).join(", ")}]`),ef(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>Fo(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>Fo(o)).join(",")),`Target(${a})`}(Jr(r))}; limitType=${r.limitType})`}function af(r,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Ce.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,e)&&function(a,o){for(const u of hu(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(f,m,p){const g=HE(f,m,p);return f.inclusive?g<=0:g<0}(a.startAt,hu(a),o)||a.endAt&&!function(f,m,p){const g=HE(f,m,p);return f.inclusive?g>=0:g>0}(a.endAt,hu(a),o))}(r,e)}function t2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function fS(r){return(e,n)=>{let a=!1;for(const o of hu(r)){const u=n2(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function n2(r,e,n){const a=r.field.isKeyField()?Ce.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?qo(p,g):Pe(42886)}(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Pe(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){zs(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return X0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=new Nt(Ce.comparator);function Hi(){return r2}const dS=new Nt(Ce.comparator);function su(...r){let e=dS;for(const n of r)e=e.insert(n.key,n);return e}function mS(r){let e=dS;return r.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function As(){return fu()}function pS(){return fu()}function fu(){return new Bs(r=>r.toString(),(r,e)=>r.isEqual(e))}const i2=new Nt(Ce.comparator),a2=new Xt(Ce.comparator);function Je(...r){let e=a2;for(const n of r)e=e.add(n);return e}const s2=new Xt(Ze);function o2(){return s2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function gS(r){return{integerValue:""+r}}function l2(r,e){return VD(e)?gS(e):qp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(){this._=void 0}}function u2(r,e,n){return r instanceof Lh?function(o,u){const f={fields:{[J0]:{stringValue:Z0},[tS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Up(u)&&(u=tf(u)),u&&(f.fields[eS]=u),{mapValue:f}}(n,e):r instanceof wu?_S(r,e):r instanceof Au?vS(r,e):function(o,u){const f=yS(o,u),m=GE(f)+GE(o.Ae);return Jm(f)&&Jm(o.Ae)?gS(m):qp(o.serializer,m)}(r,e)}function c2(r,e,n){return r instanceof wu?_S(r,e):r instanceof Au?vS(r,e):n}function yS(r,e){return r instanceof kh?function(a){return Jm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class Lh extends sf{}class wu extends sf{constructor(e){super(),this.elements=e}}function _S(r,e){const n=ES(e);for(const a of r.elements)n.some(o=>ii(o,a))||n.push(a);return{arrayValue:{values:n}}}class Au extends sf{constructor(e){super(),this.elements=e}}function vS(r,e){let n=ES(e);for(const a of r.elements)n=n.filter(o=>!ii(o,a));return{arrayValue:{values:n}}}class kh extends sf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function GE(r){return xt(r.integerValue||r.doubleValue)}function ES(r){return zp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function h2(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof wu&&o instanceof wu||a instanceof Au&&o instanceof Au?jo(a.elements,o.elements,ii):a instanceof kh&&o instanceof kh?ii(a.Ae,o.Ae):a instanceof Lh&&o instanceof Lh}(r.transform,e.transform)}class f2{constructor(e,n){this.version=e,this.transformResults=n}}class ki{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ki}static exists(e){return new ki(void 0,e)}static updateTime(e){return new ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class of{}function TS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new wS(r.key,ki.none()):new Pu(r.key,r.data,ki.none());{const n=r.data,a=_r.empty();let o=new Xt(dn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new Hs(r.key,a,new Dr(o.toArray()),ki.none())}}function d2(r,e,n){r instanceof Pu?function(o,u,f){const m=o.value.clone(),p=YE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof Hs?function(o,u,f){if(!vh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=YE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(SS(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function du(r,e,n,a){return r instanceof Pu?function(u,f,m,p){if(!vh(u.precondition,f))return m;const g=u.value.clone(),v=QE(u.fieldTransforms,p,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,a):r instanceof Hs?function(u,f,m,p){if(!vh(u.precondition,f))return m;const g=QE(u.fieldTransforms,p,f),v=f.data;return v.setAll(SS(u)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,e,n,a):function(u,f,m){return vh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function m2(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=yS(a.transform,o||null);u!=null&&(n===null&&(n=_r.empty()),n.set(a.field,u))}return n||null}function KE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&jo(a,o,(u,f)=>h2(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Pu extends of{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Hs extends of{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function SS(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}}),e}function YE(r,e,n){const a=new Map;ft(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);a.set(u.field,c2(f,m,n[o]))}return a}function QE(r,e,n){const a=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);a.set(o.field,u2(u,f,e))}return a}class wS extends of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class p2 extends of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&d2(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=du(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=du(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=pS();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=TS(f,m);p!==null&&a.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Le.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Je())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,(n,a)=>KE(n,a))&&jo(this.baseMutations,e.baseMutations,(n,a)=>KE(n,a))}}class Fp{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){ft(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=function(){return i2}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new Fp(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,it;function v2(r){switch(r){case se.OK:return Pe(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Pe(15467,{code:r})}}function AS(r){if(r===void 0)return Bi("GRPC error has no .code"),se.UNKNOWN;switch(r){case Ht.OK:return se.OK;case Ht.CANCELLED:return se.CANCELLED;case Ht.UNKNOWN:return se.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return se.INTERNAL;case Ht.UNAVAILABLE:return se.UNAVAILABLE;case Ht.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Ht.NOT_FOUND:return se.NOT_FOUND;case Ht.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Ht.ABORTED:return se.ABORTED;case Ht.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Ht.DATA_LOSS:return se.DATA_LOSS;default:return Pe(39323,{code:r})}}(it=Ht||(Ht={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=new Oa([4294967295,4294967295],0);function $E(r){const e=E2().encode(r),n=new z0;return n.update(e),new Uint8Array(n.digest())}function XE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Oa([n,a],0),new Oa([o,u],0)]}class Gp{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new ou(`Invalid padding: ${n}`);if(a<0)throw new ou(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new ou(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new ou(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Oa.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(Oa.fromNumber(a)));return o.compare(T2)===1&&(o=new Oa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=$E(e),[a,o]=XE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);if(!this.we(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Gp(u,o,n);return a.forEach(m=>f.insert(m)),f}insert(e){if(this.ge===0)return;const n=$E(e),[a,o]=XE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new lf(Le.min(),o,new Nt(Ze),Hi(),Je())}}class Vu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Vu(a,n,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n,a,o){this.be=e,this.removedTargetIds=n,this.key=a,this.De=o}}class RS{constructor(e,n){this.targetId=e,this.Ce=n}}class bS{constructor(e,n,a=mn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class WE{constructor(){this.ve=0,this.Fe=ZE(),this.Me=mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),n=Je(),a=Je();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Pe(38017,{changeType:u})}}),new Vu(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=ZE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class S2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hi(),this.Je=uh(),this.He=uh(),this.Ye=new Nt(Ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Pe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((a,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(tp(u))if(a===0){const f=new Ce(u.path);this.et(n,f,Tn.newNoDocument(f,Le.min()))}else ft(a===1,20013,{expectedCount:a});else{const f=this._t(n);if(f!==a){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ka(a).toUint8Array()}catch(p){if(p instanceof W0)return Ho("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Gp(f,o,u)}catch(p){return Ho(p instanceof ou?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,f)=>{const m=this.ot(f);if(m){if(u.current&&tp(m.target)){const p=new Ce(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Tn.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}});let a=Je();this.He.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.je.forEach((u,f)=>f.setReadTime(e));const o=new lf(e,n,this.Ye,this.je,a);return this.je=Hi(),this.Je=uh(),this.He=uh(),this.Ye=new Nt(Ze),o}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new WE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Xt(Ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Xt(Ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new WE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function uh(){return new Nt(Ce.comparator)}function ZE(){return new Nt(Ce.comparator)}const w2={asc:"ASCENDING",desc:"DESCENDING"},A2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},R2={and:"AND",or:"OR"};class b2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rp(r,e){return r.useProto3Json||ef(e)?e:{value:e}}function Uh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function I2(r,e){return Uh(r,e.toTimestamp())}function ei(r){return ft(!!r,49232),Le.fromTimestamp(function(n){const a=La(n);return new bt(a.seconds,a.nanos)}(r))}function Kp(r,e){return ip(r,e).canonicalString()}function ip(r,e){const n=function(o){return new Rt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function CS(r){const e=Rt.fromString(r);return ft(PS(e),10190,{key:e.toString()}),e}function ap(r,e){return Kp(r.databaseId,e.path)}function Mm(r,e){const n=CS(e);if(n.get(1)!==r.databaseId.projectId)throw new Re(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Re(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ce(NS(n))}function DS(r,e){return Kp(r.databaseId,e)}function C2(r){const e=CS(r);return e.length===4?Rt.emptyPath():NS(e)}function sp(r){return new Rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function NS(r){return ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function JE(r,e,n){return{name:ap(r,e),fields:n.value.mapValue.fields}}function D2(r,e){let n;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Pe(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(ft(v===void 0||typeof v=="string",58123),mn.fromBase64String(v||"")):(ft(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),mn.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const v=g.code===void 0?se.UNKNOWN:AS(g.code);return new Re(v,g.message||"")}(f);n=new bS(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Mm(r,a.document.name),u=ei(a.document.updateTime),f=a.document.createTime?ei(a.document.createTime):Le.min(),m=new _r({mapValue:{fields:a.document.fields}}),p=Tn.newFoundDocument(o,u,f,m),g=a.targetIds||[],v=a.removedTargetIds||[];n=new Eh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Mm(r,a.document),u=a.readTime?ei(a.readTime):Le.min(),f=Tn.newNoDocument(o,u),m=a.removedTargetIds||[];n=new Eh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Mm(r,a.document),u=a.removedTargetIds||[];n=new Eh([],u,o,null)}else{if(!("filter"in e))return Pe(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new _2(o,u),m=a.targetId;n=new RS(m,f)}}return n}function N2(r,e){let n;if(e instanceof Pu)n={update:JE(r,e.key,e.value)};else if(e instanceof wS)n={delete:ap(r,e.key)};else if(e instanceof Hs)n={update:JE(r,e.key,e.data),updateMask:z2(e.fieldMask)};else{if(!(e instanceof p2))return Pe(16599,{Vt:e.type});n={verify:ap(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,f){const m=f.transform;if(m instanceof Lh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof wu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Au)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof kh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Pe(20930,{transform:f.transform})}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:I2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Pe(27497)}(r,e.precondition)),n}function O2(r,e){return r&&r.length>0?(ft(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?ei(o.updateTime):ei(u);return f.isEqual(Le.min())&&(f=ei(u)),new f2(f,o.transformResults||[])}(n,e))):[]}function M2(r,e){return{documents:[DS(r,e.path)]}}function P2(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=DS(r,o);const u=function(g){if(g.length!==0)return MS(ai.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(v=>function(w){return{field:Po(w.field),direction:L2(w.dir)}}(v))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=rp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:n,parent:o}}function V2(r){let e=C2(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){ft(a===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=function(S){const w=OS(S);return w instanceof ai&&oS(w)?w.getFilters():[w]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(w=>function(U){return new xh(Vo(U.field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(w))}(n.orderBy));let m=null;n.limit&&(m=function(S){let w;return w=typeof S=="object"?S.value:S,ef(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(S){const w=!!S.before,N=S.values||[];return new Vh(N,w)}(n.startAt));let g=null;return n.endAt&&(g=function(S){const w=!S.before,N=S.values||[];return new Vh(N,w)}(n.endAt)),ZD(e,o,f,u,m,"F",p,g)}function x2(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OS(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Vo(n.unaryFilter.field);return Qt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Vo(n.unaryFilter.field);return Qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Vo(n.unaryFilter.field);return Qt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Vo(n.unaryFilter.field);return Qt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}}(r):r.fieldFilter!==void 0?function(n){return Qt.create(Vo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return ai.create(n.compositeFilter.filters.map(a=>OS(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}}(n.compositeFilter.op))}(r):Pe(30097,{filter:r})}function L2(r){return w2[r]}function k2(r){return A2[r]}function U2(r){return R2[r]}function Po(r){return{fieldPath:r.canonicalString()}}function Vo(r){return dn.fromServerFormat(r.fieldPath)}function MS(r){return r instanceof Qt?function(n){if(n.op==="=="){if(BE(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NAN"}};if(zE(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(BE(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NAN"}};if(zE(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(n.field),op:k2(n.op),value:n.value}}}(r):r instanceof ai?function(n){const a=n.getFilters().map(o=>MS(o));return a.length===1?a[0]:{compositeFilter:{op:U2(n.op),filters:a}}}(r):Pe(54877,{filter:r})}function z2(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n,a,o,u=Le.min(),f=Le.min(),m=mn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.yt=e}}function H2(r){const e=V2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?np(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.Cn=new q2}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(xa.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(xa.min())}updateCollectionGroup(e,n,a){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class q2{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Xt(Rt.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Xt(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VS=41943040;class Un{static withCacheSize(e){return new Un(e,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(VS,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Go(0)}static cr(){return new Go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="LruGarbageCollector",F2=1048576;function nT([r,e],[n,a]){const o=Ze(r,n);return o===0?Ze(e,a):o}class G2{constructor(e){this.Ir=e,this.buffer=new Xt(nT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();nT(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class K2{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(tT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$o(n)?ye(tT,"Ignoring IndexedDB error during garbage collection: ",n):await Qo(n)}await this.Vr(3e5)})}}class Y2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(Jh.ce);const a=new G2(n);return this.mr.forEachTarget(e,o=>a.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>a.Ar(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(eT)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,o,u,f,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(a=S,m=Date.now(),this.removeTargets(e,a,n))).next(S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(S=>(g=Date.now(),Oo()<=We.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function Q2(r,e){return new Y2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.changes=new Bs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ae.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&du(a.mutation,o,Dr.empty(),bt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Je()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Je()){const o=As();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let f=su();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const a=As();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Je()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,a,o){let u=Hi();const f=fu(),m=function(){return fu()}();return n.forEach((p,g)=>{const v=a.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Hs)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),du(v.mutation,g,v.mutation.getFieldMask(),bt.now())):f.set(g.key,Dr.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,v)=>f.set(g,v)),n.forEach((g,v)=>m.set(g,new X2(v,f.get(g)??null))),m))}recalculateAndSaveOverlays(e,n){const a=fu();let o=new Nt((f,m)=>f-m),u=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let v=a.get(p)||Dr.empty();v=m.applyToLocalView(g,v),a.set(p,v);const S=(o.get(m.batchId)||Je()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,S=pS();v.forEach(w=>{if(!u.has(w)){const N=TS(n.get(w),a.get(w));N!==null&&S.set(w,N),u=u.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,S))}return ae.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(f){return Ce.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):JD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):ae.resolve(As());let m=vu,p=u;return f.next(g=>ae.forEach(g,(v,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(v)?ae.resolve():this.remoteDocumentCache.getEntry(e,v).next(w=>{p=p.insert(v,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Je())).next(v=>({batchId:m,changes:mS(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next(a=>{let o=su();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let f=su();return this.indexManager.getCollectionParents(e,u).next(m=>ae.forEach(m,p=>{const g=function(S,w){return new nf(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next(v=>{v.forEach((S,w)=>{f=f.insert(S,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(f=>{u.forEach((p,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,Tn.newInvalidDocument(v)))});let m=su();return f.forEach((p,g)=>{const v=u.get(p);v!==void 0&&du(v.mutation,g,Dr.empty(),bt.now()),af(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:ei(o.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:H2(o.bundledQuery),readTime:ei(o.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.overlays=new Nt(Ce.comparator),this.qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const a=As();return ae.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.St(e,n,u)}),ae.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(a)),ae.resolve()}getOverlaysForCollection(e,n,a){const o=As(),u=n.length+1,f=new Ce(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new Nt((g,v)=>g-v);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let v=u.get(g.largestBatchId);v===null&&(v=As(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=As(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>m.set(g,v)),!(m.size()>=o)););return ae.resolve(m)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new y2(n,a));let u=this.qr.get(n);u===void 0&&(u=Je(),this.qr.set(n,u)),this.qr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(){this.Qr=new Xt(rn.$r),this.Ur=new Xt(rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new rn(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.Gr(new rn(e,n))}zr(e,n){e.forEach(a=>this.removeReference(a,n))}jr(e){const n=new Ce(new Rt([])),a=new rn(n,e),o=new rn(n,e+1),u=[];return this.Ur.forEachInRange([a,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ce(new Rt([])),a=new rn(n,e),o=new rn(n,e+1);let u=Je();return this.Ur.forEachInRange([a,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new rn(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class rn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ce.comparator(e.key,n.key)||Ze(e.Yr,n.Yr)}static Kr(e,n){return Ze(e.Yr,n.Yr)||Ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Xt(rn.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new g2(u,n,a,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new rn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ae.resolve(f)}lookupMutationBatch(e,n){return ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ei(a),u=o<0?0:o;return ae.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?kp:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new rn(n,0),o=new rn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Xt(Ze);return n.forEach(o=>{const u=new rn(o,0),f=new rn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{a=a.add(m.Yr)})}),ae.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;Ce.isDocumentKey(u)||(u=u.child(""));const f=new rn(new Ce(u),0);let m=new Xt(Ze);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)},f),ae.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(a=>{const o=this.Xr(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){ft(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ae.forEach(n.mutations,o=>{const u=new rn(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=a})}ir(e){}containsKey(e,n){const a=new rn(n,0),o=this.Zr.firstAfterOrEqual(a);return ae.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.ri=e,this.docs=function(){return new Nt(Ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ae.resolve(a?a.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(e,n){let a=Hi();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Tn.newInvalidDocument(o))}),ae.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=Hi();const f=n.path,m=new Ce(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||ND(DD(v),a)<=0||(o.has(v.key)||af(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ae.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Pe(9500)}ii(e,n){return ae.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new rN(this)}getSize(e){return ae.resolve(this.size)}}class rN extends $2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)}),ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.persistence=e,this.si=new Bs(n=>Bp(n),Hp),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.oi=0,this._i=new Yp,this.targetCount=0,this.ai=Go.ur()}forEachTarget(e,n){return this.si.forEach((a,o)=>n(o)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Go(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Pr(n),ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ae.waitFor(u).next(()=>o)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return ae.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),ae.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ae.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return ae.resolve(a)}containsKey(e,n){return ae.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Jh(0),this.li=!1,this.li=!0,this.hi=new eN,this.referenceDelegate=e(this),this.Pi=new iN(this),this.indexManager=new j2,this.remoteDocumentCache=function(o){return new nN(o)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new B2(n),this.Ii=new Z2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new J2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new tN(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){ye("MemoryPersistence","Starting transaction:",e);const o=new aN(this.ci.next());return this.referenceDelegate.Ei(),a(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return ae.or(Object.values(this.ui).map(a=>()=>a.containsKey(e,n)))}}class aN extends MD{constructor(e){super(),this.currentSequenceNumber=e}}class Qp{constructor(e){this.persistence=e,this.Ri=new Yp,this.Vi=null}static mi(e){return new Qp(e)}get fi(){if(this.Vi)return this.Vi;throw Pe(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),ae.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,a=>{const o=Ce.fromPath(a);return this.gi(e,o).next(u=>{u||n.removeEntry(o,Le.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class zh{constructor(e,n){this.persistence=e,this.pi=new Bs(a=>xD(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=Q2(this,n)}static mi(e,n){return new zh(e,n)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}wr(e){let n=0;return this.pr(e,a=>{n++}).next(()=>n)}pr(e,n){return ae.forEach(this.pi,(a,o)=>this.br(e,a,o).next(u=>u?ae.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(m=>{m||(a++,u.removeEntry(f,Le.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yh(e.data.value)),n}br(e,n,a){return ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ae.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=o}static As(e,n){let a=Je(),o=Je();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new $p(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return eI()?8:PD(Sn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ys(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(e,n,o,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new sN;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)})}).next(()=>u.result)}bs(e,n,a,o){return a.documentReadCount<this.fs?(Oo()<=We.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(Oo()<=We.DEBUG&&ye("QueryEngine","Query:",Mo(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Oo()<=We.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jr(n))):ae.resolve())}ys(e,n){if(FE(n))return ae.resolve(null);let a=Jr(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=np(n,null,"F"),a=Jr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const f=Je(...u);return this.ps.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,a).next(p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,np(n,null,"F")):this.vs(e,g,n,p)}))})))}ws(e,n,a,o){return FE(n)||o.isEqual(Le.min())?ae.resolve(null):this.ps.getDocuments(e,a).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,a,o)?ae.resolve(null):(Oo()<=We.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Mo(n)),this.vs(e,f,n,CD(o,vu)).next(m=>m))})}Ds(e,n){let a=new Xt(fS(e));return n.forEach((o,u)=>{af(e,u)&&(a=a.add(u))}),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,a){return Oo()<=We.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Mo(n)),this.ps.getDocumentsMatchingQuery(e,n,xa.min(),a)}vs(e,n,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="LocalStore",lN=3e8;class uN{constructor(e,n,a,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Nt(Ze),this.xs=new Bs(u=>Bp(u),Hp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new W2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function cN(r,e,n,a){return new uN(r,e,n,a)}async function LS(r,e){const n=Ue(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],m=[];let p=Je();for(const g of o){f.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(a,p).next(g=>({Ls:g,removedBatchIds:f,addedBatchIds:m}))})})}function hN(r,e){const n=Ue(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,g,v){const S=g.batch,w=S.keys();let N=ae.resolve();return w.forEach(U=>{N=N.next(()=>v.getEntry(p,U)).next($=>{const G=g.docVersions.get(U);ft(G!==null,48541),$.version.compareTo(G)<0&&(S.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),v.addEntry($)))})}),N.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=Je();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function kS(r){const e=Ue(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function fN(r,e){const n=Ue(r),a=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((v,S)=>{const w=o.get(S);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,S).next(()=>n.Pi.addMatchingKeys(u,v.addedDocuments,S)));let N=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?N=N.withResumeToken(mn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,a)),o=o.insert(S,N),function($,G,W){return $.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=lN?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(w,N,v)&&m.push(n.Pi.updateTargetData(u,N))});let p=Hi(),g=Je();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),m.push(dN(u,f,e.documentUpdates).next(v=>{p=v.ks,g=v.qs})),!a.isEqual(Le.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next(S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(v)}return ae.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ms=o,u))}function dN(r,e,n){let a=Je(),o=Je();return n.forEach(u=>a=a.add(u)),e.getEntries(r,a).next(u=>{let f=Hi();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Le.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ye(Xp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{ks:f,qs:o}})}function mN(r,e){const n=Ue(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=kp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function pN(r,e){const n=Ue(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Pi.getTargetData(a,e).next(u=>u?(o=u,ae.resolve(o)):n.Pi.allocateTargetId(a).next(f=>(o=new Ca(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a})}async function op(r,e,n){const a=Ue(r),o=a.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!$o(f))throw f;ye(Xp,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function rT(r,e,n){const a=Ue(r);let o=Le.min(),u=Je();return a.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,v){const S=Ue(p),w=S.xs.get(v);return w!==void 0?ae.resolve(S.Ms.get(w)):S.Pi.getTargetData(g,v)}(a,f,Jr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>a.Fs.getDocumentsMatchingQuery(f,e,n?o:Le.min(),n?u:Je())).next(m=>(gN(a,t2(e),m),{documents:m,Qs:u})))}function gN(r,e,n){let a=r.Os.get(e)||Le.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.Os.set(e,a)}class iT{constructor(){this.activeTargetIds=o2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yN{constructor(){this.Mo=new iT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iT,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="ConnectivityMonitor";class sT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(aT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(aT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch=null;function lp(){return ch===null?ch=function(){return 268435456+Math.round(2147483648*Math.random())}():ch++,"0x"+ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="RestConnection",vN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Mh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,n,a,o,u){const f=lp(),m=this.zo(e,n.toUriEncodedString());ye(Pm,`Sending RPC '${e}' ${f}:`,m,a);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=ja(g);return this.Jo(e,m,p,a,v).then(S=>(ye(Pm,`Received RPC '${e}' ${f}: `,S),S),S=>{throw Ho(Pm,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",a),S})}Ho(e,n,a,o,u,f){return this.Go(e,n,a,o,u)}jo(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const a=vN[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class SN extends EN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,u){const f=lp();return new Promise((m,p)=>{const g=new B0;g.setWithCredentials(!0),g.listenOnce(H0.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case gh.NO_ERROR:const S=g.getResponseJson();ye(vn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case gh.TIMEOUT:ye(vn,`RPC '${e}' ${f} timed out`),p(new Re(se.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const w=g.getStatus();if(ye(vn,`RPC '${e}' ${f} failed with status:`,w,"response text:",g.getResponseText()),w>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const U=N?.error;if(U&&U.status&&U.message){const $=function(W){const fe=W.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(fe)>=0?fe:se.UNKNOWN}(U.status);p(new Re($,U.message))}else p(new Re(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Re(se.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ye(vn,`RPC '${e}' ${f} completed.`)}});const v=JSON.stringify(o);ye(vn,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",v,a,15)})}T_(e,n,a){const o=lp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=F0(),m=q0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const v=u.join("");ye(vn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const S=f.createWebChannel(v,p);this.I_(S);let w=!1,N=!1;const U=new TN({Yo:G=>{N?ye(vn,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(w||(ye(vn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),w=!0),ye(vn,`RPC '${e}' stream ${o} sending:`,G),S.send(G))},Zo:()=>S.close()}),$=(G,W,fe)=>{G.listen(W,ne=>{try{fe(ne)}catch(me){setTimeout(()=>{throw me},0)}})};return $(S,au.EventType.OPEN,()=>{N||(ye(vn,`RPC '${e}' stream ${o} transport opened.`),U.o_())}),$(S,au.EventType.CLOSE,()=>{N||(N=!0,ye(vn,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(S))}),$(S,au.EventType.ERROR,G=>{N||(N=!0,Ho(vn,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),U.a_(new Re(se.UNAVAILABLE,"The operation could not be completed")))}),$(S,au.EventType.MESSAGE,G=>{if(!N){const W=G.data[0];ft(!!W,16349);const fe=W,ne=fe?.error||fe[0]?.error;if(ne){ye(vn,`RPC '${e}' stream ${o} received error:`,ne);const me=ne.status;let de=function(R){const b=Ht[R];if(b!==void 0)return AS(b)}(me),H=ne.message;de===void 0&&(de=se.INTERNAL,H="Unknown error status: "+me+" with message "+ne.message),N=!0,U.a_(new Re(de,H)),S.close()}else ye(vn,`RPC '${e}' stream ${o} received:`,W),U.u_(W)}}),$(m,j0.STAT_EVENT,G=>{G.stat===Xm.PROXY?ye(vn,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===Xm.NOPROXY&&ye(vn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.__()},0),U}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(r){return new b2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="PersistentStream";class zS{constructor(e,n,a,o,u,f,m,p){this.Mi=e,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new US(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Bi(n.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.D_===n&&this.G_(a,o)},a=>{e(()=>{const o=new Re(se.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)})})}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{a(()=>this.z_(o))}),this.stream.onMessage(o=>{a(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ye(oT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ye(oT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wN extends zS{constructor(e,n,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=D2(this.serializer,e),a=function(u){if(!("targetChange"in u))return Le.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Le.min():f.readTime?ei(f.readTime):Le.min()}(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=sp(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=tp(p)?{documents:M2(u,p)}:{query:P2(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=IS(u,f.resumeToken);const g=rp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Le.min())>0){m.readTime=Uh(u,f.snapshotVersion.toTimestamp());const g=rp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const a=x2(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=sp(this.serializer),n.removeTarget=e,this.q_(n)}}class AN extends zS{constructor(e,n,a,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=O2(e.writeResults,e.commitTime),a=ei(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=sp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>N2(this.serializer,a))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{}class bN extends RN{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Re(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(e,ip(n,a),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Re(se.UNKNOWN,u.toString())})}Ho(e,n,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(e,ip(n,a),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Re(se.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class IN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Bi(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="RemoteStore";class CN{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{a.enqueueAndForget(async()=>{js(this)&&(ye(Ps,"Restarting streams for network reachability change."),await async function(p){const g=Ue(p);g.Ea.add(4),await xu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await cf(g)}(this))})}),this.Ra=new IN(a,o)}}async function cf(r){if(js(r))for(const e of r.da)await e(!0)}async function xu(r){for(const e of r.da)await e(!1)}function BS(r,e){const n=Ue(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),eg(n)?Jp(n):Xo(n).O_()&&Zp(n,e))}function Wp(r,e){const n=Ue(r),a=Xo(n);n.Ia.delete(e),a.O_()&&HS(n,e),n.Ia.size===0&&(a.O_()?a.L_():js(n)&&n.Ra.set("Unknown"))}function Zp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xo(r).Y_(e)}function HS(r,e){r.Va.Ue(e),Xo(r).Z_(e)}function Jp(r){r.Va=new S2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Xo(r).start(),r.Ra.ua()}function eg(r){return js(r)&&!Xo(r).x_()&&r.Ia.size>0}function js(r){return Ue(r).Ea.size===0}function jS(r){r.Va=void 0}async function DN(r){r.Ra.set("Online")}async function NN(r){r.Ia.forEach((e,n)=>{Zp(r,e)})}async function ON(r,e){jS(r),eg(r)?(r.Ra.ha(e),Jp(r)):r.Ra.set("Unknown")}async function MN(r,e,n){if(r.Ra.set("Online"),e instanceof bS&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(r,e)}catch(a){ye(Ps,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Bh(r,a)}else if(e instanceof Eh?r.Va.Ze(e):e instanceof RS?r.Va.st(e):r.Va.tt(e),!n.isEqual(Le.min()))try{const a=await kS(r.localStore);n.compareTo(a)>=0&&await function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(mn.EMPTY_BYTE_STRING,v.snapshotVersion)),HS(u,p);const S=new Ca(v.target,p,g,v.sequenceNumber);Zp(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(a){ye(Ps,"Failed to raise snapshot:",a),await Bh(r,a)}}async function Bh(r,e,n){if(!$o(e))throw e;r.Ea.add(1),await xu(r),r.Ra.set("Offline"),n||(n=()=>kS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ye(Ps,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await cf(r)})}function qS(r,e){return e().catch(n=>Bh(r,n,e))}async function hf(r){const e=Ue(r),n=za(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:kp;for(;PN(e);)try{const o=await mN(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,VN(e,o)}catch(o){await Bh(e,o)}FS(e)&&GS(e)}function PN(r){return js(r)&&r.Ta.length<10}function VN(r,e){r.Ta.push(e);const n=za(r);n.O_()&&n.X_&&n.ea(e.mutations)}function FS(r){return js(r)&&!za(r).x_()&&r.Ta.length>0}function GS(r){za(r).start()}async function xN(r){za(r).ra()}async function LN(r){const e=za(r);for(const n of r.Ta)e.ea(n.mutations)}async function kN(r,e,n){const a=r.Ta.shift(),o=Fp.from(a,e,n);await qS(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await hf(r)}async function UN(r,e){e&&za(r).X_&&await async function(a,o){if(function(f){return v2(f)&&f!==se.ABORTED}(o.code)){const u=a.Ta.shift();za(a).B_(),await qS(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await hf(a)}}(r,e),FS(r)&&GS(r)}async function lT(r,e){const n=Ue(r);n.asyncQueue.verifyOperationInProgress(),ye(Ps,"RemoteStore received new credentials");const a=js(n);n.Ea.add(3),await xu(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await cf(n)}async function zN(r,e){const n=Ue(r);e?(n.Ea.delete(2),await cf(n)):e||(n.Ea.add(2),await xu(n),n.Ra.set("Unknown"))}function Xo(r){return r.ma||(r.ma=function(n,a,o){const u=Ue(n);return u.sa(),new wN(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:DN.bind(null,r),t_:NN.bind(null,r),r_:ON.bind(null,r),H_:MN.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),eg(r)?Jp(r):r.Ra.set("Unknown")):(await r.ma.stop(),jS(r))})),r.ma}function za(r){return r.fa||(r.fa=function(n,a,o){const u=Ue(n);return u.sa(),new AN(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:xN.bind(null,r),r_:UN.bind(null,r),ta:LN.bind(null,r),na:kN.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await hf(r)):(await r.fa.stop(),r.Ta.length>0&&(ye(Ps,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const f=Date.now()+a,m=new tg(e,n,f,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(r,e){if(Bi("AsyncQueue",`${e}: ${r}`),$o(r))return new Re(se.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{static emptySet(e){return new Lo(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Ce.comparator(n.key,a.key):(n,a)=>Ce.comparator(n.key,a.key),this.keyedMap=su(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Lo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.ga=new Nt(Ce.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Pe(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,a)=>{e.push(a)}),e}}class Ko{constructor(e,n,a,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Ko(e,n,Lo.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class HN{constructor(){this.queries=cT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=Ue(n),u=o.queries;o.queries=cT(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(a)})})(this,new Re(se.ABORTED,"Firestore shutting down"))}}function cT(){return new Bs(r=>hS(r),rf)}async function KS(r,e){const n=Ue(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(a=2):(u=new BN,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=ng(f,`Initialization of query '${Mo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&rg(n)}async function YS(r,e){const n=Ue(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function jN(r,e){const n=Ue(r);let a=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(a=!0);f.wa=o}}a&&rg(n)}function qN(r,e,n){const a=Ue(r),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);a.queries.delete(e)}function rg(r){r.Ca.forEach(e=>{e.next()})}var up,hT;(hT=up||(up={})).Ma="default",hT.Cache="cache";class QS{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Ko(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==up.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.key=e}}class XS{constructor(e){this.key=e}}class FN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Je(),this.mutatedKeys=Je(),this.eu=fS(e),this.tu=new Lo(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new uT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,S)=>{const w=o.get(v),N=af(this.query,S)?S:null,U=!!w&&this.mutatedKeys.has(w.key),$=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let G=!1;w&&N?w.data.isEqual(N.data)?U!==$&&(a.track({type:3,doc:N}),G=!0):this.su(w,N)||(a.track({type:2,doc:N}),G=!0,(p&&this.eu(N,p)>0||g&&this.eu(N,g)<0)&&(m=!0)):!w&&N?(a.track({type:0,doc:N}),G=!0):w&&!N&&(a.track({type:1,doc:w}),G=!0,(p||g)&&(m=!0)),G&&(N?(f=f.add(N),u=$?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),a.track({type:1,doc:v})}return{tu:f,iu:a,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((v,S)=>function(N,U){const $=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Rt:G})}};return $(N)-$(U)}(v.type,S.type)||this.eu(v.doc,S.doc)),this.ou(a),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new Ko(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Je(),this.tu.forEach(a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))});const n=[];return e.forEach(a=>{this.Xa.has(a)||n.push(new XS(a))}),this.Xa.forEach(a=>{e.has(a)||n.push(new $S(a))}),n}cu(e){this.Ya=e.Qs,this.Xa=Je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ko.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ig="SyncEngine";class GN{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class KN{constructor(e){this.key=e,this.hu=!1}}class YN{constructor(e,n,a,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Bs(m=>hS(m),rf),this.Iu=new Map,this.Eu=new Set,this.du=new Nt(Ce.comparator),this.Au=new Map,this.Ru=new Yp,this.Vu={},this.mu=new Map,this.fu=Go.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QN(r,e,n=!0){const a=nw(r);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await WS(a,e,n,!0),o}async function $N(r,e){const n=nw(r);await WS(n,e,!0,!1)}async function WS(r,e,n,a){const o=await pN(r.localStore,Jr(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await XN(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&BS(r.remoteStore,o),m}async function XN(r,e,n,a,o){r.pu=(S,w,N)=>async function($,G,W,fe){let ne=G.view.ru(W);ne.Cs&&(ne=await rT($.localStore,G.query,!1).then(({documents:M})=>G.view.ru(M,ne)));const me=fe&&fe.targetChanges.get(G.targetId),de=fe&&fe.targetMismatches.get(G.targetId)!=null,H=G.view.applyChanges(ne,$.isPrimaryClient,me,de);return dT($,G.targetId,H.au),H.snapshot}(r,S,w,N);const u=await rT(r.localStore,e,!0),f=new FN(e,u.Qs),m=f.ru(u.documents),p=Vu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);dT(r,n,g.au);const v=new GN(e,n,f);return r.Tu.set(e,v),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function WN(r,e,n){const a=Ue(r),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter(f=>!rf(f,e))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await op(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Wp(a.remoteStore,o.targetId),cp(a,o.targetId)}).catch(Qo)):(cp(a,o.targetId),await op(a.localStore,o.targetId,!0))}async function ZN(r,e){const n=Ue(r),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Wp(n.remoteStore,a.targetId))}async function JN(r,e,n){const a=sO(r);try{const o=await function(f,m){const p=Ue(f),g=bt.now(),v=m.reduce((N,U)=>N.add(U.key),Je());let S,w;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let U=Hi(),$=Je();return p.Ns.getEntries(N,v).next(G=>{U=G,U.forEach((W,fe)=>{fe.isValidDocument()||($=$.add(W))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,U)).next(G=>{S=G;const W=[];for(const fe of m){const ne=m2(fe,S.get(fe.key).overlayedDocument);ne!=null&&W.push(new Hs(fe.key,ne,iS(ne.value.mapValue),ki.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,W,m)}).next(G=>{w=G;const W=G.applyToLocalDocumentSet(S,$);return p.documentOverlayCache.saveOverlays(N,G.batchId,W)})}).then(()=>({batchId:w.batchId,changes:mS(S)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new Nt(Ze)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g}(a,o.batchId,n),await Lu(a,o.changes),await hf(a.remoteStore)}catch(o){const u=ng(o,"Failed to persist write");n.reject(u)}}async function ZS(r,e){const n=Ue(r);try{const a=await fN(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?ft(f.hu,14607):o.removedDocuments.size>0&&(ft(f.hu,42227),f.hu=!1))}),await Lu(n,a,e)}catch(a){await Qo(a)}}function fT(r,e,n){const a=Ue(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ue(f);p.onlineState=m;let g=!1;p.queries.forEach((v,S)=>{for(const w of S.Sa)w.va(m)&&(g=!0)}),g&&rg(p)}(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function eO(r,e,n){const a=Ue(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),u=o&&o.key;if(u){let f=new Nt(Ce.comparator);f=f.insert(u,Tn.newNoDocument(u,Le.min()));const m=Je().add(u),p=new lf(Le.min(),new Map,new Nt(Ze),f,m);await ZS(a,p),a.du=a.du.remove(u),a.Au.delete(e),ag(a)}else await op(a.localStore,e,!1).then(()=>cp(a,e,n)).catch(Qo)}async function tO(r,e){const n=Ue(r),a=e.batch.batchId;try{const o=await hN(n.localStore,e);ew(n,a,null),JS(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Lu(n,o)}catch(o){await Qo(o)}}async function nO(r,e,n){const a=Ue(r);try{const o=await function(f,m){const p=Ue(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next(S=>(ft(S!==null,37113),v=S.keys(),p.mutationQueue.removeMutationBatch(g,S))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(a.localStore,e);ew(a,e,n),JS(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Lu(a,o)}catch(o){await Qo(o)}}function JS(r,e){(r.mu.get(e)||[]).forEach(n=>{n.resolve()}),r.mu.delete(e)}function ew(r,e,n){const a=Ue(r);let o=a.Vu[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function cp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(a=>{r.Ru.containsKey(a)||tw(r,a)})}function tw(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Wp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),ag(r))}function dT(r,e,n){for(const a of n)a instanceof $S?(r.Ru.addReference(a.key,e),rO(r,a)):a instanceof XS?(ye(ig,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||tw(r,a.key)):Pe(19791,{wu:a})}function rO(r,e){const n=e.key,a=n.path.canonicalString();r.du.get(n)||r.Eu.has(a)||(ye(ig,"New document in limbo: "+n),r.Eu.add(a),ag(r))}function ag(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new Ce(Rt.fromString(e)),a=r.fu.next();r.Au.set(a,new KN(n)),r.du=r.du.insert(n,a),BS(r.remoteStore,new Ca(Jr(jp(n.path)),a,"TargetPurposeLimboResolution",Jh.ce))}}async function Lu(r,e,n){const a=Ue(r),o=[],u=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach((m,p)=>{f.push(a.pu(p,e,n).then(g=>{if((g||n)&&a.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=$p.As(p.targetId,g);u.push(v)}}))}),await Promise.all(f),a.Pu.H_(o),await async function(p,g){const v=Ue(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ae.forEach(g,w=>ae.forEach(w.Es,N=>v.persistence.referenceDelegate.addReference(S,w.targetId,N)).next(()=>ae.forEach(w.ds,N=>v.persistence.referenceDelegate.removeReference(S,w.targetId,N)))))}catch(S){if(!$o(S))throw S;ye(Xp,"Failed to update sequence numbers: "+S)}for(const S of g){const w=S.targetId;if(!S.fromCache){const N=v.Ms.get(w),U=N.snapshotVersion,$=N.withLastLimboFreeSnapshotVersion(U);v.Ms=v.Ms.insert(w,$)}}}(a.localStore,u))}async function iO(r,e){const n=Ue(r);if(!n.currentUser.isEqual(e)){ye(ig,"User change. New user:",e.toKey());const a=await LS(n.localStore,e);n.currentUser=e,function(u,f){u.mu.forEach(m=>{m.forEach(p=>{p.reject(new Re(se.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Lu(n,a.Ls)}}function aO(r,e){const n=Ue(r),a=n.Au.get(e);if(a&&a.hu)return Je().add(a.key);{let o=Je();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function nw(r){const e=Ue(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eO.bind(null,e),e.Pu.H_=jN.bind(null,e.eventManager),e.Pu.yu=qN.bind(null,e.eventManager),e}function sO(r){const e=Ue(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nO.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return cN(this.persistence,new oN,e.initialUser,this.serializer)}Cu(e){return new xS(Qp.mi,this.serializer)}Du(e){return new yN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class oO extends Hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ft(this.persistence.referenceDelegate instanceof zh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new K2(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new xS(a=>zh.mi(a,n),this.serializer)}}class hp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>fT(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=iO.bind(null,this.syncEngine),await zN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HN}()}createDatastore(e){const n=uf(e.databaseInfo.databaseId),a=function(u){return new SN(u)}(e.databaseInfo);return function(u,f,m,p){return new bN(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,f,m){return new CN(a,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>fT(this.syncEngine,n,0),function(){return sT.v()?new sT:new _N}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,v){const S=new YN(o,u,f,m,p,g);return v&&(S.gu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const a=Ue(n);ye(Ps,"RemoteStore shutting down."),a.Ea.add(5),await xu(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hp.provider={build:()=>new hp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Bi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="FirestoreClient";class lO{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=En.UNAUTHENTICATED,this.clientId=xp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{ye(Ba,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(ye(Ba,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=ng(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function xm(r,e){r.asyncQueue.verifyOperationInProgress(),ye(Ba,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await LS(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function mT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await uO(r);ye(Ba,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(a=>lT(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>lT(e.remoteStore,o)),r._onlineComponents=e}async function uO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ye(Ba,"Using user provided OfflineComponentProvider");try{await xm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ho("Error using user provided cache. Falling back to memory cache: "+n),await xm(r,new Hh)}}else ye(Ba,"Using default OfflineComponentProvider"),await xm(r,new oO(void 0));return r._offlineComponents}async function iw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ye(Ba,"Using user provided OnlineComponentProvider"),await mT(r,r._uninitializedComponentsProvider._online)):(ye(Ba,"Using default OnlineComponentProvider"),await mT(r,new hp))),r._onlineComponents}function cO(r){return iw(r).then(e=>e.syncEngine)}async function aw(r){const e=await iw(r),n=e.eventManager;return n.onListen=QN.bind(null,e.syncEngine),n.onUnlisten=WN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$N.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ZN.bind(null,e.syncEngine),n}function hO(r,e,n={}){const a=new Li;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const v=new rw({next:w=>{v.Nu(),f.enqueueAndForget(()=>YS(u,S));const N=w.docs.has(m);!N&&w.fromCache?g.reject(new Re(se.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&w.fromCache&&p&&p.source==="server"?g.reject(new Re(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),S=new QS(jp(m.path),v,{includeMetadataChanges:!0,qa:!0});return KS(u,S)}(await aw(r),r.asyncQueue,e,n,a)),a.promise}function fO(r,e,n={}){const a=new Li;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const v=new rw({next:w=>{v.Nu(),f.enqueueAndForget(()=>YS(u,S)),w.fromCache&&p.source==="server"?g.reject(new Re(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),S=new QS(m,v,{includeMetadataChanges:!0,qa:!0});return KS(u,S)}(await aw(r),r.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="firestore.googleapis.com",gT=!0;class yT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Re(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ow,this.ssl=gT}else this.host=e.host,this.ssl=e.ssl??gT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<F2)throw new Re(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ID("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sw(e.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Re(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Re(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Re(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ff{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new yD;switch(a.type){case"firstParty":return new TD(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Re(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=pT.get(n);a&&(ye("ComponentProvider","Removing Datastore"),pT.delete(n),a.terminate())}(this),Promise.resolve()}}function dO(r,e,n,a={}){r=Ms(r,ff);const o=ja(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(Cp(`https://${m}`),Dp("Firestore",!0)),u.host!==ow&&u.host!==m&&Ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:a};if(!Cs(p,f)&&(r._setSettings(p),a.mockUserToken)){let g,v;if(typeof a.mockUserToken=="string")g=a.mockUserToken,v=En.MOCK_USER;else{g=T0(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new Re(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new En(S)}r._authCredentials=new _D(new K0(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new df(this.firestore,e,this._query)}}class $t{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $t(this.firestore,e,this._key)}toJSON(){return{type:$t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(Mu(n,$t._jsonSchema))return new $t(e,a||null,new Ce(Rt.fromString(n.referencePath)))}}$t._jsonSchemaVersion="firestore/documentReference/1.0",$t._jsonSchema={type:jt("string",$t._jsonSchemaVersion),referencePath:jt("string")};class Ma extends df{constructor(e,n,a){super(e,n,jp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new Ce(e))}withConverter(e){return new Ma(this.firestore,e,this._path)}}function mO(r,e,...n){if(r=Pn(r),Y0("collection","path",e),r instanceof ff){const a=Rt.fromString(e,...n);return OE(a),new Ma(r,null,a)}{if(!(r instanceof $t||r instanceof Ma))throw new Re(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Rt.fromString(e,...n));return OE(a),new Ma(r.firestore,null,a)}}function _T(r,e,...n){if(r=Pn(r),arguments.length===1&&(e=xp.newId()),Y0("doc","path",e),r instanceof ff){const a=Rt.fromString(e,...n);return NE(a),new $t(r,null,new Ce(a))}{if(!(r instanceof $t||r instanceof Ma))throw new Re(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Rt.fromString(e,...n));return NE(a),new $t(r.firestore,r instanceof Ma?r.converter:null,new Ce(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="AsyncQueue";class ET{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new US(this,"async_queue_retry"),this._c=()=>{const a=Vm();a&&ye(vT,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=Vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Li;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$o(e))throw e;ye(vT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(a=>{throw this.nc=a,this.rc=!1,Bi("INTERNAL UNHANDLED ERROR: ",TT(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=tg.createAndSchedule(this,e,n,a,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Pe(47125,{Pc:TT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function TT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class mf extends ff{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new ET,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ET(e),this._firestoreClient=void 0,await e}}}function pO(r,e){const n=typeof r=="object"?r:Mp(),a=typeof r=="string"?r:Mh,o=Zh(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=_0("firestore");u&&dO(o,...u)}return o}function sg(r){if(r._terminated)throw new Re(se.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||gO(r),r._firestoreClient}function gO(r){const e=r._freezeSettings(),n=function(o,u,f,m){return new UD(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,sw(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new lO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vr(mn.fromBase64String(e))}catch(n){throw new Re(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vr(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mu(e,vr._jsonSchema))return vr.fromBase64String(e.bytes)}}vr._jsonSchemaVersion="firestore/bytes/1.0",vr._jsonSchema={type:jt("string",vr._jsonSchemaVersion),bytes:jt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Re(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Re(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Re(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ti._jsonSchemaVersion}}static fromJSON(e){if(Mu(e,ti._jsonSchema))return new ti(e.latitude,e.longitude)}}ti._jsonSchemaVersion="firestore/geoPoint/1.0",ti._jsonSchema={type:jt("string",ti._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mu(e,ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ni(e.vectorValues);throw new Re(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:jt("string",ni._jsonSchemaVersion),vectorValues:jt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=/^__.*__$/;class _O{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Hs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pu(e,this.data,n,this.fieldTransforms)}}function uw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{Ac:r})}}class lg{constructor(e,n,a,o,u,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new lg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(uw(this.Ac)&&yO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class vO{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||uf(e)}Cc(e,n,a,o=!1){return new lg({Ac:e,methodName:n,Dc:a,path:dn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function EO(r){const e=r._freezeSettings(),n=uf(r._databaseId);return new vO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function TO(r,e,n,a,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);dw("Data must be an object, but it was:",f,a);const m=hw(a,f);let p,g;if(u.merge)p=new Dr(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const S of u.mergeFields){const w=SO(e,S,n);if(!f.contains(w))throw new Re(se.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);AO(v,w)||v.push(w)}p=new Dr(v),g=f.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,g=f.fieldTransforms;return new _O(new _r(m),p,g)}function cw(r,e){if(fw(r=Pn(r)))return dw("Unsupported field value:",e,r),hw(r,e);if(r instanceof lw)return function(a,o){if(!uw(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(a,o){const u=[];let f=0;for(const m of a){let p=cw(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(a,o){if((a=Pn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return l2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=bt.fromDate(a);return{timestampValue:Uh(o.serializer,u)}}if(a instanceof bt){const u=new bt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Uh(o.serializer,u)}}if(a instanceof ti)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof vr)return{bytesValue:IS(o.serializer,a._byteString)};if(a instanceof $t){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Kp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ni)return function(f,m){return{mapValue:{fields:{[nS]:{stringValue:rS},[Ph]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return qp(m.serializer,g)})}}}}}}(a,o);throw o.Sc(`Unsupported field value: ${Lp(a)}`)}(r,e)}function hw(r,e){const n={};return X0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zs(r,(a,o)=>{const u=cw(o,e.mc(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function fw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof bt||r instanceof ti||r instanceof vr||r instanceof $t||r instanceof lw||r instanceof ni)}function dw(r,e,n){if(!fw(n)||!Q0(n)){const a=Lp(n);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function SO(r,e,n){if((e=Pn(e))instanceof og)return e._internalPath;if(typeof e=="string")return mw(r,e);throw jh("Field path arguments must be of type string or ",r,!1,void 0,n)}const wO=new RegExp("[~\\*/\\[\\]]");function mw(r,e,n){if(e.search(wO)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new og(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function jh(r,e,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${a}`),f&&(p+=` in document ${o}`),p+=")"),new Re(se.INVALID_ARGUMENT,m+r+p)}function AO(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RO extends pw{data(){return super.data()}}function gw(r,e){return typeof e=="string"?mw(r,e):e instanceof og?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Re(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class IO{convertValue(e,n="none"){switch(Ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ka(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return zs(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){const n=e.fields?.[Ph].arrayValue?.values?.map(a=>xt(a.doubleValue));return new ni(n)}convertGeoPoint(e){return new ti(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=tf(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Eu(e));default:return null}}convertTimestamp(e){const n=La(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=Rt.fromString(e);ft(PS(a),9688,{name:e});const o=new Tu(a.get(1),a.get(3)),u=new Ce(a.popFirst(5));return o.isEqual(n)||Bi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(r,e,n){let a;return a=r?r.toFirestore(e):e,a}class lu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Is extends pw{constructor(e,n,a,o,u,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(gw("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Is._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Is._jsonSchemaVersion="firestore/documentSnapshot/1.0",Is._jsonSchema={type:jt("string",Is._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class Th extends Is{data(e={}){return super.data(e)}}class ko{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new lu(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new Th(this._firestore,this._userDataWriter,a.key,a,new lu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Re(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new lu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new lu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),v=f.indexOf(m.doc.key)),{type:DO(m.type),doc:p,oldIndex:g,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ko._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function DO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(r){r=Ms(r,$t);const e=Ms(r.firestore,mf);return hO(sg(e),r._key).then(n=>VO(e,r,n))}ko._jsonSchemaVersion="firestore/querySnapshot/1.0",ko._jsonSchema={type:jt("string",ko._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class yw extends IO{constructor(e){super(),this.firestore=e}convertBytes(e){return new vr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,n)}}function OO(r){r=Ms(r,df);const e=Ms(r.firestore,mf),n=sg(e),a=new yw(e);return bO(r._query),fO(n,r._query).then(o=>new ko(e,a,r,o))}function MO(r,e,n){r=Ms(r,$t);const a=Ms(r.firestore,mf),o=CO(r.converter,e);return PO(a,[TO(EO(a),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ki.none())])}function PO(r,e){return function(a,o){const u=new Li;return a.asyncQueue.enqueueAndForget(async()=>JN(await cO(a),o,u)),u.promise}(sg(r),e)}function VO(r,e,n){const a=n.docs.get(e._key),o=new yw(r);return new Is(r,o,e._key,a,new lu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Yo=o})(Us),Ds(new Va("firestore",(a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new mf(new vD(a.getProvider("auth-internal")),new SD(f,a.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Re(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tu(g.options.projectId,v)}(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Zr(bE,IE,e),Zr(bE,IE,"esm2020")})();var xO="firebase",LO="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zr(xO,LO,"app");function _w(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kO=_w,vw=new Nu("auth","Firebase",_w());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new Np("@firebase/auth");function UO(r,...e){qh.logLevel<=We.WARN&&qh.warn(`Auth (${Us}): ${r}`,...e)}function Sh(r,...e){qh.logLevel<=We.ERROR&&qh.error(`Auth (${Us}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(r,...e){throw cg(r,...e)}function Or(r,...e){return cg(r,...e)}function ug(r,e,n){const a={...kO(),[e]:n};return new Nu("auth","Firebase",a).create(e,{appName:r.name})}function Ui(r){return ug(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zO(r,e,n){const a=n;if(!(e instanceof a))throw a.name!==e.constructor.name&&Tr(r,"argument-error"),ug(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cg(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return vw.create(r,...e)}function Me(r,e,...n){if(!r)throw cg(e,...n)}function Vi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Sh(e),new Error(e)}function ji(r,e){r||Vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(){return typeof self<"u"&&self.location?.href||""}function BO(){return ST()==="http:"||ST()==="https:"}function ST(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BO()||W1()||"connection"in navigator)?navigator.onLine:!0}function jO(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n){this.shortDelay=e,this.longDelay=n,ji(n>e,"Short delay should be less than long delay!"),this.isMobile=Q1()||Z1()}get(){return HO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(r,e){ji(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GO=new ku(3e4,6e4);function qa(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Fa(r,e,n,a,o={}){return Tw(r,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const m=Ou({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return X1()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&ja(r.emulatorConfig.host)&&(g.credentials="include"),Ew.fetch()(await Sw(r,r.config.apiHost,n,m),g)})}async function Tw(r,e,n){r._canInitEmulator=!1;const a={...qO,...e};try{const o=new YO(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw hh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw hh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw hh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw hh(r,"user-disabled",f);const v=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ug(r,v,g);Tr(r,v)}}catch(o){if(o instanceof oi)throw o;Tr(r,"network-request-failed",{message:String(o)})}}async function Uu(r,e,n,a,o={}){const u=await Fa(r,e,n,a,o);return"mfaPendingCredential"in u&&Tr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Sw(r,e,n,a){const o=`${e}${n}?${a}`,u=r,f=u.config.emulator?hg(r.config,o):`${r.config.apiScheme}://${o}`;return FO.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function KO(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Or(this.auth,"network-request-failed")),GO.get())})}}function hh(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=Or(r,e,a);return o.customData._tokenResponse=n,o}function wT(r){return r!==void 0&&r.enterprise!==void 0}class QO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return KO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $O(r,e){return Fa(r,"GET","/v2/recaptchaConfig",qa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XO(r,e){return Fa(r,"POST","/v1/accounts:delete",e)}async function Fh(r,e){return Fa(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WO(r,e=!1){const n=Pn(r),a=await n.getIdToken(e),o=fg(a);Me(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:a,authTime:mu(Lm(o.auth_time)),issuedAtTime:mu(Lm(o.iat)),expirationTime:mu(Lm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Lm(r){return Number(r)*1e3}function fg(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=g0(n);return o?JSON.parse(o):(Sh("Failed to decode base64 JWT payload"),null)}catch(o){return Sh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function AT(r){const e=fg(r);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ru(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof oi&&ZO(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function ZO({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mu(this.lastLoginAt),this.creationTime=mu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gh(r){const e=r.auth,n=await r.getIdToken(),a=await Ru(r,Fh(e,{idToken:n}));Me(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?ww(o.providerUserInfo):[],f=tM(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new dp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function eM(r){const e=Pn(r);await Gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tM(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function ww(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nM(r,e){const n=await Tw(r,{},async()=>{const a=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await Sw(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return r.emulatorConfig&&ja(r.emulatorConfig.host)&&(p.credentials="include"),Ew.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rM(r,e){return Fa(r,"POST","/v2/accounts:revokeToken",qa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=AT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await nM(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,f=new Uo;return a&&(Me(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(Me(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Me(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return Vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(r,e){Me(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Nr{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new JO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new dp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ru(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return WO(this,e)}reload(){return eM(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Nr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Gh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(Ui(this.auth));const e=await this.getIdToken();return await Ru(this,XO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:N,providerData:U,stsTokenManager:$}=n;Me(S&&$,e,"internal-error");const G=Uo.fromJSON(this.name,$);Me(typeof S=="string",e,"internal-error"),Sa(a,e.name),Sa(o,e.name),Me(typeof w=="boolean",e,"internal-error"),Me(typeof N=="boolean",e,"internal-error"),Sa(u,e.name),Sa(f,e.name),Sa(m,e.name),Sa(p,e.name),Sa(g,e.name),Sa(v,e.name);const W=new Nr({uid:S,auth:e,email:o,emailVerified:w,displayName:a,isAnonymous:N,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:G,createdAt:g,lastLoginAt:v});return U&&Array.isArray(U)&&(W.providerData=U.map(fe=>({...fe}))),p&&(W._redirectEventId=p),W}static async _fromIdTokenResponse(e,n,a=!1){const o=new Uo;o.updateFromServerResponse(n);const u=new Nr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Gh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Me(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ww(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Uo;m.updateFromIdToken(a);const p=new Nr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new dp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=new Map;function xi(r){ji(r instanceof Function,"Expected a class definition");let e=RT.get(r);return e?(ji(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,RT.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Aw.type="NONE";const bT=Aw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(r,e,n){return`firebase:${r}:${e}:${n}`}class zo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=wh(this.userKey,o.apiKey,u),this.fullPersistenceKey=wh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Fh(this.auth,{idToken:e}).catch(()=>{});return n?Nr._fromGetAccountInfoResponse(this.auth,n,e):null}return Nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new zo(xi(bT),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||xi(bT);const f=wh(a,e.config.apiKey,e.name);let m=null;for(const g of n)try{const v=await g._get(f);if(v){let S;if(typeof v=="string"){const w=await Fh(e,{idToken:v}).catch(()=>{});if(!w)break;S=await Nr._fromGetAccountInfoResponse(e,w,v)}else S=Nr._fromJSON(e,v);g!==u&&(m=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new zo(u,e,a):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new zo(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Cw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Rw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Nw(e))return"Blackberry";if(Ow(e))return"Webos";if(bw(e))return"Safari";if((e.includes("chrome/")||Iw(e))&&!e.includes("edge/"))return"Chrome";if(Dw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function Rw(r=Sn()){return/firefox\//i.test(r)}function bw(r=Sn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Iw(r=Sn()){return/crios\//i.test(r)}function Cw(r=Sn()){return/iemobile/i.test(r)}function Dw(r=Sn()){return/android/i.test(r)}function Nw(r=Sn()){return/blackberry/i.test(r)}function Ow(r=Sn()){return/webos/i.test(r)}function dg(r=Sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function iM(r=Sn()){return dg(r)&&!!window.navigator?.standalone}function aM(){return J1()&&document.documentMode===10}function Mw(r=Sn()){return dg(r)||Dw(r)||Ow(r)||Nw(r)||/windows phone/i.test(r)||Cw(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(r,e=[]){let n;switch(r){case"Browser":n=IT(Sn());break;case"Worker":n=`${IT(Sn())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Us}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(r,e={}){return Fa(r,"GET","/v2/passwordPolicy",qa(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=6;class uM{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CT(this),this.idTokenSubscription=new CT(this),this.beforeStateQueue=new sM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await zo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Fh(this,{idToken:e}),a=await Nr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Bn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bn(this.app))return Promise.reject(Ui(this));const n=e?Pn(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(Ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bn(this.app)?Promise.reject(Ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oM(this),n=new uM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await rM(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xi(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await zo.create(this,[xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&UO(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ga(r){return Pn(r)}class CT{constructor(e){this.auth=e,this.observer=null,this.addObserver=oI(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hM(r){pf=r}function Vw(r){return pf.loadJS(r)}function fM(){return pf.recaptchaEnterpriseScript}function dM(){return pf.gapiScript}function mM(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class pM{constructor(){this.enterprise=new gM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yM="recaptcha-enterprise",xw="NO_RECAPTCHA";class _M{constructor(e){this.type=yM,this.auth=Ga(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{$O(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new QO(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;wT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(xw)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pM().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{a(this.auth).then(m=>{if(!n&&wT(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=fM();p.length!==0&&(p+=m),Vw(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function DT(r,e,n,a=!1,o=!1){const u=new _M(r);let f;if(o)f=xw;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function mp(r,e,n,a,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await DT(r,e,n,n==="getOobCode");return a(r,u)}else return a(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await DT(r,e,n,n==="getOobCode");return a(r,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(r,e){const n=Zh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Cs(u,e??{}))return o;Tr(o,"already-initialized")}return n.initialize({options:e})}function EM(r,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(xi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function TM(r,e,n){const a=Ga(r);Me(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=Lw(e),{host:f,port:m}=SM(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},v=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Me(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Me(Cs(g,a.config.emulator)&&Cs(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,ja(f)?(Cp(`${u}//${f}${p}`),Dp("Auth",!0)):wM()}function Lw(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function SM(r){const e=Lw(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:NT(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:NT(f)}}}function NT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function wM(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vi("not implemented")}_getIdTokenResponse(e){return Vi("not implemented")}_linkToIdToken(e,n){return Vi("not implemented")}_getReauthenticationResolver(e){return Vi("not implemented")}}async function AM(r,e){return Fa(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RM(r,e){return Uu(r,"POST","/v1/accounts:signInWithPassword",qa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(r,e){return Uu(r,"POST","/v1/accounts:signInWithEmailLink",qa(r,e))}async function IM(r,e){return Uu(r,"POST","/v1/accounts:signInWithEmailLink",qa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends mg{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new bu(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new bu(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mp(e,n,"signInWithPassword",RM);case"emailLink":return bM(e,{email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mp(e,a,"signUpPassword",AM);case"emailLink":return IM(e,{idToken:n,email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(r,e){return Uu(r,"POST","/v1/accounts:signInWithIdp",qa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM="http://localhost";class Vs extends mg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=n;if(!a||!o)return null;const f=new Vs(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Bo(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Bo(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bo(e,n)}buildRequest(){const e={requestUri:CM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ou(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NM(r){const e=ru(iu(r)).link,n=e?ru(iu(e)).deep_link_id:null,a=ru(iu(r)).deep_link_id;return(a?ru(iu(a)).link:null)||a||n||e||r}class pg{constructor(e){const n=ru(iu(e)),a=n.apiKey??null,o=n.oobCode??null,u=DM(n.mode??null);Me(a&&o&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=NM(e);try{return new pg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.providerId=Wo.PROVIDER_ID}static credential(e,n){return bu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=pg.parseLink(n);return Me(a,"argument-error"),bu._fromEmailAndCode(e,a.code,a.tenantId)}}Wo.PROVIDER_ID="password";Wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends gg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends zu{constructor(){super("facebook.com")}static credential(e){return Vs._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ra.credential(e.oauthAccessToken)}catch{return null}}}Ra.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ra.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vs._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Pi.credential(n,a)}catch{return null}}}Pi.GOOGLE_SIGN_IN_METHOD="google.com";Pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends zu{constructor(){super("github.com")}static credential(e){return Vs._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ba.credential(e.oauthAccessToken)}catch{return null}}}ba.GITHUB_SIGN_IN_METHOD="github.com";ba.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends zu{constructor(){super("twitter.com")}static credential(e,n){return Vs._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Ia.credential(n,a)}catch{return null}}}Ia.TWITTER_SIGN_IN_METHOD="twitter.com";Ia.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OM(r,e){return Uu(r,"POST","/v1/accounts:signUp",qa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await Nr._fromIdTokenResponse(e,a,o),f=OT(a);return new xs({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=OT(a);return new xs({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function OT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends oi{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Kh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Kh(e,n,a,o)}}function kw(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Kh._fromErrorAndOperation(r,u,e,a):u})}async function MM(r,e,n=!1){const a=await Ru(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return xs._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(r,e,n=!1){const{auth:a}=r;if(Bn(a.app))return Promise.reject(Ui(a));const o="reauthenticate";try{const u=await Ru(r,kw(a,o,e,r),n);Me(u.idToken,a,"internal-error");const f=fg(u.idToken);Me(f,a,"internal-error");const{sub:m}=f;return Me(r.uid===m,a,"user-mismatch"),xs._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Tr(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uw(r,e,n=!1){if(Bn(r.app))return Promise.reject(Ui(r));const a="signIn",o=await kw(r,a,e),u=await xs._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}async function VM(r,e){return Uw(Ga(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zw(r){const e=Ga(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xM(r,e,n){if(Bn(r.app))return Promise.reject(Ui(r));const a=Ga(r),f=await mp(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",OM).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&zw(r),p}),m=await xs._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(m.user),m}function LM(r,e,n){return Bn(r.app)?Promise.reject(Ui(r)):VM(Pn(r),Wo.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&zw(r),a})}function kM(r,e,n,a){return Pn(r).onIdTokenChanged(e,n,a)}function UM(r,e,n){return Pn(r).beforeAuthStateChanged(e,n)}const Yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yh,"1"),this.storage.removeItem(Yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=1e3,BM=10;class Hw extends Bw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Mw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);aM()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,BM):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},zM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hw.type="LOCAL";const HM=Hw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw extends Bw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jw.type="SESSION";const qw=jw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new gf(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await jM(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=yg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function FM(r){ri().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function GM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KM(){return navigator?.serviceWorker?.controller||null}function YM(){return Fw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="firebaseLocalStorageDb",QM=1,Qh="firebaseLocalStorage",Kw="fbase_key";class Bu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yf(r,e){return r.transaction([Qh],e?"readwrite":"readonly").objectStore(Qh)}function $M(){const r=indexedDB.deleteDatabase(Gw);return new Bu(r).toPromise()}function pp(){const r=indexedDB.open(Gw,QM);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Qh,{keyPath:Kw})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Qh)?e(a):(a.close(),await $M(),e(await pp()))})})}async function MT(r,e,n){const a=yf(r,!0).put({[Kw]:e,value:n});return new Bu(a).toPromise()}async function XM(r,e){const n=yf(r,!1).get(e),a=await new Bu(n).toPromise();return a===void 0?null:a.value}function PT(r,e){const n=yf(r,!0).delete(e);return new Bu(n).toPromise()}const WM=800,ZM=3;class Yw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>ZM)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Fw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gf._getInstance(YM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await GM(),!this.activeServiceWorker)return;this.sender=new qM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pp();return await MT(e,Yh,"1"),await PT(e,Yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>MT(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>XM(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>PT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=yf(o,!1).getAll();return new Bu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Yw.type="LOCAL";const JM=Yw;new ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(r,e){return e?xi(e):(Me(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g extends mg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function eP(r){return Uw(r.auth,new _g(r),r.bypassAuthState)}function tP(r){const{auth:e,user:n}=r;return Me(n,e,"internal-error"),PM(n,new _g(r),r.bypassAuthState)}async function nP(r){const{auth:e,user:n}=r;return Me(n,e,"internal-error"),MM(n,new _g(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eP;case"linkViaPopup":case"linkViaRedirect":return nP;case"reauthViaPopup":case"reauthViaRedirect":return tP;default:Tr(this.auth,"internal-error")}}resolve(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=new ku(2e3,1e4);async function iP(r,e,n){if(Bn(r.app))return Promise.reject(Or(r,"operation-not-supported-in-this-environment"));const a=Ga(r);zO(r,e,gg);const o=Qw(a,n);return new Rs(a,"signInViaPopup",e,o).executeNotNull()}class Rs extends $w{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Rs.currentPopupAction&&Rs.currentPopupAction.cancel(),Rs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const e=yg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rP.get())};e()}}Rs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="pendingRedirect",Ah=new Map;class sP extends $w{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Ah.get(this.auth._key());if(!e){try{const a=await oP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Ah.set(this.auth._key(),e)}return this.bypassAuthState||Ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oP(r,e){const n=cP(e),a=uP(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function lP(r,e){Ah.set(r._key(),e)}function uP(r){return xi(r._redirectPersistence)}function cP(r){return wh(aP,r.config.apiKey,r.name)}async function hP(r,e,n=!1){if(Bn(r.app))return Promise.reject(Ui(r));const a=Ga(r),o=Qw(a,e),f=await new sP(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=600*1e3;class dP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Xw(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Or(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fP&&this.cachedEventUids.clear(),this.cachedEventUids.has(VT(e))}saveEventToCache(e){this.cachedEventUids.add(VT(e)),this.lastProcessedEventTime=Date.now()}}function VT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Xw({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function mP(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pP(r,e={}){return Fa(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yP=/^https?/;async function _P(r){if(r.config.emulator)return;const{authorizedDomains:e}=await pP(r);for(const n of e)try{if(vP(n))return}catch{}Tr(r,"unauthorized-domain")}function vP(r){const e=fp(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!yP.test(n))return!1;if(gP.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=new ku(3e4,6e4);function xT(){const r=ri().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function TP(r){return new Promise((e,n)=>{function a(){xT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xT(),n(Or(r,"network-request-failed"))},timeout:EP.get()})}if(ri().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ri().gapi?.load)a();else{const o=mM("iframefcb");return ri()[o]=()=>{gapi.load?a():n(Or(r,"network-request-failed"))},Vw(`${dM()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function SP(r){return Rh=Rh||TP(r),Rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=new ku(5e3,15e3),AP="__/auth/iframe",RP="emulator/auth/iframe",bP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CP(r){const e=r.config;Me(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?hg(e,RP):`https://${r.config.authDomain}/${AP}`,a={apiKey:e.apiKey,appName:r.name,v:Us},o=IP.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${Ou(a).slice(1)}`}async function DP(r){const e=await SP(r),n=ri().gapi;return Me(n,r,"internal-error"),e.open({where:document.body,url:CP(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bP,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=Or(r,"network-request-failed"),m=ri().setTimeout(()=>{u(f)},wP.get());function p(){ri().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OP=500,MP=600,PP="_blank",VP="http://localhost";class LT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xP(r,e,n,a=OP,o=MP){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p={...NP,width:a.toString(),height:o.toString(),top:u,left:f},g=Sn().toLowerCase();n&&(m=Iw(g)?PP:n),Rw(g)&&(e=e||VP,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[N,U])=>`${w}${N}=${U},`,"");if(iM(g)&&m!=="_self")return LP(e||"",m),new LT(null);const S=window.open(e||"",m,v);Me(S,r,"popup-blocked");try{S.focus()}catch{}return new LT(S)}function LP(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="__/auth/handler",UP="emulator/auth/handler",zP=encodeURIComponent("fac");async function kT(r,e,n,a,o,u){Me(r.config.authDomain,r,"auth-domain-config-required"),Me(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:Us,eventId:o};if(e instanceof gg){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",sI(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,S]of Object.entries({}))f[v]=S}if(e instanceof zu){const v=e.getScopes().filter(S=>S!=="");v.length>0&&(f.scopes=v.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await r._getAppCheckToken(),g=p?`#${zP}=${encodeURIComponent(p)}`:"";return`${BP(r)}?${Ou(m).slice(1)}${g}`}function BP({config:r}){return r.emulator?hg(r,UP):`https://${r.authDomain}/${kP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="webStorageSupport";class HP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qw,this._completeRedirectFn=hP,this._overrideRedirectResult=lP}async _openPopup(e,n,a,o){ji(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await kT(e,n,a,fp(),o);return xP(e,u,yg())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await kT(e,n,a,fp(),o);return FM(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ji(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await DP(e),a=new dP(e);return n.register("authEvent",o=>(Me(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(km,{type:km},o=>{const u=o?.[0]?.[km];u!==void 0&&n(!!u),Tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_P(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Mw()||bw()||dg()}}const jP=HP;var UT="@firebase/auth",zT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GP(r){Ds(new Va("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;Me(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pw(r)},g=new cM(a,o,u,p);return EM(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Ds(new Va("auth-internal",e=>{const n=Ga(e.getProvider("auth").getImmediate());return(a=>new qP(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zr(UT,zT,FP(r)),Zr(UT,zT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=300,YP=E0("authIdTokenMaxAge")||KP;let BT=null;const QP=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>YP)return;const o=n?.token;BT!==o&&(BT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function $P(r=Mp()){const e=Zh(r,"auth");if(e.isInitialized())return e.getImmediate();const n=vM(r,{popupRedirectResolver:jP,persistence:[JM,HM,qw]}),a=E0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=QP(u.toString());UM(n,f,()=>f(n.currentUser)),kM(n,m=>f(m))}}const o=y0("auth");return o&&TM(n,`http://${o}`),n}function XP(){return document.getElementsByTagName("head")?.[0]??document}hM({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=Or("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",XP().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GP("Browser");const WP={apiKey:"AIzaSyBuJhHXA4rtD1w3cHXtvOPgnDhcWsRfrtU",authDomain:"certchamps-a7527.firebaseapp.com",databaseURL:"https://certchamps-a7527-default-rtdb.firebaseio.com",projectId:"certchamps-a7527",storageBucket:"certchamps-a7527.firebasestorage.app",messagingSenderId:"433584407503",appId:"1:433584407503:web:dabeb6a07906ae0d6ac8ba",measurementId:"G-7SKFDGYV8J"},vg=A0(WP),Um=$P(vg),zm=pO(vg);U0(vg);const ZP=()=>{const{setUser:r}=Z.useContext(yp),e=U0(),n=s0(),a=async(p,g,v)=>{const S=await wE(AE(e,"crown.png"));r({uid:p,username:g,email:v,picture:S,friends:[],pendingFriends:[],notifications:[],rank:0,xp:0,questionStreak:0,savedQuestions:[],decks:[]}),await MO(_T(zm,"user-data",p),{uid:p,username:g,email:v,picture:"crown.png",friends:[],pendingFriends:[],notifications:[],rank:0,xp:0,questionStreak:0,savedQuestions:[]}),n("/questions")},o=async(p,g,v)=>{try{const S=await NO(_T(zm,"user-data",p)),w=mO(zm,"user-data",p,"decks"),U=(await OO(w)).docs.map($=>({id:$.id,...$.data()}));if(S.exists()){const $=await wE(AE(e,S.data().picture));r({uid:S.id,username:S.data().username,email:S.data().email,picture:$,friends:S.data().friends,pendingFriends:S.data().pendingFriends,notifications:S.data().notifications,rank:S.data().rank,xp:S.data().xp,questionStreak:S.data().questionStreak,savedQuestions:S.data().savedQuestions,decks:U})}else a(p,g,v)}catch(S){console.log(S)}n("/questions")};return{loginWithGoogle:async()=>{const p=new Pi;try{const v=(await iP(Um,p)).user;v&&v.email&&o(v.uid,v.displayName??"newUser",v.email)}catch(g){console.log(g)}},signUpWithEmail:async(p,g,v)=>{try{const w=(await xM(Um,g,v)).user;w&&a(w.uid,p,g)}catch(S){console.log(S)}},signInWithEmail:async(p,g)=>{try{const S=(await LM(Um,p,g)).user;S&&o(S.uid,"",p)}catch(v){console.log(v)}},userSetup:o}};function JP(){const{signInWithEmail:r,signUpWithEmail:e,loginWithGoogle:n}=ZP(),[a,o]=Z.useState(),[u,f]=Z.useState(),[m,p]=Z.useState();return Ye.jsx("div",{className:" h-full flex justify-center items-center ",children:Ye.jsxs("div",{className:" h-11/12 w-72 shadow-xl rounded-out border-light-grey border",children:[Ye.jsx("img",{src:L1,className:"w-34 m-auto"}),Ye.jsx("h1",{className:"txt-heading-colour text-center",children:"Log In"}),Ye.jsx("input",{type:"email",placeholder:"email",className:"txtbox mx-auto my-2 w-9/12",onChange:g=>{o(g)}}),Ye.jsx("input",{type:"password",placeholder:"password",className:"txtbox mx-auto my-2 w-9/12",onChange:g=>{f(g)}}),Ye.jsx("input",{type:"text",placeholder:"username",className:"txtbox mx-auto my-2 w-9/12",onChange:g=>{p(g)}}),Ye.jsx("p",{className:"blue-btn mx-auto my-2 w-9/12 text-center",onClick:()=>{r(a??"",u??"")},children:"Login"}),Ye.jsx("p",{className:"blue-btn mx-auto my-2 w-9/12 text-center",onClick:()=>{e(a??"",m??"",u??"")},children:"Sign Up"}),Ye.jsx("p",{className:"red-btn mx-auto my-2 w-9/12 text-center",onClick:()=>{n()},children:"Google"})]})})}function eV(){const{user:r}=Z.useContext(yp);return Ye.jsxs("div",{children:[Ye.jsx("p",{children:"Questions"}),Ye.jsx("p",{className:"txt-heading-colour",children:"Default Text"}),Ye.jsx("p",{className:"txt-heading",children:"Default Text"}),Ye.jsx("p",{className:"txt-bold",children:"Default Text"}),Ye.jsx("p",{className:"txt",children:"Default Text"}),Ye.jsx("p",{className:"txt-sub",children:"Default Text"}),Ye.jsx("input",{type:"text",className:"txtbox txt",placeholder:"Default Text"}),Ye.jsx("button",{className:" block blue-btn m-2 ",children:Ye.jsx("p",{children:"Default Text"})}),Ye.jsx("button",{className:" block plain-btn m-2 ",children:Ye.jsx("p",{children:"Default Text"})}),Ye.jsx("button",{className:" block red-btn m-2",children:Ye.jsx("p",{children:"Default Text"})}),Ye.jsx("p",{children:r.email}),Ye.jsx("p",{children:r.uid}),Ye.jsx("p",{children:r.username})]})}function tV(){return Ye.jsx("div",{children:Ye.jsx("p",{children:"Social"})})}const nV=S1([{path:"/",element:Ye.jsx(JP,{})},{path:"/questions",element:Ye.jsx(eV,{})},{path:"/social",element:Ye.jsx(tV,{})}]);function rV(){return Ye.jsx(x1,{router:nV})}function iV(){const[r,e]=Z.useState();return Ye.jsx(yp.Provider,{value:{user:r,setUser:e},children:Ye.jsx("div",{className:" bg-white dark:bg-black h-screen w-screen p-5",children:Ye.jsx(rV,{})})})}DR.createRoot(document.getElementById("root")).render(Ye.jsx(Z.StrictMode,{children:Ye.jsx(iV,{})}));
